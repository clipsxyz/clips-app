function ux(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();const dx="modulepreload",fx=function(e){return"/"+e},If={},px=function(t,n,r){if(!n||n.length===0)return t();const s=document.getElementsByTagName("link");return Promise.all(n.map(i=>{if(i=fx(i),i in If)return;If[i]=!0;const o=i.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let f=s.length-1;f>=0;f--){const d=s[f];if(d.href===i&&(!o||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${a}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":dx,o||(u.as="script",u.crossOrigin=""),u.href=i,document.head.appendChild(u),o)return new Promise((f,d)=>{u.addEventListener("load",f),u.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})};function hx(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var xm={exports:{}},Pa={},_m={exports:{}},K={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ai=Symbol.for("react.element"),mx=Symbol.for("react.portal"),gx=Symbol.for("react.fragment"),yx=Symbol.for("react.strict_mode"),vx=Symbol.for("react.profiler"),xx=Symbol.for("react.provider"),_x=Symbol.for("react.context"),wx=Symbol.for("react.forward_ref"),Sx=Symbol.for("react.suspense"),kx=Symbol.for("react.memo"),bx=Symbol.for("react.lazy"),jf=Symbol.iterator;function Ex(e){return e===null||typeof e!="object"?null:(e=jf&&e[jf]||e["@@iterator"],typeof e=="function"?e:null)}var wm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Sm=Object.assign,km={};function Cs(e,t,n){this.props=e,this.context=t,this.refs=km,this.updater=n||wm}Cs.prototype.isReactComponent={};Cs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Cs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function bm(){}bm.prototype=Cs.prototype;function Bu(e,t,n){this.props=e,this.context=t,this.refs=km,this.updater=n||wm}var Hu=Bu.prototype=new bm;Hu.constructor=Bu;Sm(Hu,Cs.prototype);Hu.isPureReactComponent=!0;var Rf=Array.isArray,Em=Object.prototype.hasOwnProperty,Wu={current:null},Cm={key:!0,ref:!0,__self:!0,__source:!0};function Tm(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Em.call(t,r)&&!Cm.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Ai,type:e,key:i,ref:o,props:s,_owner:Wu.current}}function Cx(e,t){return{$$typeof:Ai,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Vu(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ai}function Tx(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Mf=/\/+/g;function Il(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Tx(""+e.key):t.toString(36)}function Mo(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ai:case mx:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+Il(o,0):r,Rf(s)?(n="",e!=null&&(n=e.replace(Mf,"$&/")+"/"),Mo(s,t,n,"",function(u){return u})):s!=null&&(Vu(s)&&(s=Cx(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Mf,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",Rf(e))for(var a=0;a<e.length;a++){i=e[a];var l=r+Il(i,a);o+=Mo(i,t,n,l,s)}else if(l=Ex(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=r+Il(i,a++),o+=Mo(i,t,n,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function no(e,t,n){if(e==null)return e;var r=[],s=0;return Mo(e,r,"","",function(i){return t.call(n,i,s++)}),r}function Nx(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ze={current:null},Lo={transition:null},Ix={ReactCurrentDispatcher:Ze,ReactCurrentBatchConfig:Lo,ReactCurrentOwner:Wu};function Nm(){throw Error("act(...) is not supported in production builds of React.")}K.Children={map:no,forEach:function(e,t,n){no(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return no(e,function(){t++}),t},toArray:function(e){return no(e,function(t){return t})||[]},only:function(e){if(!Vu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};K.Component=Cs;K.Fragment=gx;K.Profiler=vx;K.PureComponent=Bu;K.StrictMode=yx;K.Suspense=Sx;K.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ix;K.act=Nm;K.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Sm({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Wu.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)Em.call(t,l)&&!Cm.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Ai,type:e.type,key:s,ref:i,props:r,_owner:o}};K.createContext=function(e){return e={$$typeof:_x,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:xx,_context:e},e.Consumer=e};K.createElement=Tm;K.createFactory=function(e){var t=Tm.bind(null,e);return t.type=e,t};K.createRef=function(){return{current:null}};K.forwardRef=function(e){return{$$typeof:wx,render:e}};K.isValidElement=Vu;K.lazy=function(e){return{$$typeof:bx,_payload:{_status:-1,_result:e},_init:Nx}};K.memo=function(e,t){return{$$typeof:kx,type:e,compare:t===void 0?null:t}};K.startTransition=function(e){var t=Lo.transition;Lo.transition={};try{e()}finally{Lo.transition=t}};K.unstable_act=Nm;K.useCallback=function(e,t){return Ze.current.useCallback(e,t)};K.useContext=function(e){return Ze.current.useContext(e)};K.useDebugValue=function(){};K.useDeferredValue=function(e){return Ze.current.useDeferredValue(e)};K.useEffect=function(e,t){return Ze.current.useEffect(e,t)};K.useId=function(){return Ze.current.useId()};K.useImperativeHandle=function(e,t,n){return Ze.current.useImperativeHandle(e,t,n)};K.useInsertionEffect=function(e,t){return Ze.current.useInsertionEffect(e,t)};K.useLayoutEffect=function(e,t){return Ze.current.useLayoutEffect(e,t)};K.useMemo=function(e,t){return Ze.current.useMemo(e,t)};K.useReducer=function(e,t,n){return Ze.current.useReducer(e,t,n)};K.useRef=function(e){return Ze.current.useRef(e)};K.useState=function(e){return Ze.current.useState(e)};K.useSyncExternalStore=function(e,t,n){return Ze.current.useSyncExternalStore(e,t,n)};K.useTransition=function(){return Ze.current.useTransition()};K.version="18.3.1";_m.exports=K;var D=_m.exports;const N=hx(D),jx=ux({__proto__:null,default:N},[D]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rx=D,Mx=Symbol.for("react.element"),Lx=Symbol.for("react.fragment"),Px=Object.prototype.hasOwnProperty,Ox=Rx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ax={key:!0,ref:!0,__self:!0,__source:!0};function Im(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Px.call(t,r)&&!Ax.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Mx,type:e,key:i,ref:o,props:s,_owner:Ox.current}}Pa.Fragment=Lx;Pa.jsx=Im;Pa.jsxs=Im;xm.exports=Pa;var c=xm.exports,mc={},jm={exports:{}},ft={},Rm={exports:{}},Mm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(S,E){var R=S.length;S.push(E);e:for(;0<R;){var H=R-1>>>1,W=S[H];if(0<s(W,E))S[H]=E,S[R]=W,R=H;else break e}}function n(S){return S.length===0?null:S[0]}function r(S){if(S.length===0)return null;var E=S[0],R=S.pop();if(R!==E){S[0]=R;e:for(var H=0,W=S.length,re=W>>>1;H<re;){var we=2*(H+1)-1,Ge=S[we],Ct=we+1,vn=S[Ct];if(0>s(Ge,R))Ct<W&&0>s(vn,Ge)?(S[H]=vn,S[Ct]=R,H=Ct):(S[H]=Ge,S[we]=R,H=we);else if(Ct<W&&0>s(vn,R))S[H]=vn,S[Ct]=R,H=Ct;else break e}}return E}function s(S,E){var R=S.sortIndex-E.sortIndex;return R!==0?R:S.id-E.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],f=1,d=null,p=3,g=!1,y=!1,x=!1,_=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(S){for(var E=n(u);E!==null;){if(E.callback===null)r(u);else if(E.startTime<=S)r(u),E.sortIndex=E.expirationTime,t(l,E);else break;E=n(u)}}function w(S){if(x=!1,v(S),!y)if(n(l)!==null)y=!0,P(b);else{var E=n(u);E!==null&&B(w,E.startTime-S)}}function b(S,E){y=!1,x&&(x=!1,h(j),j=-1),g=!0;var R=p;try{for(v(E),d=n(l);d!==null&&(!(d.expirationTime>E)||S&&!A());){var H=d.callback;if(typeof H=="function"){d.callback=null,p=d.priorityLevel;var W=H(d.expirationTime<=E);E=e.unstable_now(),typeof W=="function"?d.callback=W:d===n(l)&&r(l),v(E)}else r(l);d=n(l)}if(d!==null)var re=!0;else{var we=n(u);we!==null&&B(w,we.startTime-E),re=!1}return re}finally{d=null,p=R,g=!1}}var C=!1,k=null,j=-1,O=5,I=-1;function A(){return!(e.unstable_now()-I<O)}function G(){if(k!==null){var S=e.unstable_now();I=S;var E=!0;try{E=k(!0,S)}finally{E?U():(C=!1,k=null)}}else C=!1}var U;if(typeof m=="function")U=function(){m(G)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,M=z.port2;z.port1.onmessage=G,U=function(){M.postMessage(null)}}else U=function(){_(G,0)};function P(S){k=S,C||(C=!0,U())}function B(S,E){j=_(function(){S(e.unstable_now())},E)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(S){S.callback=null},e.unstable_continueExecution=function(){y||g||(y=!0,P(b))},e.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<S?Math.floor(1e3/S):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(S){switch(p){case 1:case 2:case 3:var E=3;break;default:E=p}var R=p;p=E;try{return S()}finally{p=R}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(S,E){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var R=p;p=S;try{return E()}finally{p=R}},e.unstable_scheduleCallback=function(S,E,R){var H=e.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?H+R:H):R=H,S){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=R+W,S={id:f++,callback:E,priorityLevel:S,startTime:R,expirationTime:W,sortIndex:-1},R>H?(S.sortIndex=R,t(u,S),n(l)===null&&S===n(u)&&(x?(h(j),j=-1):x=!0,B(w,R-H))):(S.sortIndex=W,t(l,S),y||g||(y=!0,P(b))),S},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(S){var E=p;return function(){var R=p;p=E;try{return S.apply(this,arguments)}finally{p=R}}}})(Mm);Rm.exports=Mm;var Dx=Rm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fx=D,ut=Dx;function L(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Lm=new Set,fi={};function Sr(e,t){cs(e,t),cs(e+"Capture",t)}function cs(e,t){for(fi[e]=t,e=0;e<t.length;e++)Lm.add(t[e])}var cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gc=Object.prototype.hasOwnProperty,$x=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Lf={},Pf={};function Ux(e){return gc.call(Pf,e)?!0:gc.call(Lf,e)?!1:$x.test(e)?Pf[e]=!0:(Lf[e]=!0,!1)}function zx(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Bx(e,t,n,r){if(t===null||typeof t>"u"||zx(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function et(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Ue={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ue[e]=new et(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ue[t]=new et(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ue[e]=new et(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ue[e]=new et(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ue[e]=new et(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ue[e]=new et(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ue[e]=new et(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ue[e]=new et(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ue[e]=new et(e,5,!1,e.toLowerCase(),null,!1,!1)});var Gu=/[\-:]([a-z])/g;function Yu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Gu,Yu);Ue[t]=new et(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Gu,Yu);Ue[t]=new et(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Gu,Yu);Ue[t]=new et(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ue[e]=new et(e,1,!1,e.toLowerCase(),null,!1,!1)});Ue.xlinkHref=new et("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ue[e]=new et(e,1,!1,e.toLowerCase(),null,!0,!0)});function qu(e,t,n,r){var s=Ue.hasOwnProperty(t)?Ue[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Bx(t,n,s,r)&&(n=null),r||s===null?Ux(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var gn=Fx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ro=Symbol.for("react.element"),Ar=Symbol.for("react.portal"),Dr=Symbol.for("react.fragment"),Ku=Symbol.for("react.strict_mode"),yc=Symbol.for("react.profiler"),Pm=Symbol.for("react.provider"),Om=Symbol.for("react.context"),Xu=Symbol.for("react.forward_ref"),vc=Symbol.for("react.suspense"),xc=Symbol.for("react.suspense_list"),Qu=Symbol.for("react.memo"),_n=Symbol.for("react.lazy"),Am=Symbol.for("react.offscreen"),Of=Symbol.iterator;function As(e){return e===null||typeof e!="object"?null:(e=Of&&e[Of]||e["@@iterator"],typeof e=="function"?e:null)}var _e=Object.assign,jl;function Ys(e){if(jl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);jl=t&&t[1]||""}return`
`+jl+e}var Rl=!1;function Ml(e,t){if(!e||Rl)return"";Rl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Rl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ys(e):""}function Hx(e){switch(e.tag){case 5:return Ys(e.type);case 16:return Ys("Lazy");case 13:return Ys("Suspense");case 19:return Ys("SuspenseList");case 0:case 2:case 15:return e=Ml(e.type,!1),e;case 11:return e=Ml(e.type.render,!1),e;case 1:return e=Ml(e.type,!0),e;default:return""}}function _c(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Dr:return"Fragment";case Ar:return"Portal";case yc:return"Profiler";case Ku:return"StrictMode";case vc:return"Suspense";case xc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Om:return(e.displayName||"Context")+".Consumer";case Pm:return(e._context.displayName||"Context")+".Provider";case Xu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Qu:return t=e.displayName||null,t!==null?t:_c(e.type)||"Memo";case _n:t=e._payload,e=e._init;try{return _c(e(t))}catch{}}return null}function Wx(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _c(t);case 8:return t===Ku?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Vn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Dm(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Vx(e){var t=Dm(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function so(e){e._valueTracker||(e._valueTracker=Vx(e))}function Fm(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Dm(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Go(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function wc(e,t){var n=t.checked;return _e({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Af(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Vn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function $m(e,t){t=t.checked,t!=null&&qu(e,"checked",t,!1)}function Sc(e,t){$m(e,t);var n=Vn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?kc(e,t.type,n):t.hasOwnProperty("defaultValue")&&kc(e,t.type,Vn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Df(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function kc(e,t,n){(t!=="number"||Go(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var qs=Array.isArray;function es(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Vn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function bc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(L(91));return _e({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ff(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(L(92));if(qs(n)){if(1<n.length)throw Error(L(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Vn(n)}}function Um(e,t){var n=Vn(t.value),r=Vn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function $f(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function zm(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ec(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?zm(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var io,Bm=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(io=io||document.createElement("div"),io.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=io.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function pi(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Js={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Gx=["Webkit","ms","Moz","O"];Object.keys(Js).forEach(function(e){Gx.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Js[t]=Js[e]})});function Hm(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Js.hasOwnProperty(e)&&Js[e]?(""+t).trim():t+"px"}function Wm(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Hm(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Yx=_e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Cc(e,t){if(t){if(Yx[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(L(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(L(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(L(61))}if(t.style!=null&&typeof t.style!="object")throw Error(L(62))}}function Tc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nc=null;function Ju(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ic=null,ts=null,ns=null;function Uf(e){if(e=$i(e)){if(typeof Ic!="function")throw Error(L(280));var t=e.stateNode;t&&(t=$a(t),Ic(e.stateNode,e.type,t))}}function Vm(e){ts?ns?ns.push(e):ns=[e]:ts=e}function Gm(){if(ts){var e=ts,t=ns;if(ns=ts=null,Uf(e),t)for(e=0;e<t.length;e++)Uf(t[e])}}function Ym(e,t){return e(t)}function qm(){}var Ll=!1;function Km(e,t,n){if(Ll)return e(t,n);Ll=!0;try{return Ym(e,t,n)}finally{Ll=!1,(ts!==null||ns!==null)&&(qm(),Gm())}}function hi(e,t){var n=e.stateNode;if(n===null)return null;var r=$a(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(L(231,t,typeof n));return n}var jc=!1;if(cn)try{var Ds={};Object.defineProperty(Ds,"passive",{get:function(){jc=!0}}),window.addEventListener("test",Ds,Ds),window.removeEventListener("test",Ds,Ds)}catch{jc=!1}function qx(e,t,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(f){this.onError(f)}}var Zs=!1,Yo=null,qo=!1,Rc=null,Kx={onError:function(e){Zs=!0,Yo=e}};function Xx(e,t,n,r,s,i,o,a,l){Zs=!1,Yo=null,qx.apply(Kx,arguments)}function Qx(e,t,n,r,s,i,o,a,l){if(Xx.apply(this,arguments),Zs){if(Zs){var u=Yo;Zs=!1,Yo=null}else throw Error(L(198));qo||(qo=!0,Rc=u)}}function kr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Xm(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function zf(e){if(kr(e)!==e)throw Error(L(188))}function Jx(e){var t=e.alternate;if(!t){if(t=kr(e),t===null)throw Error(L(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return zf(s),e;if(i===r)return zf(s),t;i=i.sibling}throw Error(L(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(L(189))}}if(n.alternate!==r)throw Error(L(190))}if(n.tag!==3)throw Error(L(188));return n.stateNode.current===n?e:t}function Qm(e){return e=Jx(e),e!==null?Jm(e):null}function Jm(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Jm(e);if(t!==null)return t;e=e.sibling}return null}var Zm=ut.unstable_scheduleCallback,Bf=ut.unstable_cancelCallback,Zx=ut.unstable_shouldYield,e1=ut.unstable_requestPaint,Ce=ut.unstable_now,t1=ut.unstable_getCurrentPriorityLevel,Zu=ut.unstable_ImmediatePriority,eg=ut.unstable_UserBlockingPriority,Ko=ut.unstable_NormalPriority,n1=ut.unstable_LowPriority,tg=ut.unstable_IdlePriority,Oa=null,Kt=null;function r1(e){if(Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(Oa,e,void 0,(e.current.flags&128)===128)}catch{}}var Ot=Math.clz32?Math.clz32:o1,s1=Math.log,i1=Math.LN2;function o1(e){return e>>>=0,e===0?32:31-(s1(e)/i1|0)|0}var oo=64,ao=4194304;function Ks(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Xo(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Ks(a):(i&=o,i!==0&&(r=Ks(i)))}else o=n&~s,o!==0?r=Ks(o):i!==0&&(r=Ks(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ot(t),s=1<<n,r|=e[n],t&=~s;return r}function a1(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function l1(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Ot(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=a1(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function Mc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ng(){var e=oo;return oo<<=1,!(oo&4194240)&&(oo=64),e}function Pl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Di(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ot(t),e[t]=n}function c1(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Ot(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function ed(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ot(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var ie=0;function rg(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var sg,td,ig,og,ag,Lc=!1,lo=[],Pn=null,On=null,An=null,mi=new Map,gi=new Map,Cn=[],u1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hf(e,t){switch(e){case"focusin":case"focusout":Pn=null;break;case"dragenter":case"dragleave":On=null;break;case"mouseover":case"mouseout":An=null;break;case"pointerover":case"pointerout":mi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":gi.delete(t.pointerId)}}function Fs(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=$i(t),t!==null&&td(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function d1(e,t,n,r,s){switch(t){case"focusin":return Pn=Fs(Pn,e,t,n,r,s),!0;case"dragenter":return On=Fs(On,e,t,n,r,s),!0;case"mouseover":return An=Fs(An,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return mi.set(i,Fs(mi.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,gi.set(i,Fs(gi.get(i)||null,e,t,n,r,s)),!0}return!1}function lg(e){var t=or(e.target);if(t!==null){var n=kr(t);if(n!==null){if(t=n.tag,t===13){if(t=Xm(n),t!==null){e.blockedOn=t,ag(e.priority,function(){ig(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Po(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Pc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Nc=r,n.target.dispatchEvent(r),Nc=null}else return t=$i(n),t!==null&&td(t),e.blockedOn=n,!1;t.shift()}return!0}function Wf(e,t,n){Po(e)&&n.delete(t)}function f1(){Lc=!1,Pn!==null&&Po(Pn)&&(Pn=null),On!==null&&Po(On)&&(On=null),An!==null&&Po(An)&&(An=null),mi.forEach(Wf),gi.forEach(Wf)}function $s(e,t){e.blockedOn===t&&(e.blockedOn=null,Lc||(Lc=!0,ut.unstable_scheduleCallback(ut.unstable_NormalPriority,f1)))}function yi(e){function t(s){return $s(s,e)}if(0<lo.length){$s(lo[0],e);for(var n=1;n<lo.length;n++){var r=lo[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Pn!==null&&$s(Pn,e),On!==null&&$s(On,e),An!==null&&$s(An,e),mi.forEach(t),gi.forEach(t),n=0;n<Cn.length;n++)r=Cn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Cn.length&&(n=Cn[0],n.blockedOn===null);)lg(n),n.blockedOn===null&&Cn.shift()}var rs=gn.ReactCurrentBatchConfig,Qo=!0;function p1(e,t,n,r){var s=ie,i=rs.transition;rs.transition=null;try{ie=1,nd(e,t,n,r)}finally{ie=s,rs.transition=i}}function h1(e,t,n,r){var s=ie,i=rs.transition;rs.transition=null;try{ie=4,nd(e,t,n,r)}finally{ie=s,rs.transition=i}}function nd(e,t,n,r){if(Qo){var s=Pc(e,t,n,r);if(s===null)Wl(e,t,r,Jo,n),Hf(e,r);else if(d1(s,e,t,n,r))r.stopPropagation();else if(Hf(e,r),t&4&&-1<u1.indexOf(e)){for(;s!==null;){var i=$i(s);if(i!==null&&sg(i),i=Pc(e,t,n,r),i===null&&Wl(e,t,r,Jo,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Wl(e,t,r,null,n)}}var Jo=null;function Pc(e,t,n,r){if(Jo=null,e=Ju(r),e=or(e),e!==null)if(t=kr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Xm(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Jo=e,null}function cg(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(t1()){case Zu:return 1;case eg:return 4;case Ko:case n1:return 16;case tg:return 536870912;default:return 16}default:return 16}}var In=null,rd=null,Oo=null;function ug(){if(Oo)return Oo;var e,t=rd,n=t.length,r,s="value"in In?In.value:In.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return Oo=s.slice(e,1<r?1-r:void 0)}function Ao(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function co(){return!0}function Vf(){return!1}function pt(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?co:Vf,this.isPropagationStopped=Vf,this}return _e(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=co)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=co)},persist:function(){},isPersistent:co}),t}var Ts={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sd=pt(Ts),Fi=_e({},Ts,{view:0,detail:0}),m1=pt(Fi),Ol,Al,Us,Aa=_e({},Fi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:id,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Us&&(Us&&e.type==="mousemove"?(Ol=e.screenX-Us.screenX,Al=e.screenY-Us.screenY):Al=Ol=0,Us=e),Ol)},movementY:function(e){return"movementY"in e?e.movementY:Al}}),Gf=pt(Aa),g1=_e({},Aa,{dataTransfer:0}),y1=pt(g1),v1=_e({},Fi,{relatedTarget:0}),Dl=pt(v1),x1=_e({},Ts,{animationName:0,elapsedTime:0,pseudoElement:0}),_1=pt(x1),w1=_e({},Ts,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),S1=pt(w1),k1=_e({},Ts,{data:0}),Yf=pt(k1),b1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},E1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},C1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function T1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=C1[e])?!!t[e]:!1}function id(){return T1}var N1=_e({},Fi,{key:function(e){if(e.key){var t=b1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ao(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?E1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:id,charCode:function(e){return e.type==="keypress"?Ao(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ao(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),I1=pt(N1),j1=_e({},Aa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qf=pt(j1),R1=_e({},Fi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:id}),M1=pt(R1),L1=_e({},Ts,{propertyName:0,elapsedTime:0,pseudoElement:0}),P1=pt(L1),O1=_e({},Aa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),A1=pt(O1),D1=[9,13,27,32],od=cn&&"CompositionEvent"in window,ei=null;cn&&"documentMode"in document&&(ei=document.documentMode);var F1=cn&&"TextEvent"in window&&!ei,dg=cn&&(!od||ei&&8<ei&&11>=ei),Kf=String.fromCharCode(32),Xf=!1;function fg(e,t){switch(e){case"keyup":return D1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Fr=!1;function $1(e,t){switch(e){case"compositionend":return pg(t);case"keypress":return t.which!==32?null:(Xf=!0,Kf);case"textInput":return e=t.data,e===Kf&&Xf?null:e;default:return null}}function U1(e,t){if(Fr)return e==="compositionend"||!od&&fg(e,t)?(e=ug(),Oo=rd=In=null,Fr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return dg&&t.locale!=="ko"?null:t.data;default:return null}}var z1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!z1[e.type]:t==="textarea"}function hg(e,t,n,r){Vm(r),t=Zo(t,"onChange"),0<t.length&&(n=new sd("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ti=null,vi=null;function B1(e){Eg(e,0)}function Da(e){var t=zr(e);if(Fm(t))return e}function H1(e,t){if(e==="change")return t}var mg=!1;if(cn){var Fl;if(cn){var $l="oninput"in document;if(!$l){var Jf=document.createElement("div");Jf.setAttribute("oninput","return;"),$l=typeof Jf.oninput=="function"}Fl=$l}else Fl=!1;mg=Fl&&(!document.documentMode||9<document.documentMode)}function Zf(){ti&&(ti.detachEvent("onpropertychange",gg),vi=ti=null)}function gg(e){if(e.propertyName==="value"&&Da(vi)){var t=[];hg(t,vi,e,Ju(e)),Km(B1,t)}}function W1(e,t,n){e==="focusin"?(Zf(),ti=t,vi=n,ti.attachEvent("onpropertychange",gg)):e==="focusout"&&Zf()}function V1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Da(vi)}function G1(e,t){if(e==="click")return Da(t)}function Y1(e,t){if(e==="input"||e==="change")return Da(t)}function q1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ft=typeof Object.is=="function"?Object.is:q1;function xi(e,t){if(Ft(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!gc.call(t,s)||!Ft(e[s],t[s]))return!1}return!0}function ep(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tp(e,t){var n=ep(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ep(n)}}function yg(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?yg(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function vg(){for(var e=window,t=Go();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Go(e.document)}return t}function ad(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function K1(e){var t=vg(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&yg(n.ownerDocument.documentElement,n)){if(r!==null&&ad(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=tp(n,i);var o=tp(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var X1=cn&&"documentMode"in document&&11>=document.documentMode,$r=null,Oc=null,ni=null,Ac=!1;function np(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ac||$r==null||$r!==Go(r)||(r=$r,"selectionStart"in r&&ad(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ni&&xi(ni,r)||(ni=r,r=Zo(Oc,"onSelect"),0<r.length&&(t=new sd("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=$r)))}function uo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ur={animationend:uo("Animation","AnimationEnd"),animationiteration:uo("Animation","AnimationIteration"),animationstart:uo("Animation","AnimationStart"),transitionend:uo("Transition","TransitionEnd")},Ul={},xg={};cn&&(xg=document.createElement("div").style,"AnimationEvent"in window||(delete Ur.animationend.animation,delete Ur.animationiteration.animation,delete Ur.animationstart.animation),"TransitionEvent"in window||delete Ur.transitionend.transition);function Fa(e){if(Ul[e])return Ul[e];if(!Ur[e])return e;var t=Ur[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in xg)return Ul[e]=t[n];return e}var _g=Fa("animationend"),wg=Fa("animationiteration"),Sg=Fa("animationstart"),kg=Fa("transitionend"),bg=new Map,rp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Kn(e,t){bg.set(e,t),Sr(t,[e])}for(var zl=0;zl<rp.length;zl++){var Bl=rp[zl],Q1=Bl.toLowerCase(),J1=Bl[0].toUpperCase()+Bl.slice(1);Kn(Q1,"on"+J1)}Kn(_g,"onAnimationEnd");Kn(wg,"onAnimationIteration");Kn(Sg,"onAnimationStart");Kn("dblclick","onDoubleClick");Kn("focusin","onFocus");Kn("focusout","onBlur");Kn(kg,"onTransitionEnd");cs("onMouseEnter",["mouseout","mouseover"]);cs("onMouseLeave",["mouseout","mouseover"]);cs("onPointerEnter",["pointerout","pointerover"]);cs("onPointerLeave",["pointerout","pointerover"]);Sr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Sr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Sr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Sr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Sr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Sr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Z1=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xs));function sp(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Qx(r,t,void 0,e),e.currentTarget=null}function Eg(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;sp(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;sp(s,a,u),i=l}}}if(qo)throw e=Rc,qo=!1,Rc=null,e}function fe(e,t){var n=t[zc];n===void 0&&(n=t[zc]=new Set);var r=e+"__bubble";n.has(r)||(Cg(t,e,2,!1),n.add(r))}function Hl(e,t,n){var r=0;t&&(r|=4),Cg(n,e,r,t)}var fo="_reactListening"+Math.random().toString(36).slice(2);function _i(e){if(!e[fo]){e[fo]=!0,Lm.forEach(function(n){n!=="selectionchange"&&(Z1.has(n)||Hl(n,!1,e),Hl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[fo]||(t[fo]=!0,Hl("selectionchange",!1,t))}}function Cg(e,t,n,r){switch(cg(t)){case 1:var s=p1;break;case 4:s=h1;break;default:s=nd}n=s.bind(null,t,n,e),s=void 0,!jc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Wl(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=or(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Km(function(){var u=i,f=Ju(n),d=[];e:{var p=bg.get(e);if(p!==void 0){var g=sd,y=e;switch(e){case"keypress":if(Ao(n)===0)break e;case"keydown":case"keyup":g=I1;break;case"focusin":y="focus",g=Dl;break;case"focusout":y="blur",g=Dl;break;case"beforeblur":case"afterblur":g=Dl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Gf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=y1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=M1;break;case _g:case wg:case Sg:g=_1;break;case kg:g=P1;break;case"scroll":g=m1;break;case"wheel":g=A1;break;case"copy":case"cut":case"paste":g=S1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=qf}var x=(t&4)!==0,_=!x&&e==="scroll",h=x?p!==null?p+"Capture":null:p;x=[];for(var m=u,v;m!==null;){v=m;var w=v.stateNode;if(v.tag===5&&w!==null&&(v=w,h!==null&&(w=hi(m,h),w!=null&&x.push(wi(m,w,v)))),_)break;m=m.return}0<x.length&&(p=new g(p,y,null,n,f),d.push({event:p,listeners:x}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",p&&n!==Nc&&(y=n.relatedTarget||n.fromElement)&&(or(y)||y[un]))break e;if((g||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,g?(y=n.relatedTarget||n.toElement,g=u,y=y?or(y):null,y!==null&&(_=kr(y),y!==_||y.tag!==5&&y.tag!==6)&&(y=null)):(g=null,y=u),g!==y)){if(x=Gf,w="onMouseLeave",h="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(x=qf,w="onPointerLeave",h="onPointerEnter",m="pointer"),_=g==null?p:zr(g),v=y==null?p:zr(y),p=new x(w,m+"leave",g,n,f),p.target=_,p.relatedTarget=v,w=null,or(f)===u&&(x=new x(h,m+"enter",y,n,f),x.target=v,x.relatedTarget=_,w=x),_=w,g&&y)t:{for(x=g,h=y,m=0,v=x;v;v=Rr(v))m++;for(v=0,w=h;w;w=Rr(w))v++;for(;0<m-v;)x=Rr(x),m--;for(;0<v-m;)h=Rr(h),v--;for(;m--;){if(x===h||h!==null&&x===h.alternate)break t;x=Rr(x),h=Rr(h)}x=null}else x=null;g!==null&&ip(d,p,g,x,!1),y!==null&&_!==null&&ip(d,_,y,x,!0)}}e:{if(p=u?zr(u):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var b=H1;else if(Qf(p))if(mg)b=Y1;else{b=V1;var C=W1}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(b=G1);if(b&&(b=b(e,u))){hg(d,b,n,f);break e}C&&C(e,p,u),e==="focusout"&&(C=p._wrapperState)&&C.controlled&&p.type==="number"&&kc(p,"number",p.value)}switch(C=u?zr(u):window,e){case"focusin":(Qf(C)||C.contentEditable==="true")&&($r=C,Oc=u,ni=null);break;case"focusout":ni=Oc=$r=null;break;case"mousedown":Ac=!0;break;case"contextmenu":case"mouseup":case"dragend":Ac=!1,np(d,n,f);break;case"selectionchange":if(X1)break;case"keydown":case"keyup":np(d,n,f)}var k;if(od)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Fr?fg(e,n)&&(j="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(dg&&n.locale!=="ko"&&(Fr||j!=="onCompositionStart"?j==="onCompositionEnd"&&Fr&&(k=ug()):(In=f,rd="value"in In?In.value:In.textContent,Fr=!0)),C=Zo(u,j),0<C.length&&(j=new Yf(j,e,null,n,f),d.push({event:j,listeners:C}),k?j.data=k:(k=pg(n),k!==null&&(j.data=k)))),(k=F1?$1(e,n):U1(e,n))&&(u=Zo(u,"onBeforeInput"),0<u.length&&(f=new Yf("onBeforeInput","beforeinput",null,n,f),d.push({event:f,listeners:u}),f.data=k))}Eg(d,t)})}function wi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Zo(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=hi(e,n),i!=null&&r.unshift(wi(e,i,s)),i=hi(e,t),i!=null&&r.push(wi(e,i,s))),e=e.return}return r}function Rr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ip(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=hi(n,i),l!=null&&o.unshift(wi(n,l,a))):s||(l=hi(n,i),l!=null&&o.push(wi(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var e_=/\r\n?/g,t_=/\u0000|\uFFFD/g;function op(e){return(typeof e=="string"?e:""+e).replace(e_,`
`).replace(t_,"")}function po(e,t,n){if(t=op(t),op(e)!==t&&n)throw Error(L(425))}function ea(){}var Dc=null,Fc=null;function $c(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Uc=typeof setTimeout=="function"?setTimeout:void 0,n_=typeof clearTimeout=="function"?clearTimeout:void 0,ap=typeof Promise=="function"?Promise:void 0,r_=typeof queueMicrotask=="function"?queueMicrotask:typeof ap<"u"?function(e){return ap.resolve(null).then(e).catch(s_)}:Uc;function s_(e){setTimeout(function(){throw e})}function Vl(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),yi(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);yi(t)}function Dn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function lp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ns=Math.random().toString(36).slice(2),Gt="__reactFiber$"+Ns,Si="__reactProps$"+Ns,un="__reactContainer$"+Ns,zc="__reactEvents$"+Ns,i_="__reactListeners$"+Ns,o_="__reactHandles$"+Ns;function or(e){var t=e[Gt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[un]||n[Gt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=lp(e);e!==null;){if(n=e[Gt])return n;e=lp(e)}return t}e=n,n=e.parentNode}return null}function $i(e){return e=e[Gt]||e[un],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function zr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(L(33))}function $a(e){return e[Si]||null}var Bc=[],Br=-1;function Xn(e){return{current:e}}function pe(e){0>Br||(e.current=Bc[Br],Bc[Br]=null,Br--)}function ue(e,t){Br++,Bc[Br]=e.current,e.current=t}var Gn={},Ve=Xn(Gn),rt=Xn(!1),hr=Gn;function us(e,t){var n=e.type.contextTypes;if(!n)return Gn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function st(e){return e=e.childContextTypes,e!=null}function ta(){pe(rt),pe(Ve)}function cp(e,t,n){if(Ve.current!==Gn)throw Error(L(168));ue(Ve,t),ue(rt,n)}function Tg(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(L(108,Wx(e)||"Unknown",s));return _e({},n,r)}function na(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Gn,hr=Ve.current,ue(Ve,e),ue(rt,rt.current),!0}function up(e,t,n){var r=e.stateNode;if(!r)throw Error(L(169));n?(e=Tg(e,t,hr),r.__reactInternalMemoizedMergedChildContext=e,pe(rt),pe(Ve),ue(Ve,e)):pe(rt),ue(rt,n)}var tn=null,Ua=!1,Gl=!1;function Ng(e){tn===null?tn=[e]:tn.push(e)}function a_(e){Ua=!0,Ng(e)}function Qn(){if(!Gl&&tn!==null){Gl=!0;var e=0,t=ie;try{var n=tn;for(ie=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}tn=null,Ua=!1}catch(s){throw tn!==null&&(tn=tn.slice(e+1)),Zm(Zu,Qn),s}finally{ie=t,Gl=!1}}return null}var Hr=[],Wr=0,ra=null,sa=0,gt=[],yt=0,mr=null,rn=1,sn="";function sr(e,t){Hr[Wr++]=sa,Hr[Wr++]=ra,ra=e,sa=t}function Ig(e,t,n){gt[yt++]=rn,gt[yt++]=sn,gt[yt++]=mr,mr=e;var r=rn;e=sn;var s=32-Ot(r)-1;r&=~(1<<s),n+=1;var i=32-Ot(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,rn=1<<32-Ot(t)+s|n<<s|r,sn=i+e}else rn=1<<i|n<<s|r,sn=e}function ld(e){e.return!==null&&(sr(e,1),Ig(e,1,0))}function cd(e){for(;e===ra;)ra=Hr[--Wr],Hr[Wr]=null,sa=Hr[--Wr],Hr[Wr]=null;for(;e===mr;)mr=gt[--yt],gt[yt]=null,sn=gt[--yt],gt[yt]=null,rn=gt[--yt],gt[yt]=null}var ct=null,lt=null,he=!1,Lt=null;function jg(e,t){var n=vt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function dp(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ct=e,lt=Dn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ct=e,lt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=mr!==null?{id:rn,overflow:sn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=vt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ct=e,lt=null,!0):!1;default:return!1}}function Hc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Wc(e){if(he){var t=lt;if(t){var n=t;if(!dp(e,t)){if(Hc(e))throw Error(L(418));t=Dn(n.nextSibling);var r=ct;t&&dp(e,t)?jg(r,n):(e.flags=e.flags&-4097|2,he=!1,ct=e)}}else{if(Hc(e))throw Error(L(418));e.flags=e.flags&-4097|2,he=!1,ct=e}}}function fp(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ct=e}function ho(e){if(e!==ct)return!1;if(!he)return fp(e),he=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!$c(e.type,e.memoizedProps)),t&&(t=lt)){if(Hc(e))throw Rg(),Error(L(418));for(;t;)jg(e,t),t=Dn(t.nextSibling)}if(fp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){lt=Dn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}lt=null}}else lt=ct?Dn(e.stateNode.nextSibling):null;return!0}function Rg(){for(var e=lt;e;)e=Dn(e.nextSibling)}function ds(){lt=ct=null,he=!1}function ud(e){Lt===null?Lt=[e]:Lt.push(e)}var l_=gn.ReactCurrentBatchConfig;function zs(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(L(309));var r=n.stateNode}if(!r)throw Error(L(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(L(284));if(!n._owner)throw Error(L(290,e))}return e}function mo(e,t){throw e=Object.prototype.toString.call(t),Error(L(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function pp(e){var t=e._init;return t(e._payload)}function Mg(e){function t(h,m){if(e){var v=h.deletions;v===null?(h.deletions=[m],h.flags|=16):v.push(m)}}function n(h,m){if(!e)return null;for(;m!==null;)t(h,m),m=m.sibling;return null}function r(h,m){for(h=new Map;m!==null;)m.key!==null?h.set(m.key,m):h.set(m.index,m),m=m.sibling;return h}function s(h,m){return h=zn(h,m),h.index=0,h.sibling=null,h}function i(h,m,v){return h.index=v,e?(v=h.alternate,v!==null?(v=v.index,v<m?(h.flags|=2,m):v):(h.flags|=2,m)):(h.flags|=1048576,m)}function o(h){return e&&h.alternate===null&&(h.flags|=2),h}function a(h,m,v,w){return m===null||m.tag!==6?(m=Zl(v,h.mode,w),m.return=h,m):(m=s(m,v),m.return=h,m)}function l(h,m,v,w){var b=v.type;return b===Dr?f(h,m,v.props.children,w,v.key):m!==null&&(m.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===_n&&pp(b)===m.type)?(w=s(m,v.props),w.ref=zs(h,m,v),w.return=h,w):(w=Ho(v.type,v.key,v.props,null,h.mode,w),w.ref=zs(h,m,v),w.return=h,w)}function u(h,m,v,w){return m===null||m.tag!==4||m.stateNode.containerInfo!==v.containerInfo||m.stateNode.implementation!==v.implementation?(m=ec(v,h.mode,w),m.return=h,m):(m=s(m,v.children||[]),m.return=h,m)}function f(h,m,v,w,b){return m===null||m.tag!==7?(m=dr(v,h.mode,w,b),m.return=h,m):(m=s(m,v),m.return=h,m)}function d(h,m,v){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Zl(""+m,h.mode,v),m.return=h,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case ro:return v=Ho(m.type,m.key,m.props,null,h.mode,v),v.ref=zs(h,null,m),v.return=h,v;case Ar:return m=ec(m,h.mode,v),m.return=h,m;case _n:var w=m._init;return d(h,w(m._payload),v)}if(qs(m)||As(m))return m=dr(m,h.mode,v,null),m.return=h,m;mo(h,m)}return null}function p(h,m,v,w){var b=m!==null?m.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return b!==null?null:a(h,m,""+v,w);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ro:return v.key===b?l(h,m,v,w):null;case Ar:return v.key===b?u(h,m,v,w):null;case _n:return b=v._init,p(h,m,b(v._payload),w)}if(qs(v)||As(v))return b!==null?null:f(h,m,v,w,null);mo(h,v)}return null}function g(h,m,v,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return h=h.get(v)||null,a(m,h,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ro:return h=h.get(w.key===null?v:w.key)||null,l(m,h,w,b);case Ar:return h=h.get(w.key===null?v:w.key)||null,u(m,h,w,b);case _n:var C=w._init;return g(h,m,v,C(w._payload),b)}if(qs(w)||As(w))return h=h.get(v)||null,f(m,h,w,b,null);mo(m,w)}return null}function y(h,m,v,w){for(var b=null,C=null,k=m,j=m=0,O=null;k!==null&&j<v.length;j++){k.index>j?(O=k,k=null):O=k.sibling;var I=p(h,k,v[j],w);if(I===null){k===null&&(k=O);break}e&&k&&I.alternate===null&&t(h,k),m=i(I,m,j),C===null?b=I:C.sibling=I,C=I,k=O}if(j===v.length)return n(h,k),he&&sr(h,j),b;if(k===null){for(;j<v.length;j++)k=d(h,v[j],w),k!==null&&(m=i(k,m,j),C===null?b=k:C.sibling=k,C=k);return he&&sr(h,j),b}for(k=r(h,k);j<v.length;j++)O=g(k,h,j,v[j],w),O!==null&&(e&&O.alternate!==null&&k.delete(O.key===null?j:O.key),m=i(O,m,j),C===null?b=O:C.sibling=O,C=O);return e&&k.forEach(function(A){return t(h,A)}),he&&sr(h,j),b}function x(h,m,v,w){var b=As(v);if(typeof b!="function")throw Error(L(150));if(v=b.call(v),v==null)throw Error(L(151));for(var C=b=null,k=m,j=m=0,O=null,I=v.next();k!==null&&!I.done;j++,I=v.next()){k.index>j?(O=k,k=null):O=k.sibling;var A=p(h,k,I.value,w);if(A===null){k===null&&(k=O);break}e&&k&&A.alternate===null&&t(h,k),m=i(A,m,j),C===null?b=A:C.sibling=A,C=A,k=O}if(I.done)return n(h,k),he&&sr(h,j),b;if(k===null){for(;!I.done;j++,I=v.next())I=d(h,I.value,w),I!==null&&(m=i(I,m,j),C===null?b=I:C.sibling=I,C=I);return he&&sr(h,j),b}for(k=r(h,k);!I.done;j++,I=v.next())I=g(k,h,j,I.value,w),I!==null&&(e&&I.alternate!==null&&k.delete(I.key===null?j:I.key),m=i(I,m,j),C===null?b=I:C.sibling=I,C=I);return e&&k.forEach(function(G){return t(h,G)}),he&&sr(h,j),b}function _(h,m,v,w){if(typeof v=="object"&&v!==null&&v.type===Dr&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case ro:e:{for(var b=v.key,C=m;C!==null;){if(C.key===b){if(b=v.type,b===Dr){if(C.tag===7){n(h,C.sibling),m=s(C,v.props.children),m.return=h,h=m;break e}}else if(C.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===_n&&pp(b)===C.type){n(h,C.sibling),m=s(C,v.props),m.ref=zs(h,C,v),m.return=h,h=m;break e}n(h,C);break}else t(h,C);C=C.sibling}v.type===Dr?(m=dr(v.props.children,h.mode,w,v.key),m.return=h,h=m):(w=Ho(v.type,v.key,v.props,null,h.mode,w),w.ref=zs(h,m,v),w.return=h,h=w)}return o(h);case Ar:e:{for(C=v.key;m!==null;){if(m.key===C)if(m.tag===4&&m.stateNode.containerInfo===v.containerInfo&&m.stateNode.implementation===v.implementation){n(h,m.sibling),m=s(m,v.children||[]),m.return=h,h=m;break e}else{n(h,m);break}else t(h,m);m=m.sibling}m=ec(v,h.mode,w),m.return=h,h=m}return o(h);case _n:return C=v._init,_(h,m,C(v._payload),w)}if(qs(v))return y(h,m,v,w);if(As(v))return x(h,m,v,w);mo(h,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,m!==null&&m.tag===6?(n(h,m.sibling),m=s(m,v),m.return=h,h=m):(n(h,m),m=Zl(v,h.mode,w),m.return=h,h=m),o(h)):n(h,m)}return _}var fs=Mg(!0),Lg=Mg(!1),ia=Xn(null),oa=null,Vr=null,dd=null;function fd(){dd=Vr=oa=null}function pd(e){var t=ia.current;pe(ia),e._currentValue=t}function Vc(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ss(e,t){oa=e,dd=Vr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(nt=!0),e.firstContext=null)}function kt(e){var t=e._currentValue;if(dd!==e)if(e={context:e,memoizedValue:t,next:null},Vr===null){if(oa===null)throw Error(L(308));Vr=e,oa.dependencies={lanes:0,firstContext:e}}else Vr=Vr.next=e;return t}var ar=null;function hd(e){ar===null?ar=[e]:ar.push(e)}function Pg(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,hd(t)):(n.next=s.next,s.next=n),t.interleaved=n,dn(e,r)}function dn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var wn=!1;function md(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Og(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function on(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Z&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,dn(e,n)}return s=r.interleaved,s===null?(t.next=t,hd(r)):(t.next=s.next,s.next=t),r.interleaved=t,dn(e,n)}function Do(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ed(e,n)}}function hp(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function aa(e,t,n,r){var s=e.updateQueue;wn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var f=e.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==o&&(a===null?f.firstBaseUpdate=u:a.next=u,f.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;o=0,f=u=l=null,a=i;do{var p=a.lane,g=a.eventTime;if((r&p)===p){f!==null&&(f=f.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=e,x=a;switch(p=t,g=n,x.tag){case 1:if(y=x.payload,typeof y=="function"){d=y.call(g,d,p);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=x.payload,p=typeof y=="function"?y.call(g,d,p):y,p==null)break e;d=_e({},d,p);break e;case 2:wn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(u=f=g,l=d):f=f.next=g,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(1);if(f===null&&(l=d),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=f,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);yr|=o,e.lanes=o,e.memoizedState=d}}function mp(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(L(191,s));s.call(r)}}}var Ui={},Xt=Xn(Ui),ki=Xn(Ui),bi=Xn(Ui);function lr(e){if(e===Ui)throw Error(L(174));return e}function gd(e,t){switch(ue(bi,t),ue(ki,e),ue(Xt,Ui),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ec(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ec(t,e)}pe(Xt),ue(Xt,t)}function ps(){pe(Xt),pe(ki),pe(bi)}function Ag(e){lr(bi.current);var t=lr(Xt.current),n=Ec(t,e.type);t!==n&&(ue(ki,e),ue(Xt,n))}function yd(e){ki.current===e&&(pe(Xt),pe(ki))}var ve=Xn(0);function la(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Yl=[];function vd(){for(var e=0;e<Yl.length;e++)Yl[e]._workInProgressVersionPrimary=null;Yl.length=0}var Fo=gn.ReactCurrentDispatcher,ql=gn.ReactCurrentBatchConfig,gr=0,xe=null,je=null,Pe=null,ca=!1,ri=!1,Ei=0,c_=0;function Be(){throw Error(L(321))}function xd(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ft(e[n],t[n]))return!1;return!0}function _d(e,t,n,r,s,i){if(gr=i,xe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Fo.current=e===null||e.memoizedState===null?p_:h_,e=n(r,s),ri){i=0;do{if(ri=!1,Ei=0,25<=i)throw Error(L(301));i+=1,Pe=je=null,t.updateQueue=null,Fo.current=m_,e=n(r,s)}while(ri)}if(Fo.current=ua,t=je!==null&&je.next!==null,gr=0,Pe=je=xe=null,ca=!1,t)throw Error(L(300));return e}function wd(){var e=Ei!==0;return Ei=0,e}function Bt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pe===null?xe.memoizedState=Pe=e:Pe=Pe.next=e,Pe}function bt(){if(je===null){var e=xe.alternate;e=e!==null?e.memoizedState:null}else e=je.next;var t=Pe===null?xe.memoizedState:Pe.next;if(t!==null)Pe=t,je=e;else{if(e===null)throw Error(L(310));je=e,e={memoizedState:je.memoizedState,baseState:je.baseState,baseQueue:je.baseQueue,queue:je.queue,next:null},Pe===null?xe.memoizedState=Pe=e:Pe=Pe.next=e}return Pe}function Ci(e,t){return typeof t=="function"?t(e):t}function Kl(e){var t=bt(),n=t.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=e;var r=je,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var f=u.lane;if((gr&f)===f)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,xe.lanes|=f,yr|=f}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,Ft(r,t.memoizedState)||(nt=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,xe.lanes|=i,yr|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Xl(e){var t=bt(),n=t.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Ft(i,t.memoizedState)||(nt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Dg(){}function Fg(e,t){var n=xe,r=bt(),s=t(),i=!Ft(r.memoizedState,s);if(i&&(r.memoizedState=s,nt=!0),r=r.queue,Sd(zg.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Pe!==null&&Pe.memoizedState.tag&1){if(n.flags|=2048,Ti(9,Ug.bind(null,n,r,s,t),void 0,null),Ae===null)throw Error(L(349));gr&30||$g(n,t,s)}return s}function $g(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=xe.updateQueue,t===null?(t={lastEffect:null,stores:null},xe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Ug(e,t,n,r){t.value=n,t.getSnapshot=r,Bg(t)&&Hg(e)}function zg(e,t,n){return n(function(){Bg(t)&&Hg(e)})}function Bg(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ft(e,n)}catch{return!0}}function Hg(e){var t=dn(e,1);t!==null&&At(t,e,1,-1)}function gp(e){var t=Bt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:e},t.queue=e,e=e.dispatch=f_.bind(null,xe,e),[t.memoizedState,e]}function Ti(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=xe.updateQueue,t===null?(t={lastEffect:null,stores:null},xe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Wg(){return bt().memoizedState}function $o(e,t,n,r){var s=Bt();xe.flags|=e,s.memoizedState=Ti(1|t,n,void 0,r===void 0?null:r)}function za(e,t,n,r){var s=bt();r=r===void 0?null:r;var i=void 0;if(je!==null){var o=je.memoizedState;if(i=o.destroy,r!==null&&xd(r,o.deps)){s.memoizedState=Ti(t,n,i,r);return}}xe.flags|=e,s.memoizedState=Ti(1|t,n,i,r)}function yp(e,t){return $o(8390656,8,e,t)}function Sd(e,t){return za(2048,8,e,t)}function Vg(e,t){return za(4,2,e,t)}function Gg(e,t){return za(4,4,e,t)}function Yg(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function qg(e,t,n){return n=n!=null?n.concat([e]):null,za(4,4,Yg.bind(null,t,e),n)}function kd(){}function Kg(e,t){var n=bt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&xd(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xg(e,t){var n=bt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&xd(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Qg(e,t,n){return gr&21?(Ft(n,t)||(n=ng(),xe.lanes|=n,yr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,nt=!0),e.memoizedState=n)}function u_(e,t){var n=ie;ie=n!==0&&4>n?n:4,e(!0);var r=ql.transition;ql.transition={};try{e(!1),t()}finally{ie=n,ql.transition=r}}function Jg(){return bt().memoizedState}function d_(e,t,n){var r=Un(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Zg(e))e0(t,n);else if(n=Pg(e,t,n,r),n!==null){var s=Je();At(n,e,r,s),t0(n,t,r)}}function f_(e,t,n){var r=Un(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Zg(e))e0(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Ft(a,o)){var l=t.interleaved;l===null?(s.next=s,hd(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=Pg(e,t,s,r),n!==null&&(s=Je(),At(n,e,r,s),t0(n,t,r))}}function Zg(e){var t=e.alternate;return e===xe||t!==null&&t===xe}function e0(e,t){ri=ca=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function t0(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ed(e,n)}}var ua={readContext:kt,useCallback:Be,useContext:Be,useEffect:Be,useImperativeHandle:Be,useInsertionEffect:Be,useLayoutEffect:Be,useMemo:Be,useReducer:Be,useRef:Be,useState:Be,useDebugValue:Be,useDeferredValue:Be,useTransition:Be,useMutableSource:Be,useSyncExternalStore:Be,useId:Be,unstable_isNewReconciler:!1},p_={readContext:kt,useCallback:function(e,t){return Bt().memoizedState=[e,t===void 0?null:t],e},useContext:kt,useEffect:yp,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,$o(4194308,4,Yg.bind(null,t,e),n)},useLayoutEffect:function(e,t){return $o(4194308,4,e,t)},useInsertionEffect:function(e,t){return $o(4,2,e,t)},useMemo:function(e,t){var n=Bt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Bt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=d_.bind(null,xe,e),[r.memoizedState,e]},useRef:function(e){var t=Bt();return e={current:e},t.memoizedState=e},useState:gp,useDebugValue:kd,useDeferredValue:function(e){return Bt().memoizedState=e},useTransition:function(){var e=gp(!1),t=e[0];return e=u_.bind(null,e[1]),Bt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=xe,s=Bt();if(he){if(n===void 0)throw Error(L(407));n=n()}else{if(n=t(),Ae===null)throw Error(L(349));gr&30||$g(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,yp(zg.bind(null,r,i,e),[e]),r.flags|=2048,Ti(9,Ug.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Bt(),t=Ae.identifierPrefix;if(he){var n=sn,r=rn;n=(r&~(1<<32-Ot(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ei++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=c_++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},h_={readContext:kt,useCallback:Kg,useContext:kt,useEffect:Sd,useImperativeHandle:qg,useInsertionEffect:Vg,useLayoutEffect:Gg,useMemo:Xg,useReducer:Kl,useRef:Wg,useState:function(){return Kl(Ci)},useDebugValue:kd,useDeferredValue:function(e){var t=bt();return Qg(t,je.memoizedState,e)},useTransition:function(){var e=Kl(Ci)[0],t=bt().memoizedState;return[e,t]},useMutableSource:Dg,useSyncExternalStore:Fg,useId:Jg,unstable_isNewReconciler:!1},m_={readContext:kt,useCallback:Kg,useContext:kt,useEffect:Sd,useImperativeHandle:qg,useInsertionEffect:Vg,useLayoutEffect:Gg,useMemo:Xg,useReducer:Xl,useRef:Wg,useState:function(){return Xl(Ci)},useDebugValue:kd,useDeferredValue:function(e){var t=bt();return je===null?t.memoizedState=e:Qg(t,je.memoizedState,e)},useTransition:function(){var e=Xl(Ci)[0],t=bt().memoizedState;return[e,t]},useMutableSource:Dg,useSyncExternalStore:Fg,useId:Jg,unstable_isNewReconciler:!1};function Rt(e,t){if(e&&e.defaultProps){t=_e({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Gc(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:_e({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ba={isMounted:function(e){return(e=e._reactInternals)?kr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Je(),s=Un(e),i=on(r,s);i.payload=t,n!=null&&(i.callback=n),t=Fn(e,i,s),t!==null&&(At(t,e,s,r),Do(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Je(),s=Un(e),i=on(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Fn(e,i,s),t!==null&&(At(t,e,s,r),Do(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Je(),r=Un(e),s=on(n,r);s.tag=2,t!=null&&(s.callback=t),t=Fn(e,s,r),t!==null&&(At(t,e,r,n),Do(t,e,r))}};function vp(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!xi(n,r)||!xi(s,i):!0}function n0(e,t,n){var r=!1,s=Gn,i=t.contextType;return typeof i=="object"&&i!==null?i=kt(i):(s=st(t)?hr:Ve.current,r=t.contextTypes,i=(r=r!=null)?us(e,s):Gn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ba,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function xp(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ba.enqueueReplaceState(t,t.state,null)}function Yc(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},md(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=kt(i):(i=st(t)?hr:Ve.current,s.context=us(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Gc(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Ba.enqueueReplaceState(s,s.state,null),aa(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function hs(e,t){try{var n="",r=t;do n+=Hx(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Ql(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function qc(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var g_=typeof WeakMap=="function"?WeakMap:Map;function r0(e,t,n){n=on(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){fa||(fa=!0,su=r),qc(e,t)},n}function s0(e,t,n){n=on(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){qc(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){qc(e,t),typeof r!="function"&&($n===null?$n=new Set([this]):$n.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function _p(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new g_;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=j_.bind(null,e,t,n),t.then(e,e))}function wp(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Sp(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=on(-1,1),t.tag=2,Fn(n,t,1))),n.lanes|=1),e)}var y_=gn.ReactCurrentOwner,nt=!1;function qe(e,t,n,r){t.child=e===null?Lg(t,null,n,r):fs(t,e.child,n,r)}function kp(e,t,n,r,s){n=n.render;var i=t.ref;return ss(t,s),r=_d(e,t,n,r,i,s),n=wd(),e!==null&&!nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,fn(e,t,s)):(he&&n&&ld(t),t.flags|=1,qe(e,t,r,s),t.child)}function bp(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Rd(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,i0(e,t,i,r,s)):(e=Ho(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:xi,n(o,r)&&e.ref===t.ref)return fn(e,t,s)}return t.flags|=1,e=zn(i,r),e.ref=t.ref,e.return=t,t.child=e}function i0(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(xi(i,r)&&e.ref===t.ref)if(nt=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(nt=!0);else return t.lanes=e.lanes,fn(e,t,s)}return Kc(e,t,n,r,s)}function o0(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ue(Yr,ot),ot|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ue(Yr,ot),ot|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ue(Yr,ot),ot|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,ue(Yr,ot),ot|=r;return qe(e,t,s,n),t.child}function a0(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Kc(e,t,n,r,s){var i=st(n)?hr:Ve.current;return i=us(t,i),ss(t,s),n=_d(e,t,n,r,i,s),r=wd(),e!==null&&!nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,fn(e,t,s)):(he&&r&&ld(t),t.flags|=1,qe(e,t,n,s),t.child)}function Ep(e,t,n,r,s){if(st(n)){var i=!0;na(t)}else i=!1;if(ss(t,s),t.stateNode===null)Uo(e,t),n0(t,n,r),Yc(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=kt(u):(u=st(n)?hr:Ve.current,u=us(t,u));var f=n.getDerivedStateFromProps,d=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&xp(t,o,r,u),wn=!1;var p=t.memoizedState;o.state=p,aa(t,r,o,s),l=t.memoizedState,a!==r||p!==l||rt.current||wn?(typeof f=="function"&&(Gc(t,n,f,r),l=t.memoizedState),(a=wn||vp(t,n,a,r,p,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Og(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Rt(t.type,a),o.props=u,d=t.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=kt(l):(l=st(n)?hr:Ve.current,l=us(t,l));var g=n.getDerivedStateFromProps;(f=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||p!==l)&&xp(t,o,r,l),wn=!1,p=t.memoizedState,o.state=p,aa(t,r,o,s);var y=t.memoizedState;a!==d||p!==y||rt.current||wn?(typeof g=="function"&&(Gc(t,n,g,r),y=t.memoizedState),(u=wn||vp(t,n,u,r,p,y,l)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),o.props=r,o.state=y,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Xc(e,t,n,r,i,s)}function Xc(e,t,n,r,s,i){a0(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&up(t,n,!1),fn(e,t,i);r=t.stateNode,y_.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=fs(t,e.child,null,i),t.child=fs(t,null,a,i)):qe(e,t,a,i),t.memoizedState=r.state,s&&up(t,n,!0),t.child}function l0(e){var t=e.stateNode;t.pendingContext?cp(e,t.pendingContext,t.pendingContext!==t.context):t.context&&cp(e,t.context,!1),gd(e,t.containerInfo)}function Cp(e,t,n,r,s){return ds(),ud(s),t.flags|=256,qe(e,t,n,r),t.child}var Qc={dehydrated:null,treeContext:null,retryLane:0};function Jc(e){return{baseLanes:e,cachePool:null,transitions:null}}function c0(e,t,n){var r=t.pendingProps,s=ve.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ue(ve,s&1),e===null)return Wc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Va(o,r,0,null),e=dr(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Jc(n),t.memoizedState=Qc,e):bd(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return v_(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=zn(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=zn(a,i):(i=dr(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?Jc(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Qc,r}return i=e.child,e=i.sibling,r=zn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function bd(e,t){return t=Va({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function go(e,t,n,r){return r!==null&&ud(r),fs(t,e.child,null,n),e=bd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function v_(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=Ql(Error(L(422))),go(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Va({mode:"visible",children:r.children},s,0,null),i=dr(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&fs(t,e.child,null,o),t.child.memoizedState=Jc(o),t.memoizedState=Qc,i);if(!(t.mode&1))return go(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(L(419)),r=Ql(i,r,void 0),go(e,t,o,r)}if(a=(o&e.childLanes)!==0,nt||a){if(r=Ae,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,dn(e,s),At(r,e,s,-1))}return jd(),r=Ql(Error(L(421))),go(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=R_.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,lt=Dn(s.nextSibling),ct=t,he=!0,Lt=null,e!==null&&(gt[yt++]=rn,gt[yt++]=sn,gt[yt++]=mr,rn=e.id,sn=e.overflow,mr=t),t=bd(t,r.children),t.flags|=4096,t)}function Tp(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Vc(e.return,t,n)}function Jl(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function u0(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(qe(e,t,r.children,n),r=ve.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Tp(e,n,t);else if(e.tag===19)Tp(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ue(ve,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&la(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Jl(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&la(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Jl(t,!0,n,null,i);break;case"together":Jl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Uo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function fn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),yr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(L(153));if(t.child!==null){for(e=t.child,n=zn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=zn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function x_(e,t,n){switch(t.tag){case 3:l0(t),ds();break;case 5:Ag(t);break;case 1:st(t.type)&&na(t);break;case 4:gd(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;ue(ia,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ue(ve,ve.current&1),t.flags|=128,null):n&t.child.childLanes?c0(e,t,n):(ue(ve,ve.current&1),e=fn(e,t,n),e!==null?e.sibling:null);ue(ve,ve.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return u0(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ue(ve,ve.current),r)break;return null;case 22:case 23:return t.lanes=0,o0(e,t,n)}return fn(e,t,n)}var d0,Zc,f0,p0;d0=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Zc=function(){};f0=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,lr(Xt.current);var i=null;switch(n){case"input":s=wc(e,s),r=wc(e,r),i=[];break;case"select":s=_e({},s,{value:void 0}),r=_e({},r,{value:void 0}),i=[];break;case"textarea":s=bc(e,s),r=bc(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ea)}Cc(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(fi.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(fi.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&fe("scroll",e),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};p0=function(e,t,n,r){n!==r&&(t.flags|=4)};function Bs(e,t){if(!he)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function He(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function __(e,t,n){var r=t.pendingProps;switch(cd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return He(t),null;case 1:return st(t.type)&&ta(),He(t),null;case 3:return r=t.stateNode,ps(),pe(rt),pe(Ve),vd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ho(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Lt!==null&&(au(Lt),Lt=null))),Zc(e,t),He(t),null;case 5:yd(t);var s=lr(bi.current);if(n=t.type,e!==null&&t.stateNode!=null)f0(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(L(166));return He(t),null}if(e=lr(Xt.current),ho(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Gt]=t,r[Si]=i,e=(t.mode&1)!==0,n){case"dialog":fe("cancel",r),fe("close",r);break;case"iframe":case"object":case"embed":fe("load",r);break;case"video":case"audio":for(s=0;s<Xs.length;s++)fe(Xs[s],r);break;case"source":fe("error",r);break;case"img":case"image":case"link":fe("error",r),fe("load",r);break;case"details":fe("toggle",r);break;case"input":Af(r,i),fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},fe("invalid",r);break;case"textarea":Ff(r,i),fe("invalid",r)}Cc(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&po(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&po(r.textContent,a,e),s=["children",""+a]):fi.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&fe("scroll",r)}switch(n){case"input":so(r),Df(r,i,!0);break;case"textarea":so(r),$f(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=ea)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=zm(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Gt]=t,e[Si]=r,d0(e,t,!1,!1),t.stateNode=e;e:{switch(o=Tc(n,r),n){case"dialog":fe("cancel",e),fe("close",e),s=r;break;case"iframe":case"object":case"embed":fe("load",e),s=r;break;case"video":case"audio":for(s=0;s<Xs.length;s++)fe(Xs[s],e);s=r;break;case"source":fe("error",e),s=r;break;case"img":case"image":case"link":fe("error",e),fe("load",e),s=r;break;case"details":fe("toggle",e),s=r;break;case"input":Af(e,r),s=wc(e,r),fe("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=_e({},r,{value:void 0}),fe("invalid",e);break;case"textarea":Ff(e,r),s=bc(e,r),fe("invalid",e);break;default:s=r}Cc(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Wm(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Bm(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&pi(e,l):typeof l=="number"&&pi(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(fi.hasOwnProperty(i)?l!=null&&i==="onScroll"&&fe("scroll",e):l!=null&&qu(e,i,l,o))}switch(n){case"input":so(e),Df(e,r,!1);break;case"textarea":so(e),$f(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Vn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?es(e,!!r.multiple,i,!1):r.defaultValue!=null&&es(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=ea)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return He(t),null;case 6:if(e&&t.stateNode!=null)p0(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(L(166));if(n=lr(bi.current),lr(Xt.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[Gt]=t,(i=r.nodeValue!==n)&&(e=ct,e!==null))switch(e.tag){case 3:po(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&po(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Gt]=t,t.stateNode=r}return He(t),null;case 13:if(pe(ve),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(he&&lt!==null&&t.mode&1&&!(t.flags&128))Rg(),ds(),t.flags|=98560,i=!1;else if(i=ho(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(L(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(L(317));i[Gt]=t}else ds(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;He(t),i=!1}else Lt!==null&&(au(Lt),Lt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ve.current&1?Le===0&&(Le=3):jd())),t.updateQueue!==null&&(t.flags|=4),He(t),null);case 4:return ps(),Zc(e,t),e===null&&_i(t.stateNode.containerInfo),He(t),null;case 10:return pd(t.type._context),He(t),null;case 17:return st(t.type)&&ta(),He(t),null;case 19:if(pe(ve),i=t.memoizedState,i===null)return He(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)Bs(i,!1);else{if(Le!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=la(e),o!==null){for(t.flags|=128,Bs(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ue(ve,ve.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ce()>ms&&(t.flags|=128,r=!0,Bs(i,!1),t.lanes=4194304)}else{if(!r)if(e=la(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Bs(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!he)return He(t),null}else 2*Ce()-i.renderingStartTime>ms&&n!==1073741824&&(t.flags|=128,r=!0,Bs(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ce(),t.sibling=null,n=ve.current,ue(ve,r?n&1|2:n&1),t):(He(t),null);case 22:case 23:return Id(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ot&1073741824&&(He(t),t.subtreeFlags&6&&(t.flags|=8192)):He(t),null;case 24:return null;case 25:return null}throw Error(L(156,t.tag))}function w_(e,t){switch(cd(t),t.tag){case 1:return st(t.type)&&ta(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ps(),pe(rt),pe(Ve),vd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return yd(t),null;case 13:if(pe(ve),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(L(340));ds()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return pe(ve),null;case 4:return ps(),null;case 10:return pd(t.type._context),null;case 22:case 23:return Id(),null;case 24:return null;default:return null}}var yo=!1,We=!1,S_=typeof WeakSet=="function"?WeakSet:Set,F=null;function Gr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){be(e,t,r)}else n.current=null}function eu(e,t,n){try{n()}catch(r){be(e,t,r)}}var Np=!1;function k_(e,t){if(Dc=Qo,e=vg(),ad(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,f=0,d=e,p=null;t:for(;;){for(var g;d!==n||s!==0&&d.nodeType!==3||(a=o+s),d!==i||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(g=d.firstChild)!==null;)p=d,d=g;for(;;){if(d===e)break t;if(p===n&&++u===s&&(a=o),p===i&&++f===r&&(l=o),(g=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Fc={focusedElem:e,selectionRange:n},Qo=!1,F=t;F!==null;)if(t=F,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,F=e;else for(;F!==null;){t=F;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var x=y.memoizedProps,_=y.memoizedState,h=t.stateNode,m=h.getSnapshotBeforeUpdate(t.elementType===t.type?x:Rt(t.type,x),_);h.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(w){be(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,F=e;break}F=t.return}return y=Np,Np=!1,y}function si(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&eu(t,n,i)}s=s.next}while(s!==r)}}function Ha(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function tu(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function h0(e){var t=e.alternate;t!==null&&(e.alternate=null,h0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Gt],delete t[Si],delete t[zc],delete t[i_],delete t[o_])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function m0(e){return e.tag===5||e.tag===3||e.tag===4}function Ip(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||m0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function nu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ea));else if(r!==4&&(e=e.child,e!==null))for(nu(e,t,n),e=e.sibling;e!==null;)nu(e,t,n),e=e.sibling}function ru(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ru(e,t,n),e=e.sibling;e!==null;)ru(e,t,n),e=e.sibling}var Fe=null,Mt=!1;function xn(e,t,n){for(n=n.child;n!==null;)g0(e,t,n),n=n.sibling}function g0(e,t,n){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(Oa,n)}catch{}switch(n.tag){case 5:We||Gr(n,t);case 6:var r=Fe,s=Mt;Fe=null,xn(e,t,n),Fe=r,Mt=s,Fe!==null&&(Mt?(e=Fe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Fe.removeChild(n.stateNode));break;case 18:Fe!==null&&(Mt?(e=Fe,n=n.stateNode,e.nodeType===8?Vl(e.parentNode,n):e.nodeType===1&&Vl(e,n),yi(e)):Vl(Fe,n.stateNode));break;case 4:r=Fe,s=Mt,Fe=n.stateNode.containerInfo,Mt=!0,xn(e,t,n),Fe=r,Mt=s;break;case 0:case 11:case 14:case 15:if(!We&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&eu(n,t,o),s=s.next}while(s!==r)}xn(e,t,n);break;case 1:if(!We&&(Gr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){be(n,t,a)}xn(e,t,n);break;case 21:xn(e,t,n);break;case 22:n.mode&1?(We=(r=We)||n.memoizedState!==null,xn(e,t,n),We=r):xn(e,t,n);break;default:xn(e,t,n)}}function jp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new S_),t.forEach(function(r){var s=M_.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Nt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Fe=a.stateNode,Mt=!1;break e;case 3:Fe=a.stateNode.containerInfo,Mt=!0;break e;case 4:Fe=a.stateNode.containerInfo,Mt=!0;break e}a=a.return}if(Fe===null)throw Error(L(160));g0(i,o,s),Fe=null,Mt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){be(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)y0(t,e),t=t.sibling}function y0(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Nt(t,e),Ut(e),r&4){try{si(3,e,e.return),Ha(3,e)}catch(x){be(e,e.return,x)}try{si(5,e,e.return)}catch(x){be(e,e.return,x)}}break;case 1:Nt(t,e),Ut(e),r&512&&n!==null&&Gr(n,n.return);break;case 5:if(Nt(t,e),Ut(e),r&512&&n!==null&&Gr(n,n.return),e.flags&32){var s=e.stateNode;try{pi(s,"")}catch(x){be(e,e.return,x)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&$m(s,i),Tc(a,o);var u=Tc(a,i);for(o=0;o<l.length;o+=2){var f=l[o],d=l[o+1];f==="style"?Wm(s,d):f==="dangerouslySetInnerHTML"?Bm(s,d):f==="children"?pi(s,d):qu(s,f,d,u)}switch(a){case"input":Sc(s,i);break;case"textarea":Um(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?es(s,!!i.multiple,g,!1):p!==!!i.multiple&&(i.defaultValue!=null?es(s,!!i.multiple,i.defaultValue,!0):es(s,!!i.multiple,i.multiple?[]:"",!1))}s[Si]=i}catch(x){be(e,e.return,x)}}break;case 6:if(Nt(t,e),Ut(e),r&4){if(e.stateNode===null)throw Error(L(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(x){be(e,e.return,x)}}break;case 3:if(Nt(t,e),Ut(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{yi(t.containerInfo)}catch(x){be(e,e.return,x)}break;case 4:Nt(t,e),Ut(e);break;case 13:Nt(t,e),Ut(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Td=Ce())),r&4&&jp(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(We=(u=We)||f,Nt(t,e),We=u):Nt(t,e),Ut(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(F=e,f=e.child;f!==null;){for(d=F=f;F!==null;){switch(p=F,g=p.child,p.tag){case 0:case 11:case 14:case 15:si(4,p,p.return);break;case 1:Gr(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(x){be(r,n,x)}}break;case 5:Gr(p,p.return);break;case 22:if(p.memoizedState!==null){Mp(d);continue}}g!==null?(g.return=p,F=g):Mp(d)}f=f.sibling}e:for(f=null,d=e;;){if(d.tag===5){if(f===null){f=d;try{s=d.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Hm("display",o))}catch(x){be(e,e.return,x)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(x){be(e,e.return,x)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Nt(t,e),Ut(e),r&4&&jp(e);break;case 21:break;default:Nt(t,e),Ut(e)}}function Ut(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(m0(n)){var r=n;break e}n=n.return}throw Error(L(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(pi(s,""),r.flags&=-33);var i=Ip(e);ru(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Ip(e);nu(e,a,o);break;default:throw Error(L(161))}}catch(l){be(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function b_(e,t,n){F=e,v0(e)}function v0(e,t,n){for(var r=(e.mode&1)!==0;F!==null;){var s=F,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||yo;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||We;a=yo;var u=We;if(yo=o,(We=l)&&!u)for(F=s;F!==null;)o=F,l=o.child,o.tag===22&&o.memoizedState!==null?Lp(s):l!==null?(l.return=o,F=l):Lp(s);for(;i!==null;)F=i,v0(i),i=i.sibling;F=s,yo=a,We=u}Rp(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,F=i):Rp(e)}}function Rp(e){for(;F!==null;){var t=F;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:We||Ha(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!We)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Rt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&mp(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}mp(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&yi(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}We||t.flags&512&&tu(t)}catch(p){be(t,t.return,p)}}if(t===e){F=null;break}if(n=t.sibling,n!==null){n.return=t.return,F=n;break}F=t.return}}function Mp(e){for(;F!==null;){var t=F;if(t===e){F=null;break}var n=t.sibling;if(n!==null){n.return=t.return,F=n;break}F=t.return}}function Lp(e){for(;F!==null;){var t=F;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ha(4,t)}catch(l){be(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){be(t,s,l)}}var i=t.return;try{tu(t)}catch(l){be(t,i,l)}break;case 5:var o=t.return;try{tu(t)}catch(l){be(t,o,l)}}}catch(l){be(t,t.return,l)}if(t===e){F=null;break}var a=t.sibling;if(a!==null){a.return=t.return,F=a;break}F=t.return}}var E_=Math.ceil,da=gn.ReactCurrentDispatcher,Ed=gn.ReactCurrentOwner,_t=gn.ReactCurrentBatchConfig,Z=0,Ae=null,Ne=null,$e=0,ot=0,Yr=Xn(0),Le=0,Ni=null,yr=0,Wa=0,Cd=0,ii=null,tt=null,Td=0,ms=1/0,Zt=null,fa=!1,su=null,$n=null,vo=!1,jn=null,pa=0,oi=0,iu=null,zo=-1,Bo=0;function Je(){return Z&6?Ce():zo!==-1?zo:zo=Ce()}function Un(e){return e.mode&1?Z&2&&$e!==0?$e&-$e:l_.transition!==null?(Bo===0&&(Bo=ng()),Bo):(e=ie,e!==0||(e=window.event,e=e===void 0?16:cg(e.type)),e):1}function At(e,t,n,r){if(50<oi)throw oi=0,iu=null,Error(L(185));Di(e,n,r),(!(Z&2)||e!==Ae)&&(e===Ae&&(!(Z&2)&&(Wa|=n),Le===4&&Tn(e,$e)),it(e,r),n===1&&Z===0&&!(t.mode&1)&&(ms=Ce()+500,Ua&&Qn()))}function it(e,t){var n=e.callbackNode;l1(e,t);var r=Xo(e,e===Ae?$e:0);if(r===0)n!==null&&Bf(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Bf(n),t===1)e.tag===0?a_(Pp.bind(null,e)):Ng(Pp.bind(null,e)),r_(function(){!(Z&6)&&Qn()}),n=null;else{switch(rg(r)){case 1:n=Zu;break;case 4:n=eg;break;case 16:n=Ko;break;case 536870912:n=tg;break;default:n=Ko}n=C0(n,x0.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function x0(e,t){if(zo=-1,Bo=0,Z&6)throw Error(L(327));var n=e.callbackNode;if(is()&&e.callbackNode!==n)return null;var r=Xo(e,e===Ae?$e:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ha(e,r);else{t=r;var s=Z;Z|=2;var i=w0();(Ae!==e||$e!==t)&&(Zt=null,ms=Ce()+500,ur(e,t));do try{N_();break}catch(a){_0(e,a)}while(1);fd(),da.current=i,Z=s,Ne!==null?t=0:(Ae=null,$e=0,t=Le)}if(t!==0){if(t===2&&(s=Mc(e),s!==0&&(r=s,t=ou(e,s))),t===1)throw n=Ni,ur(e,0),Tn(e,r),it(e,Ce()),n;if(t===6)Tn(e,r);else{if(s=e.current.alternate,!(r&30)&&!C_(s)&&(t=ha(e,r),t===2&&(i=Mc(e),i!==0&&(r=i,t=ou(e,i))),t===1))throw n=Ni,ur(e,0),Tn(e,r),it(e,Ce()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(L(345));case 2:ir(e,tt,Zt);break;case 3:if(Tn(e,r),(r&130023424)===r&&(t=Td+500-Ce(),10<t)){if(Xo(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Je(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Uc(ir.bind(null,e,tt,Zt),t);break}ir(e,tt,Zt);break;case 4:if(Tn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-Ot(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=Ce()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*E_(r/1960))-r,10<r){e.timeoutHandle=Uc(ir.bind(null,e,tt,Zt),r);break}ir(e,tt,Zt);break;case 5:ir(e,tt,Zt);break;default:throw Error(L(329))}}}return it(e,Ce()),e.callbackNode===n?x0.bind(null,e):null}function ou(e,t){var n=ii;return e.current.memoizedState.isDehydrated&&(ur(e,t).flags|=256),e=ha(e,t),e!==2&&(t=tt,tt=n,t!==null&&au(t)),e}function au(e){tt===null?tt=e:tt.push.apply(tt,e)}function C_(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Ft(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Tn(e,t){for(t&=~Cd,t&=~Wa,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ot(t),r=1<<n;e[n]=-1,t&=~r}}function Pp(e){if(Z&6)throw Error(L(327));is();var t=Xo(e,0);if(!(t&1))return it(e,Ce()),null;var n=ha(e,t);if(e.tag!==0&&n===2){var r=Mc(e);r!==0&&(t=r,n=ou(e,r))}if(n===1)throw n=Ni,ur(e,0),Tn(e,t),it(e,Ce()),n;if(n===6)throw Error(L(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ir(e,tt,Zt),it(e,Ce()),null}function Nd(e,t){var n=Z;Z|=1;try{return e(t)}finally{Z=n,Z===0&&(ms=Ce()+500,Ua&&Qn())}}function vr(e){jn!==null&&jn.tag===0&&!(Z&6)&&is();var t=Z;Z|=1;var n=_t.transition,r=ie;try{if(_t.transition=null,ie=1,e)return e()}finally{ie=r,_t.transition=n,Z=t,!(Z&6)&&Qn()}}function Id(){ot=Yr.current,pe(Yr)}function ur(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,n_(n)),Ne!==null)for(n=Ne.return;n!==null;){var r=n;switch(cd(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ta();break;case 3:ps(),pe(rt),pe(Ve),vd();break;case 5:yd(r);break;case 4:ps();break;case 13:pe(ve);break;case 19:pe(ve);break;case 10:pd(r.type._context);break;case 22:case 23:Id()}n=n.return}if(Ae=e,Ne=e=zn(e.current,null),$e=ot=t,Le=0,Ni=null,Cd=Wa=yr=0,tt=ii=null,ar!==null){for(t=0;t<ar.length;t++)if(n=ar[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}ar=null}return e}function _0(e,t){do{var n=Ne;try{if(fd(),Fo.current=ua,ca){for(var r=xe.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ca=!1}if(gr=0,Pe=je=xe=null,ri=!1,Ei=0,Ed.current=null,n===null||n.return===null){Le=1,Ni=t,Ne=null;break}e:{var i=e,o=n.return,a=n,l=t;if(t=$e,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,f=a,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var g=wp(o);if(g!==null){g.flags&=-257,Sp(g,o,a,i,t),g.mode&1&&_p(i,u,t),t=g,l=u;var y=t.updateQueue;if(y===null){var x=new Set;x.add(l),t.updateQueue=x}else y.add(l);break e}else{if(!(t&1)){_p(i,u,t),jd();break e}l=Error(L(426))}}else if(he&&a.mode&1){var _=wp(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Sp(_,o,a,i,t),ud(hs(l,a));break e}}i=l=hs(l,a),Le!==4&&(Le=2),ii===null?ii=[i]:ii.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var h=r0(i,l,t);hp(i,h);break e;case 1:a=l;var m=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&($n===null||!$n.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t;var w=s0(i,a,t);hp(i,w);break e}}i=i.return}while(i!==null)}k0(n)}catch(b){t=b,Ne===n&&n!==null&&(Ne=n=n.return);continue}break}while(1)}function w0(){var e=da.current;return da.current=ua,e===null?ua:e}function jd(){(Le===0||Le===3||Le===2)&&(Le=4),Ae===null||!(yr&268435455)&&!(Wa&268435455)||Tn(Ae,$e)}function ha(e,t){var n=Z;Z|=2;var r=w0();(Ae!==e||$e!==t)&&(Zt=null,ur(e,t));do try{T_();break}catch(s){_0(e,s)}while(1);if(fd(),Z=n,da.current=r,Ne!==null)throw Error(L(261));return Ae=null,$e=0,Le}function T_(){for(;Ne!==null;)S0(Ne)}function N_(){for(;Ne!==null&&!Zx();)S0(Ne)}function S0(e){var t=E0(e.alternate,e,ot);e.memoizedProps=e.pendingProps,t===null?k0(e):Ne=t,Ed.current=null}function k0(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=w_(n,t),n!==null){n.flags&=32767,Ne=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Le=6,Ne=null;return}}else if(n=__(n,t,ot),n!==null){Ne=n;return}if(t=t.sibling,t!==null){Ne=t;return}Ne=t=e}while(t!==null);Le===0&&(Le=5)}function ir(e,t,n){var r=ie,s=_t.transition;try{_t.transition=null,ie=1,I_(e,t,n,r)}finally{_t.transition=s,ie=r}return null}function I_(e,t,n,r){do is();while(jn!==null);if(Z&6)throw Error(L(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(L(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(c1(e,i),e===Ae&&(Ne=Ae=null,$e=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||vo||(vo=!0,C0(Ko,function(){return is(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=_t.transition,_t.transition=null;var o=ie;ie=1;var a=Z;Z|=4,Ed.current=null,k_(e,n),y0(n,e),K1(Fc),Qo=!!Dc,Fc=Dc=null,e.current=n,b_(n),e1(),Z=a,ie=o,_t.transition=i}else e.current=n;if(vo&&(vo=!1,jn=e,pa=s),i=e.pendingLanes,i===0&&($n=null),r1(n.stateNode),it(e,Ce()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(fa)throw fa=!1,e=su,su=null,e;return pa&1&&e.tag!==0&&is(),i=e.pendingLanes,i&1?e===iu?oi++:(oi=0,iu=e):oi=0,Qn(),null}function is(){if(jn!==null){var e=rg(pa),t=_t.transition,n=ie;try{if(_t.transition=null,ie=16>e?16:e,jn===null)var r=!1;else{if(e=jn,jn=null,pa=0,Z&6)throw Error(L(331));var s=Z;for(Z|=4,F=e.current;F!==null;){var i=F,o=i.child;if(F.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(F=u;F!==null;){var f=F;switch(f.tag){case 0:case 11:case 15:si(8,f,i)}var d=f.child;if(d!==null)d.return=f,F=d;else for(;F!==null;){f=F;var p=f.sibling,g=f.return;if(h0(f),f===u){F=null;break}if(p!==null){p.return=g,F=p;break}F=g}}}var y=i.alternate;if(y!==null){var x=y.child;if(x!==null){y.child=null;do{var _=x.sibling;x.sibling=null,x=_}while(x!==null)}}F=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,F=o;else e:for(;F!==null;){if(i=F,i.flags&2048)switch(i.tag){case 0:case 11:case 15:si(9,i,i.return)}var h=i.sibling;if(h!==null){h.return=i.return,F=h;break e}F=i.return}}var m=e.current;for(F=m;F!==null;){o=F;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,F=v;else e:for(o=m;F!==null;){if(a=F,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ha(9,a)}}catch(b){be(a,a.return,b)}if(a===o){F=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,F=w;break e}F=a.return}}if(Z=s,Qn(),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(Oa,e)}catch{}r=!0}return r}finally{ie=n,_t.transition=t}}return!1}function Op(e,t,n){t=hs(n,t),t=r0(e,t,1),e=Fn(e,t,1),t=Je(),e!==null&&(Di(e,1,t),it(e,t))}function be(e,t,n){if(e.tag===3)Op(e,e,n);else for(;t!==null;){if(t.tag===3){Op(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&($n===null||!$n.has(r))){e=hs(n,e),e=s0(t,e,1),t=Fn(t,e,1),e=Je(),t!==null&&(Di(t,1,e),it(t,e));break}}t=t.return}}function j_(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Je(),e.pingedLanes|=e.suspendedLanes&n,Ae===e&&($e&n)===n&&(Le===4||Le===3&&($e&130023424)===$e&&500>Ce()-Td?ur(e,0):Cd|=n),it(e,t)}function b0(e,t){t===0&&(e.mode&1?(t=ao,ao<<=1,!(ao&130023424)&&(ao=4194304)):t=1);var n=Je();e=dn(e,t),e!==null&&(Di(e,t,n),it(e,n))}function R_(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),b0(e,n)}function M_(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(L(314))}r!==null&&r.delete(t),b0(e,n)}var E0;E0=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||rt.current)nt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return nt=!1,x_(e,t,n);nt=!!(e.flags&131072)}else nt=!1,he&&t.flags&1048576&&Ig(t,sa,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Uo(e,t),e=t.pendingProps;var s=us(t,Ve.current);ss(t,n),s=_d(null,t,r,e,s,n);var i=wd();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,st(r)?(i=!0,na(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,md(t),s.updater=Ba,t.stateNode=s,s._reactInternals=t,Yc(t,r,e,n),t=Xc(null,t,r,!0,i,n)):(t.tag=0,he&&i&&ld(t),qe(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Uo(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=P_(r),e=Rt(r,e),s){case 0:t=Kc(null,t,r,e,n);break e;case 1:t=Ep(null,t,r,e,n);break e;case 11:t=kp(null,t,r,e,n);break e;case 14:t=bp(null,t,r,Rt(r.type,e),n);break e}throw Error(L(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Rt(r,s),Kc(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Rt(r,s),Ep(e,t,r,s,n);case 3:e:{if(l0(t),e===null)throw Error(L(387));r=t.pendingProps,i=t.memoizedState,s=i.element,Og(e,t),aa(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=hs(Error(L(423)),t),t=Cp(e,t,r,n,s);break e}else if(r!==s){s=hs(Error(L(424)),t),t=Cp(e,t,r,n,s);break e}else for(lt=Dn(t.stateNode.containerInfo.firstChild),ct=t,he=!0,Lt=null,n=Lg(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ds(),r===s){t=fn(e,t,n);break e}qe(e,t,r,n)}t=t.child}return t;case 5:return Ag(t),e===null&&Wc(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,$c(r,s)?o=null:i!==null&&$c(r,i)&&(t.flags|=32),a0(e,t),qe(e,t,o,n),t.child;case 6:return e===null&&Wc(t),null;case 13:return c0(e,t,n);case 4:return gd(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=fs(t,null,r,n):qe(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Rt(r,s),kp(e,t,r,s,n);case 7:return qe(e,t,t.pendingProps,n),t.child;case 8:return qe(e,t,t.pendingProps.children,n),t.child;case 12:return qe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,ue(ia,r._currentValue),r._currentValue=o,i!==null)if(Ft(i.value,o)){if(i.children===s.children&&!rt.current){t=fn(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=on(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?l.next=l:(l.next=f.next,f.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Vc(i.return,n,t),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(L(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Vc(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}qe(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,ss(t,n),s=kt(s),r=r(s),t.flags|=1,qe(e,t,r,n),t.child;case 14:return r=t.type,s=Rt(r,t.pendingProps),s=Rt(r.type,s),bp(e,t,r,s,n);case 15:return i0(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Rt(r,s),Uo(e,t),t.tag=1,st(r)?(e=!0,na(t)):e=!1,ss(t,n),n0(t,r,s),Yc(t,r,s,n),Xc(null,t,r,!0,e,n);case 19:return u0(e,t,n);case 22:return o0(e,t,n)}throw Error(L(156,t.tag))};function C0(e,t){return Zm(e,t)}function L_(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vt(e,t,n,r){return new L_(e,t,n,r)}function Rd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function P_(e){if(typeof e=="function")return Rd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Xu)return 11;if(e===Qu)return 14}return 2}function zn(e,t){var n=e.alternate;return n===null?(n=vt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ho(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")Rd(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Dr:return dr(n.children,s,i,t);case Ku:o=8,s|=8;break;case yc:return e=vt(12,n,t,s|2),e.elementType=yc,e.lanes=i,e;case vc:return e=vt(13,n,t,s),e.elementType=vc,e.lanes=i,e;case xc:return e=vt(19,n,t,s),e.elementType=xc,e.lanes=i,e;case Am:return Va(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Pm:o=10;break e;case Om:o=9;break e;case Xu:o=11;break e;case Qu:o=14;break e;case _n:o=16,r=null;break e}throw Error(L(130,e==null?e:typeof e,""))}return t=vt(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function dr(e,t,n,r){return e=vt(7,e,r,t),e.lanes=n,e}function Va(e,t,n,r){return e=vt(22,e,r,t),e.elementType=Am,e.lanes=n,e.stateNode={isHidden:!1},e}function Zl(e,t,n){return e=vt(6,e,null,t),e.lanes=n,e}function ec(e,t,n){return t=vt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function O_(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pl(0),this.expirationTimes=Pl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pl(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Md(e,t,n,r,s,i,o,a,l){return e=new O_(e,t,n,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=vt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},md(i),e}function A_(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ar,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function T0(e){if(!e)return Gn;e=e._reactInternals;e:{if(kr(e)!==e||e.tag!==1)throw Error(L(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(st(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(L(171))}if(e.tag===1){var n=e.type;if(st(n))return Tg(e,n,t)}return t}function N0(e,t,n,r,s,i,o,a,l){return e=Md(n,r,!0,e,s,i,o,a,l),e.context=T0(null),n=e.current,r=Je(),s=Un(n),i=on(r,s),i.callback=t??null,Fn(n,i,s),e.current.lanes=s,Di(e,s,r),it(e,r),e}function Ga(e,t,n,r){var s=t.current,i=Je(),o=Un(s);return n=T0(n),t.context===null?t.context=n:t.pendingContext=n,t=on(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Fn(s,t,o),e!==null&&(At(e,s,o,i),Do(e,s,o)),o}function ma(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ap(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ld(e,t){Ap(e,t),(e=e.alternate)&&Ap(e,t)}function D_(){return null}var I0=typeof reportError=="function"?reportError:function(e){console.error(e)};function Pd(e){this._internalRoot=e}Ya.prototype.render=Pd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(L(409));Ga(e,t,null,null)};Ya.prototype.unmount=Pd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;vr(function(){Ga(null,e,null,null)}),t[un]=null}};function Ya(e){this._internalRoot=e}Ya.prototype.unstable_scheduleHydration=function(e){if(e){var t=og();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Cn.length&&t!==0&&t<Cn[n].priority;n++);Cn.splice(n,0,e),n===0&&lg(e)}};function Od(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function qa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Dp(){}function F_(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=ma(o);i.call(u)}}var o=N0(t,r,e,0,null,!1,!1,"",Dp);return e._reactRootContainer=o,e[un]=o.current,_i(e.nodeType===8?e.parentNode:e),vr(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=ma(l);a.call(u)}}var l=Md(e,0,!1,null,null,!1,!1,"",Dp);return e._reactRootContainer=l,e[un]=l.current,_i(e.nodeType===8?e.parentNode:e),vr(function(){Ga(t,l,n,r)}),l}function Ka(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=ma(o);a.call(l)}}Ga(t,o,e,s)}else o=F_(n,t,e,s,r);return ma(o)}sg=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ks(t.pendingLanes);n!==0&&(ed(t,n|1),it(t,Ce()),!(Z&6)&&(ms=Ce()+500,Qn()))}break;case 13:vr(function(){var r=dn(e,1);if(r!==null){var s=Je();At(r,e,1,s)}}),Ld(e,1)}};td=function(e){if(e.tag===13){var t=dn(e,134217728);if(t!==null){var n=Je();At(t,e,134217728,n)}Ld(e,134217728)}};ig=function(e){if(e.tag===13){var t=Un(e),n=dn(e,t);if(n!==null){var r=Je();At(n,e,t,r)}Ld(e,t)}};og=function(){return ie};ag=function(e,t){var n=ie;try{return ie=e,t()}finally{ie=n}};Ic=function(e,t,n){switch(t){case"input":if(Sc(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=$a(r);if(!s)throw Error(L(90));Fm(r),Sc(r,s)}}}break;case"textarea":Um(e,n);break;case"select":t=n.value,t!=null&&es(e,!!n.multiple,t,!1)}};Ym=Nd;qm=vr;var $_={usingClientEntryPoint:!1,Events:[$i,zr,$a,Vm,Gm,Nd]},Hs={findFiberByHostInstance:or,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},U_={bundleType:Hs.bundleType,version:Hs.version,rendererPackageName:Hs.rendererPackageName,rendererConfig:Hs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:gn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Qm(e),e===null?null:e.stateNode},findFiberByHostInstance:Hs.findFiberByHostInstance||D_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xo.isDisabled&&xo.supportsFiber)try{Oa=xo.inject(U_),Kt=xo}catch{}}ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$_;ft.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Od(t))throw Error(L(200));return A_(e,t,null,n)};ft.createRoot=function(e,t){if(!Od(e))throw Error(L(299));var n=!1,r="",s=I0;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Md(e,1,!1,null,null,n,!1,r,s),e[un]=t.current,_i(e.nodeType===8?e.parentNode:e),new Pd(t)};ft.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(L(188)):(e=Object.keys(e).join(","),Error(L(268,e)));return e=Qm(t),e=e===null?null:e.stateNode,e};ft.flushSync=function(e){return vr(e)};ft.hydrate=function(e,t,n){if(!qa(t))throw Error(L(200));return Ka(null,e,t,!0,n)};ft.hydrateRoot=function(e,t,n){if(!Od(e))throw Error(L(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=I0;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=N0(t,null,e,1,n??null,s,!1,i,o),e[un]=t.current,_i(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Ya(t)};ft.render=function(e,t,n){if(!qa(t))throw Error(L(200));return Ka(null,e,t,!1,n)};ft.unmountComponentAtNode=function(e){if(!qa(e))throw Error(L(40));return e._reactRootContainer?(vr(function(){Ka(null,null,e,!1,function(){e._reactRootContainer=null,e[un]=null})}),!0):!1};ft.unstable_batchedUpdates=Nd;ft.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!qa(n))throw Error(L(200));if(e==null||e._reactInternals===void 0)throw Error(L(38));return Ka(e,t,n,!1,r)};ft.version="18.3.1-next-f1338f8080-20240426";function j0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(j0)}catch(e){console.error(e)}}j0(),jm.exports=ft;var z_=jm.exports,Fp=z_;mc.createRoot=Fp.createRoot,mc.hydrateRoot=Fp.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ii(){return Ii=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ii.apply(this,arguments)}var Rn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Rn||(Rn={}));const $p="popstate";function B_(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:o,hash:a}=r.location;return lu("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:M0(s)}return W_(t,n,null,e)}function Ie(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function R0(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function H_(){return Math.random().toString(36).substr(2,8)}function Up(e,t){return{usr:e.state,key:e.key,idx:t}}function lu(e,t,n,r){return n===void 0&&(n=null),Ii({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Is(t):t,{state:n,key:t&&t.key||r||H_()})}function M0(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Is(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function W_(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Rn.Pop,l=null,u=f();u==null&&(u=0,o.replaceState(Ii({},o.state,{idx:u}),""));function f(){return(o.state||{idx:null}).idx}function d(){a=Rn.Pop;let _=f(),h=_==null?null:_-u;u=_,l&&l({action:a,location:x.location,delta:h})}function p(_,h){a=Rn.Push;let m=lu(x.location,_,h);n&&n(m,_),u=f()+1;let v=Up(m,u),w=x.createHref(m);try{o.pushState(v,"",w)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;s.location.assign(w)}i&&l&&l({action:a,location:x.location,delta:1})}function g(_,h){a=Rn.Replace;let m=lu(x.location,_,h);n&&n(m,_),u=f();let v=Up(m,u),w=x.createHref(m);o.replaceState(v,"",w),i&&l&&l({action:a,location:x.location,delta:0})}function y(_){let h=s.location.origin!=="null"?s.location.origin:s.location.href,m=typeof _=="string"?_:M0(_);return m=m.replace(/ $/,"%20"),Ie(h,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,h)}let x={get action(){return a},get location(){return e(s,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener($p,d),l=_,()=>{s.removeEventListener($p,d),l=null}},createHref(_){return t(s,_)},createURL:y,encodeLocation(_){let h=y(_);return{pathname:h.pathname,search:h.search,hash:h.hash}},push:p,replace:g,go(_){return o.go(_)}};return x}var zp;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(zp||(zp={}));function V_(e,t,n){return n===void 0&&(n="/"),G_(e,t,n,!1)}function G_(e,t,n,r){let s=typeof t=="string"?Is(t):t,i=O0(s.pathname||"/",n);if(i==null)return null;let o=L0(e);Y_(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=sw(i);a=nw(o[l],u,r)}return a}function L0(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Ie(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=fr([r,l.relativePath]),f=n.concat(l);i.children&&i.children.length>0&&(Ie(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),L0(i.children,t,f,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:ew(u,i.index),routesMeta:f})};return e.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of P0(i.path))s(i,o,l)}),t}function P0(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=P0(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function Y_(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:tw(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const q_=/^:[\w-]+$/,K_=3,X_=2,Q_=1,J_=10,Z_=-2,Bp=e=>e==="*";function ew(e,t){let n=e.split("/"),r=n.length;return n.some(Bp)&&(r+=Z_),t&&(r+=X_),n.filter(s=>!Bp(s)).reduce((s,i)=>s+(q_.test(i)?K_:i===""?Q_:J_),r)}function tw(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function nw(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,f=i==="/"?t:t.slice(i.length)||"/",d=Hp({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},f),p=l.route;if(!d&&u&&n&&!r[r.length-1].route.index&&(d=Hp({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},f)),!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:fr([i,d.pathname]),pathnameBase:lw(fr([i,d.pathnameBase])),route:p}),d.pathnameBase!=="/"&&(i=fr([i,d.pathnameBase]))}return o}function Hp(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=rw(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,f,d)=>{let{paramName:p,isOptional:g}=f;if(p==="*"){let x=a[d]||"";o=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const y=a[d];return g&&!y?u[p]=void 0:u[p]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function rw(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),R0(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function sw(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return R0(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function O0(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function iw(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Is(e):e;return{pathname:n?n.startsWith("/")?n:ow(n,t):t,search:cw(r),hash:uw(s)}}function ow(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function tc(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function aw(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function A0(e,t){let n=aw(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function D0(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Is(e):(s=Ii({},e),Ie(!s.pathname||!s.pathname.includes("?"),tc("?","pathname","search",s)),Ie(!s.pathname||!s.pathname.includes("#"),tc("#","pathname","hash",s)),Ie(!s.search||!s.search.includes("#"),tc("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let d=t.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),d-=1;s.pathname=p.join("/")}a=d>=0?t[d]:"/"}let l=iw(s,a),u=o&&o!=="/"&&o.endsWith("/"),f=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||f)&&(l.pathname+="/"),l}const fr=e=>e.join("/").replace(/\/\/+/g,"/"),lw=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),cw=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,uw=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function dw(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const F0=["post","put","patch","delete"];new Set(F0);const fw=["get",...F0];new Set(fw);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ji(){return ji=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ji.apply(this,arguments)}const Ad=D.createContext(null),pw=D.createContext(null),zi=D.createContext(null),Xa=D.createContext(null),Jn=D.createContext({outlet:null,matches:[],isDataRoute:!1}),$0=D.createContext(null);function Bi(){return D.useContext(Xa)!=null}function Qa(){return Bi()||Ie(!1),D.useContext(Xa).location}function U0(e){D.useContext(zi).static||D.useLayoutEffect(e)}function yn(){let{isDataRoute:e}=D.useContext(Jn);return e?Nw():hw()}function hw(){Bi()||Ie(!1);let e=D.useContext(Ad),{basename:t,future:n,navigator:r}=D.useContext(zi),{matches:s}=D.useContext(Jn),{pathname:i}=Qa(),o=JSON.stringify(A0(s,n.v7_relativeSplatPath)),a=D.useRef(!1);return U0(()=>{a.current=!0}),D.useCallback(function(u,f){if(f===void 0&&(f={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let d=D0(u,JSON.parse(o),i,f.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:fr([t,d.pathname])),(f.replace?r.replace:r.push)(d,f.state,f)},[t,r,o,i,e])}const mw=D.createContext(null);function gw(e){let t=D.useContext(Jn).outlet;return t&&D.createElement(mw.Provider,{value:e},t)}function yw(e,t){return vw(e,t)}function vw(e,t,n,r){Bi()||Ie(!1);let{navigator:s}=D.useContext(zi),{matches:i}=D.useContext(Jn),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Qa(),f;if(t){var d;let _=typeof t=="string"?Is(t):t;l==="/"||(d=_.pathname)!=null&&d.startsWith(l)||Ie(!1),f=_}else f=u;let p=f.pathname||"/",g=p;if(l!=="/"){let _=l.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(_.length).join("/")}let y=V_(e,{pathname:g}),x=kw(y&&y.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:fr([l,s.encodeLocation?s.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:fr([l,s.encodeLocation?s.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,n,r);return t&&x?D.createElement(Xa.Provider,{value:{location:ji({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Rn.Pop}},x):x}function xw(){let e=Tw(),t=dw(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},t),n?D.createElement("pre",{style:s},n):null,i)}const _w=D.createElement(xw,null);class ww extends D.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?D.createElement(Jn.Provider,{value:this.props.routeContext},D.createElement($0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Sw(e){let{routeContext:t,match:n,children:r}=e,s=D.useContext(Ad);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),D.createElement(Jn.Provider,{value:t},r)}function kw(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,a=(s=n)==null?void 0:s.errors;if(a!=null){let f=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);f>=0||Ie(!1),o=o.slice(0,Math.min(o.length,f+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<o.length;f++){let d=o[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=f),d.route.id){let{loaderData:p,errors:g}=n,y=d.route.loader&&p[d.route.id]===void 0&&(!g||g[d.route.id]===void 0);if(d.route.lazy||y){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((f,d,p)=>{let g,y=!1,x=null,_=null;n&&(g=a&&d.route.id?a[d.route.id]:void 0,x=d.route.errorElement||_w,l&&(u<0&&p===0?(Iw("route-fallback",!1),y=!0,_=null):u===p&&(y=!0,_=d.route.hydrateFallbackElement||null)));let h=t.concat(o.slice(0,p+1)),m=()=>{let v;return g?v=x:y?v=_:d.route.Component?v=D.createElement(d.route.Component,null):d.route.element?v=d.route.element:v=f,D.createElement(Sw,{match:d,routeContext:{outlet:f,matches:h,isDataRoute:n!=null},children:v})};return n&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?D.createElement(ww,{location:n.location,revalidation:n.revalidation,component:x,error:g,children:m(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):m()},null)}var z0=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(z0||{}),ga=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ga||{});function bw(e){let t=D.useContext(Ad);return t||Ie(!1),t}function Ew(e){let t=D.useContext(pw);return t||Ie(!1),t}function Cw(e){let t=D.useContext(Jn);return t||Ie(!1),t}function B0(e){let t=Cw(),n=t.matches[t.matches.length-1];return n.route.id||Ie(!1),n.route.id}function Tw(){var e;let t=D.useContext($0),n=Ew(ga.UseRouteError),r=B0(ga.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function Nw(){let{router:e}=bw(z0.UseNavigateStable),t=B0(ga.UseNavigateStable),n=D.useRef(!1);return U0(()=>{n.current=!0}),D.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,ji({fromRouteId:t},i)))},[e,t])}const Wp={};function Iw(e,t,n){!t&&!Wp[e]&&(Wp[e]=!0)}function jw(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function Rw(e){let{to:t,replace:n,state:r,relative:s}=e;Bi()||Ie(!1);let{future:i,static:o}=D.useContext(zi),{matches:a}=D.useContext(Jn),{pathname:l}=Qa(),u=yn(),f=D0(t,A0(a,i.v7_relativeSplatPath),l,s==="path"),d=JSON.stringify(f);return D.useEffect(()=>u(JSON.parse(d),{replace:n,state:r,relative:s}),[u,d,s,n,r]),null}function Mw(e){return gw(e.context)}function It(e){Ie(!1)}function Lw(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Rn.Pop,navigator:i,static:o=!1,future:a}=e;Bi()&&Ie(!1);let l=t.replace(/^\/*/,"/"),u=D.useMemo(()=>({basename:l,navigator:i,static:o,future:ji({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=Is(r));let{pathname:f="/",search:d="",hash:p="",state:g=null,key:y="default"}=r,x=D.useMemo(()=>{let _=O0(f,l);return _==null?null:{location:{pathname:_,search:d,hash:p,state:g,key:y},navigationType:s}},[l,f,d,p,g,y,s]);return x==null?null:D.createElement(zi.Provider,{value:u},D.createElement(Xa.Provider,{children:n,value:x}))}function Pw(e){let{children:t,location:n}=e;return yw(cu(t),n)}new Promise(()=>{});function cu(e,t){t===void 0&&(t=[]);let n=[];return D.Children.forEach(e,(r,s)=>{if(!D.isValidElement(r))return;let i=[...t,s];if(r.type===D.Fragment){n.push.apply(n,cu(r.props.children,i));return}r.type!==It&&Ie(!1),!r.props.index||!r.props.children||Ie(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=cu(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Ow="6";try{window.__reactRouterVersion=Ow}catch{}const Aw="startTransition",Vp=jx[Aw];function Dw(e){let{basename:t,children:n,future:r,window:s}=e,i=D.useRef();i.current==null&&(i.current=B_({window:s,v5Compat:!0}));let o=i.current,[a,l]=D.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},f=D.useCallback(d=>{u&&Vp?Vp(()=>l(d)):l(d)},[l,u]);return D.useLayoutEffect(()=>o.listen(f),[o,f]),D.useEffect(()=>jw(r),[r]),D.createElement(Lw,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}var Gp;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Gp||(Gp={}));var Yp;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Yp||(Yp={}));const H0=Object.prototype.toString;function Dd(e){switch(H0.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return pn(e,Error)}}function js(e,t){return H0.call(e)===`[object ${t}]`}function Fd(e){return js(e,"ErrorEvent")}function qp(e){return js(e,"DOMError")}function Fw(e){return js(e,"DOMException")}function Qt(e){return js(e,"String")}function $d(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function Ud(e){return e===null||$d(e)||typeof e!="object"&&typeof e!="function"}function gs(e){return js(e,"Object")}function Ja(e){return typeof Event<"u"&&pn(e,Event)}function $w(e){return typeof Element<"u"&&pn(e,Element)}function Uw(e){return js(e,"RegExp")}function Za(e){return!!(e&&e.then&&typeof e.then=="function")}function zw(e){return gs(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function W0(e){return typeof e=="number"&&e!==e}function pn(e,t){try{return e instanceof t}catch{return!1}}function V0(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}function os(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function Kp(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const s=e[r];try{V0(s)?n.push("[VueViewModel]"):n.push(String(s))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function Bw(e,t,n=!1){return Qt(e)?Uw(t)?t.test(e):Qt(t)?n?e===t:e.includes(t):!1:!1}function Rs(e,t=[],n=!1){return t.some(r=>Bw(e,r,n))}function Hw(e,t,n=250,r,s,i,o){if(!i.exception||!i.exception.values||!o||!pn(o.originalException,Error))return;const a=i.exception.values.length>0?i.exception.values[i.exception.values.length-1]:void 0;a&&(i.exception.values=Ww(uu(e,t,s,o.originalException,r,i.exception.values,a,0),n))}function uu(e,t,n,r,s,i,o,a){if(i.length>=n+1)return i;let l=[...i];if(pn(r[s],Error)){Xp(o,a);const u=e(t,r[s]),f=l.length;Qp(u,s,f,a),l=uu(e,t,n,r[s],s,[u,...l],u,f)}return Array.isArray(r.errors)&&r.errors.forEach((u,f)=>{if(pn(u,Error)){Xp(o,a);const d=e(t,u),p=l.length;Qp(d,`errors[${f}]`,p,a),l=uu(e,t,n,u,s,[d,...l],d,p)}}),l}function Xp(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function Qp(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function Ww(e,t){return e.map(n=>(n.value&&(n.value=os(n.value,t)),n))}function _o(e){return e&&e.Math==Math?e:void 0}const Q=typeof globalThis=="object"&&_o(globalThis)||typeof window=="object"&&_o(window)||typeof self=="object"&&_o(self)||typeof global=="object"&&_o(global)||function(){return this}()||{};function zd(){return Q}function G0(e,t,n){const r=n||Q,s=r.__SENTRY__=r.__SENTRY__||{};return s[e]||(s[e]=t())}const as=zd(),Vw=80;function Yn(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,s=[];let i=0,o=0;const a=" > ",l=a.length;let u;const f=Array.isArray(t)?t:t.keyAttrs,d=!Array.isArray(t)&&t.maxStringLength||Vw;for(;n&&i++<r&&(u=Gw(n,f),!(u==="html"||i>1&&o+s.length*l+u.length>=d));)s.push(u),o+=u.length,n=n.parentNode;return s.reverse().join(a)}catch{return"<unknown>"}}function Gw(e,t){const n=e,r=[];let s,i,o,a,l;if(!n||!n.tagName)return"";if(as.HTMLElement&&n instanceof HTMLElement&&n.dataset&&n.dataset.sentryComponent)return n.dataset.sentryComponent;r.push(n.tagName.toLowerCase());const u=t&&t.length?t.filter(d=>n.getAttribute(d)).map(d=>[d,n.getAttribute(d)]):null;if(u&&u.length)u.forEach(d=>{r.push(`[${d[0]}="${d[1]}"]`)});else if(n.id&&r.push(`#${n.id}`),s=n.className,s&&Qt(s))for(i=s.split(/\s+/),l=0;l<i.length;l++)r.push(`.${i[l]}`);const f=["aria-label","type","name","title","alt"];for(l=0;l<f.length;l++)o=f[l],a=n.getAttribute(o),a&&r.push(`[${o}="${a}"]`);return r.join("")}function Yw(){try{return as.document.location.href}catch{return""}}function qw(e){return as.document&&as.document.querySelector?as.document.querySelector(e):null}function Y0(e){if(!as.HTMLElement)return null;let t=e;const n=5;for(let r=0;r<n;r++){if(!t)return null;if(t instanceof HTMLElement&&t.dataset.sentryComponent)return t.dataset.sentryComponent;t=t.parentNode}return null}const Ms=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Kw="Sentry Logger ",du=["debug","info","warn","error","log","assert","trace"],ya={};function xr(e){if(!("console"in Q))return e();const t=Q.console,n={},r=Object.keys(ya);r.forEach(s=>{const i=ya[s];n[s]=t[s],t[s]=i});try{return e()}finally{r.forEach(s=>{t[s]=n[s]})}}function Xw(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return Ms?du.forEach(n=>{t[n]=(...r)=>{e&&xr(()=>{Q.console[n](`${Kw}[${n}]:`,...r)})}}):du.forEach(n=>{t[n]=()=>{}}),t}const T=Xw(),Qw=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Jw(e){return e==="http"||e==="https"}function br(e,t=!1){const{host:n,path:r,pass:s,port:i,projectId:o,protocol:a,publicKey:l}=e;return`${a}://${l}${t&&s?`:${s}`:""}@${n}${i?`:${i}`:""}/${r&&`${r}/`}${o}`}function Zw(e){const t=Qw.exec(e);if(!t){xr(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}const[n,r,s="",i,o="",a]=t.slice(1);let l="",u=a;const f=u.split("/");if(f.length>1&&(l=f.slice(0,-1).join("/"),u=f.pop()),u){const d=u.match(/^\d+/);d&&(u=d[0])}return q0({host:i,pass:s,path:l,projectId:u,port:o,protocol:n,publicKey:r})}function q0(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function eS(e){if(!Ms)return!0;const{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(o=>e[o]?!1:(T.error(`Invalid Sentry Dsn: ${o} missing`),!0))?!1:n.match(/^\d+$/)?Jw(r)?t&&isNaN(parseInt(t,10))?(T.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(T.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(T.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function K0(e){const t=typeof e=="string"?Zw(e):q0(e);if(!(!t||!eS(t)))return t}class Yt extends Error{constructor(t,n="warn"){super(t),this.message=t,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=n}}function Oe(e,t,n){if(!(t in e))return;const r=e[t],s=n(r);typeof s=="function"&&X0(s,r),e[t]=s}function _r(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{Ms&&T.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function X0(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,_r(e,"__sentry_original__",t)}catch{}}function Bd(e){return e.__sentry_original__}function tS(e){return Object.keys(e).map(t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`).join("&")}function Q0(e){if(Dd(e))return{message:e.message,name:e.name,stack:e.stack,...Zp(e)};if(Ja(e)){const t={type:e.type,target:Jp(e.target),currentTarget:Jp(e.currentTarget),...Zp(e)};return typeof CustomEvent<"u"&&pn(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function Jp(e){try{return $w(e)?Yn(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function Zp(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function nS(e,t=40){const n=Object.keys(Q0(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return os(n[0],t);for(let r=n.length;r>0;r--){const s=n.slice(0,r).join(", ");if(!(s.length>t))return r===n.length?s:os(s,t)}return""}function Qe(e){return fu(e,new Map)}function fu(e,t){if(rS(e)){const n=t.get(e);if(n!==void 0)return n;const r={};t.set(e,r);for(const s of Object.keys(e))typeof e[s]<"u"&&(r[s]=fu(e[s],t));return r}if(Array.isArray(e)){const n=t.get(e);if(n!==void 0)return n;const r=[];return t.set(e,r),e.forEach(s=>{r.push(fu(s,t))}),r}return e}function rS(e){if(!gs(e))return!1;try{const t=Object.getPrototypeOf(e).constructor.name;return!t||t==="Object"}catch{return!0}}const J0=50,eh=/\(error: (.*)\)/,th=/captureMessage|captureException/;function Z0(...e){const t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0)=>{const s=[],i=n.split(`
`);for(let o=r;o<i.length;o++){const a=i[o];if(a.length>1024)continue;const l=eh.test(a)?a.replace(eh,"$1"):a;if(!l.match(/\S*Error: /)){for(const u of t){const f=u(l);if(f){s.push(f);break}}if(s.length>=J0)break}}return iS(s)}}function sS(e){return Array.isArray(e)?Z0(...e):e}function iS(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(t[t.length-1].function||"")&&t.pop(),t.reverse(),th.test(t[t.length-1].function||"")&&(t.pop(),th.test(t[t.length-1].function||"")&&t.pop()),t.slice(0,J0).map(n=>({...n,filename:n.filename||t[t.length-1].filename,function:n.function||"?"}))}const nc="<anonymous>";function hn(e){try{return!e||typeof e!="function"?nc:e.name||nc}catch{return nc}}const Wo={},nh={};function Er(e,t){Wo[e]=Wo[e]||[],Wo[e].push(t)}function Cr(e,t){nh[e]||(t(),nh[e]=!0)}function Dt(e,t){const n=e&&Wo[e];if(n)for(const r of n)try{r(t)}catch(s){Ms&&T.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${hn(r)}
Error:`,s)}}function oS(e){const t="console";Er(t,e),Cr(t,aS)}function aS(){"console"in Q&&du.forEach(function(e){e in Q.console&&Oe(Q.console,e,function(t){return ya[e]=t,function(...n){Dt("console",{args:n,level:e});const s=ya[e];s&&s.apply(Q.console,n)}})})}function Ee(){const e=Q,t=e.crypto||e.msCrypto;let n=()=>Math.random()*16;try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{const r=new Uint8Array(1);return t.getRandomValues(r),r[0]})}catch{}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,r=>(r^(n()&15)>>r/4).toString(16))}function ey(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function Nn(e){const{message:t,event_id:n}=e;if(t)return t;const r=ey(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function pu(e,t,n){const r=e.exception=e.exception||{},s=r.values=r.values||[],i=s[0]=s[0]||{};i.value||(i.value=t||""),i.type||(i.type=n||"Error")}function Ri(e,t){const n=ey(e);if(!n)return;const r={type:"generic",handled:!0},s=n.mechanism;if(n.mechanism={...r,...s,...t},t&&"data"in t){const i={...s&&s.data,...t.data};n.mechanism.data=i}}function rh(e){if(e&&e.__sentry_captured__)return!0;try{_r(e,"__sentry_captured__",!0)}catch{}return!1}function ty(e){return Array.isArray(e)?e:[e]}const Pr=Q,lS=1e3;let sh,hu,mu;function ny(e){const t="dom";Er(t,e),Cr(t,cS)}function cS(){if(!Pr.document)return;const e=Dt.bind(null,"dom"),t=ih(e,!0);Pr.document.addEventListener("click",t,!1),Pr.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{const r=Pr[n]&&Pr[n].prototype;!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")||(Oe(r,"addEventListener",function(s){return function(i,o,a){if(i==="click"||i=="keypress")try{const l=this,u=l.__sentry_instrumentation_handlers__=l.__sentry_instrumentation_handlers__||{},f=u[i]=u[i]||{refCount:0};if(!f.handler){const d=ih(e);f.handler=d,s.call(this,i,d,a)}f.refCount++}catch{}return s.call(this,i,o,a)}}),Oe(r,"removeEventListener",function(s){return function(i,o,a){if(i==="click"||i=="keypress")try{const l=this,u=l.__sentry_instrumentation_handlers__||{},f=u[i];f&&(f.refCount--,f.refCount<=0&&(s.call(this,i,f.handler,a),f.handler=void 0,delete u[i]),Object.keys(u).length===0&&delete l.__sentry_instrumentation_handlers__)}catch{}return s.call(this,i,o,a)}}))})}function uS(e){if(e.type!==hu)return!1;try{if(!e.target||e.target._sentryId!==mu)return!1}catch{}return!0}function dS(e,t){return e!=="keypress"?!1:!t||!t.tagName?!0:!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable)}function ih(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=fS(n);if(dS(n.type,r))return;_r(n,"_sentryCaptured",!0),r&&!r._sentryId&&_r(r,"_sentryId",Ee());const s=n.type==="keypress"?"input":n.type;uS(n)||(e({event:n,name:s,global:t}),hu=n.type,mu=r?r._sentryId:void 0),clearTimeout(sh),sh=Pr.setTimeout(()=>{mu=void 0,hu=void 0},lS)}}function fS(e){try{return e.target}catch{return null}}const gu=zd();function ry(){if(!("fetch"in gu))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function yu(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function pS(){if(typeof EdgeRuntime=="string")return!0;if(!ry())return!1;if(yu(gu.fetch))return!0;let e=!1;const t=gu.document;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=yu(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){Ms&&T.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}function Hd(e){const t="fetch";Er(t,e),Cr(t,hS)}function hS(){pS()&&Oe(Q,"fetch",function(e){return function(...t){const{method:n,url:r}=mS(t),s={args:t,fetchData:{method:n,url:r},startTimestamp:Date.now()};return Dt("fetch",{...s}),e.apply(Q,t).then(i=>{const o={...s,endTimestamp:Date.now(),response:i};return Dt("fetch",o),i},i=>{const o={...s,endTimestamp:Date.now(),error:i};throw Dt("fetch",o),i})}})}function vu(e,t){return!!e&&typeof e=="object"&&!!e[t]}function oh(e){return typeof e=="string"?e:e?vu(e,"url")?e.url:e.toString?e.toString():"":""}function mS(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){const[n,r]=e;return{url:oh(n),method:vu(r,"method")?String(r.method).toUpperCase():"GET"}}const t=e[0];return{url:oh(t),method:vu(t,"method")?String(t.method).toUpperCase():"GET"}}let wo=null;function sy(e){const t="error";Er(t,e),Cr(t,gS)}function gS(){wo=Q.onerror,Q.onerror=function(e,t,n,r,s){return Dt("error",{column:r,error:s,line:n,msg:e,url:t}),wo&&!wo.__SENTRY_LOADER__?wo.apply(this,arguments):!1},Q.onerror.__SENTRY_INSTRUMENTED__=!0}let So=null;function iy(e){const t="unhandledrejection";Er(t,e),Cr(t,yS)}function yS(){So=Q.onunhandledrejection,Q.onunhandledrejection=function(e){return Dt("unhandledrejection",e),So&&!So.__SENTRY_LOADER__?So.apply(this,arguments):!0},Q.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const ko=zd();function vS(){const e=ko.chrome,t=e&&e.app&&e.app.runtime,n="history"in ko&&!!ko.history.pushState&&!!ko.history.replaceState;return!t&&n}const Ws=Q;let bo;function el(e){const t="history";Er(t,e),Cr(t,xS)}function xS(){if(!vS())return;const e=Ws.onpopstate;Ws.onpopstate=function(...n){const r=Ws.location.href,s=bo;if(bo=r,Dt("history",{from:s,to:r}),e)try{return e.apply(this,n)}catch{}};function t(n){return function(...r){const s=r.length>2?r[2]:void 0;if(s){const i=bo,o=String(s);bo=o,Dt("history",{from:i,to:o})}return n.apply(this,r)}}Oe(Ws.history,"pushState",t),Oe(Ws.history,"replaceState",t)}const _S=Q,Mn="__sentry_xhr_v3__";function Wd(e){const t="xhr";Er(t,e),Cr(t,wS)}function wS(){if(!_S.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;Oe(e,"open",function(t){return function(...n){const r=Date.now(),s=Qt(n[0])?n[0].toUpperCase():void 0,i=SS(n[1]);if(!s||!i)return t.apply(this,n);this[Mn]={method:s,url:i,request_headers:{}},s==="POST"&&i.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const o=()=>{const a=this[Mn];if(a&&this.readyState===4){try{a.status_code=this.status}catch{}const l={args:[s,i],endTimestamp:Date.now(),startTimestamp:r,xhr:this};Dt("xhr",l)}};return"onreadystatechange"in this&&typeof this.onreadystatechange=="function"?Oe(this,"onreadystatechange",function(a){return function(...l){return o(),a.apply(this,l)}}):this.addEventListener("readystatechange",o),Oe(this,"setRequestHeader",function(a){return function(...l){const[u,f]=l,d=this[Mn];return d&&Qt(u)&&Qt(f)&&(d.request_headers[u.toLowerCase()]=f),a.apply(this,l)}}),t.apply(this,n)}}),Oe(e,"send",function(t){return function(...n){const r=this[Mn];if(!r)return t.apply(this,n);n[0]!==void 0&&(r.body=n[0]);const s={args:[r.method,r.url],startTimestamp:Date.now(),xhr:this};return Dt("xhr",s),t.apply(this,n)}})}function SS(e){if(Qt(e))return e;try{return e.toString()}catch{}}function kS(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function bS(){return"npm"}function ES(){return!kS()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function ah(){return typeof window<"u"&&(!ES()||CS())}function CS(){return Q.process!==void 0&&Q.process.type==="renderer"}function TS(){const e=typeof WeakSet=="function",t=e?new WeakSet:[];function n(s){if(e)return t.has(s)?!0:(t.add(s),!1);for(let i=0;i<t.length;i++)if(t[i]===s)return!0;return t.push(s),!1}function r(s){if(e)t.delete(s);else for(let i=0;i<t.length;i++)if(t[i]===s){t.splice(i,1);break}}return[n,r]}function Wt(e,t=100,n=1/0){try{return xu("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function oy(e,t=3,n=100*1024){const r=Wt(e,t);return RS(r)>n?oy(e,t-1,n):r}function xu(e,t,n=1/0,r=1/0,s=TS()){const[i,o]=s;if(t==null||["number","boolean","string"].includes(typeof t)&&!W0(t))return t;const a=NS(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;const l=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(l===0)return a.replace("object ","");if(i(t))return"[Circular ~]";const u=t;if(u&&typeof u.toJSON=="function")try{const g=u.toJSON();return xu("",g,l-1,r,s)}catch{}const f=Array.isArray(t)?[]:{};let d=0;const p=Q0(t);for(const g in p){if(!Object.prototype.hasOwnProperty.call(p,g))continue;if(d>=r){f[g]="[MaxProperties ~]";break}const y=p[g];f[g]=xu(g,y,l-1,r,s),d++}return o(t),f}function NS(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(V0(t))return"[VueViewModel]";if(zw(t))return"[SyntheticEvent]";if(typeof t=="number"&&t!==t)return"[NaN]";if(typeof t=="function")return`[Function: ${hn(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;const n=IS(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function IS(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}function jS(e){return~-encodeURI(e).split(/%..|./).length}function RS(e){return jS(JSON.stringify(e))}var en;(function(e){e[e.PENDING=0]="PENDING";const n=1;e[e.RESOLVED=n]="RESOLVED";const r=2;e[e.REJECTED=r]="REJECTED"})(en||(en={}));function ys(e){return new at(t=>{t(e)})}function Vd(e){return new at((t,n)=>{n(e)})}class at{constructor(t){at.prototype.__init.call(this),at.prototype.__init2.call(this),at.prototype.__init3.call(this),at.prototype.__init4.call(this),this._state=en.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}then(t,n){return new at((r,s)=>{this._handlers.push([!1,i=>{if(!t)r(i);else try{r(t(i))}catch(o){s(o)}},i=>{if(!n)s(i);else try{r(n(i))}catch(o){s(o)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new at((n,r)=>{let s,i;return this.then(o=>{i=!1,s=o,t&&t()},o=>{i=!0,s=o,t&&t()}).then(()=>{if(i){r(s);return}n(s)})})}__init(){this._resolve=t=>{this._setResult(en.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(en.REJECTED,t)}}__init3(){this._setResult=(t,n)=>{if(this._state===en.PENDING){if(Za(n)){n.then(this._resolve,this._reject);return}this._state=t,this._value=n,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===en.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===en.RESOLVED&&n[1](this._value),this._state===en.REJECTED&&n[2](this._value),n[0]=!0)})}}}function MS(e){const t=[];function n(){return e===void 0||t.length<e}function r(o){return t.splice(t.indexOf(o),1)[0]}function s(o){if(!n())return Vd(new Yt("Not adding Promise because buffer limit was reached."));const a=o();return t.indexOf(a)===-1&&t.push(a),a.then(()=>r(a)).then(null,()=>r(a).then(null,()=>{})),a}function i(o){return new at((a,l)=>{let u=t.length;if(!u)return a(!0);const f=setTimeout(()=>{o&&o>0&&a(!1)},o);t.forEach(d=>{ys(d).then(()=>{--u||(clearTimeout(f),a(!0))},l)})})}return{$:t,add:s,drain:i}}function pr(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}const LS=["fatal","error","warning","log","info","debug"];function PS(e){return e==="warn"?"warning":LS.includes(e)?e:"log"}const ay=1e3;function Hi(){return Date.now()/ay}function OS(){const{performance:e}=Q;if(!e||!e.now)return Hi;const t=Date.now()-e.now(),n=e.timeOrigin==null?t:e.timeOrigin;return()=>(n+e.now())/ay}const Wi=OS(),dt=(()=>{const{performance:e}=Q;if(!e||!e.now)return;const t=3600*1e3,n=e.now(),r=Date.now(),s=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,i=s<t,o=e.timing&&e.timing.navigationStart,l=typeof o=="number"?Math.abs(o+n-r):t,u=l<t;return i||u?s<=l?e.timeOrigin:o:r})(),_u="baggage",ly="sentry-",AS=/^sentry-/,DS=8192;function FS(e){if(!Qt(e)&&!Array.isArray(e))return;let t={};if(Array.isArray(e))t=e.reduce((r,s)=>{const i=lh(s);for(const o of Object.keys(i))r[o]=i[o];return r},{});else{if(!e)return;t=lh(e)}const n=Object.entries(t).reduce((r,[s,i])=>{if(s.match(AS)){const o=s.slice(ly.length);r[o]=i}return r},{});if(Object.keys(n).length>0)return n}function cy(e){if(!e)return;const t=Object.entries(e).reduce((n,[r,s])=>(s&&(n[`${ly}${r}`]=s),n),{});return $S(t)}function lh(e){return e.split(",").map(t=>t.split("=").map(n=>decodeURIComponent(n.trim()))).reduce((t,[n,r])=>(t[n]=r,t),{})}function $S(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[n,r],s)=>{const i=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,o=s===0?i:`${t},${i}`;return o.length>DS?(Ms&&T.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),t):o},"")}const US=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function zS(e){if(!e)return;const t=e.match(US);if(!t)return;let n;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function BS(e,t){const n=zS(e),r=FS(t),{traceId:s,parentSpanId:i,parentSampled:o}=n||{};return n?{traceId:s||Ee(),parentSpanId:i||Ee().substring(16),spanId:Ee().substring(16),sampled:o,dsc:r||{}}:{traceId:s||Ee(),spanId:Ee().substring(16)}}function Gd(e=Ee(),t=Ee().substring(16),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${e}-${t}${r}`}function Zn(e,t=[]){return[e,t]}function HS(e,t){const[n,r]=e;return[n,[...r,t]]}function ch(e,t){const n=e[1];for(const r of n){const s=r[0].type;if(t(r,s))return!0}return!1}function wu(e,t){return(t||new TextEncoder).encode(e)}function WS(e,t){const[n,r]=e;let s=JSON.stringify(n);function i(o){typeof s=="string"?s=typeof o=="string"?s+o:[wu(s,t),o]:s.push(typeof o=="string"?wu(o,t):o)}for(const o of r){const[a,l]=o;if(i(`
${JSON.stringify(a)}
`),typeof l=="string"||l instanceof Uint8Array)i(l);else{let u;try{u=JSON.stringify(l)}catch{u=JSON.stringify(Wt(l))}i(u)}}return typeof s=="string"?s:VS(s)}function VS(e){const t=e.reduce((s,i)=>s+i.length,0),n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}function GS(e,t){const n=typeof e.data=="string"?wu(e.data,t):e.data;return[Qe({type:"attachment",length:n.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),n]}const YS={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function uh(e){return YS[e]}function Yd(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function uy(e,t,n,r){const s=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:br(r)},...s&&{trace:Qe({...s})}}}function qS(e,t,n){const r=[{type:"client_report"},{timestamp:n||Hi(),discarded_events:e}];return Zn(t?{dsn:t}:{},[r])}const KS=60*1e3;function XS(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${e}`);return isNaN(r)?KS:r-t}function QS(e,t){return e[t]||e.all||0}function dy(e,t,n=Date.now()){return QS(e,t)>n}function fy(e,{statusCode:t,headers:n},r=Date.now()){const s={...e},i=n&&n["x-sentry-rate-limits"],o=n&&n["retry-after"];if(i)for(const a of i.trim().split(",")){const[l,u,,,f]=a.split(":",5),d=parseInt(l,10),p=(isNaN(d)?60:d)*1e3;if(!u)s.all=r+p;else for(const g of u.split(";"))g==="metric_bucket"?(!f||f.split(";").includes("custom"))&&(s[g]=r+p):s[g]=r+p}else o?s.all=r+XS(o,r):t===429&&(s.all=r+60*1e3);return s}function JS(e,t){return e??t()}function rc(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],i=e[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(t=n,n=i(n)):(s==="call"||s==="optionalCall")&&(n=i((...o)=>n.call(t,...o)),t=void 0)}return n}const $=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,tl="production";function qd(){return G0("globalEventProcessors",()=>[])}function ZS(e){qd().push(e)}function va(e,t,n,r=0){return new at((s,i)=>{const o=e[r];if(t===null||typeof o!="function")s(t);else{const a=o({...t},n);$&&o.id&&a===null&&T.log(`Event processor "${o.id}" dropped event`),Za(a)?a.then(l=>va(e,l,n,r+1).then(s)).then(null,i):va(e,a,n,r+1).then(s).then(null,i)}})}function py(e){const t=Wi(),n={sid:Ee(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>ek(n)};return e&&wr(n,e),n}function wr(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||Wi(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:Ee()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function hy(e,t){let n={};t?n={status:t}:e.status==="ok"&&(n={status:"exited"}),wr(e,n)}function ek(e){return Qe({sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}const tk=0,my=1;function Kd(e){const{spanId:t,traceId:n}=e.spanContext(),{data:r,op:s,parent_span_id:i,status:o,tags:a,origin:l}=Te(e);return Qe({data:r,op:s,parent_span_id:i,span_id:t,status:o,tags:a,trace_id:n,origin:l})}function nl(e){const{traceId:t,spanId:n}=e.spanContext(),r=Xd(e);return Gd(t,n,r)}function rl(e){return typeof e=="number"?dh(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?dh(e.getTime()):Wi()}function dh(e){return e>9999999999?e/1e3:e}function Te(e){return nk(e)?e.getSpanJSON():typeof e.toJSON=="function"?e.toJSON():{}}function nk(e){return typeof e.getSpanJSON=="function"}function Xd(e){const{traceFlags:t}=e.spanContext();return!!(t&my)}function gy(e,t,n,r,s,i){const{normalizeDepth:o=3,normalizeMaxBreadth:a=1e3}=e,l={...t,event_id:t.event_id||n.event_id||Ee(),timestamp:t.timestamp||Hi()},u=n.integrations||e.integrations.map(_=>_.name);rk(l,e),ok(l,u),t.type===void 0&&sk(l,e.stackParser);const f=lk(r,n.captureContext);n.mechanism&&Ri(l,n.mechanism);const d=s&&s.getEventProcessors?s.getEventProcessors():[],p=_k().getScopeData();if(i){const _=i.getScopeData();gh(p,_)}if(f){const _=f.getScopeData();gh(p,_)}const g=[...n.attachments||[],...p.attachments];g.length&&(n.attachments=g),wy(l,p);const y=[...d,...qd(),...p.eventProcessors];return va(y,l,n).then(_=>(_&&ik(_),typeof o=="number"&&o>0?ak(_,o,a):_))}function rk(e,t){const{environment:n,release:r,dist:s,maxValueLength:i=250}=t;"environment"in e||(e.environment="environment"in t?n:tl),e.release===void 0&&r!==void 0&&(e.release=r),e.dist===void 0&&s!==void 0&&(e.dist=s),e.message&&(e.message=os(e.message,i));const o=e.exception&&e.exception.values&&e.exception.values[0];o&&o.value&&(o.value=os(o.value,i));const a=e.request;a&&a.url&&(a.url=os(a.url,i))}const fh=new WeakMap;function sk(e,t){const n=Q._sentryDebugIds;if(!n)return;let r;const s=fh.get(t);s?r=s:(r=new Map,fh.set(t,r));const i=Object.keys(n).reduce((o,a)=>{let l;const u=r.get(a);u?l=u:(l=t(a),r.set(a,l));for(let f=l.length-1;f>=0;f--){const d=l[f];if(d.filename){o[d.filename]=n[a];break}}return o},{});try{e.exception.values.forEach(o=>{o.stacktrace.frames.forEach(a=>{a.filename&&(a.debug_id=i[a.filename])})})}catch{}}function ik(e){const t={};try{e.exception.values.forEach(r=>{r.stacktrace.frames.forEach(s=>{s.debug_id&&(s.abs_path?t[s.abs_path]=s.debug_id:s.filename&&(t[s.filename]=s.debug_id),delete s.debug_id)})})}catch{}if(Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.keys(t).forEach(r=>{n.push({type:"sourcemap",code_file:r,debug_id:t[r]})})}function ok(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function ak(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(s=>({...s,...s.data&&{data:Wt(s.data,t,n)}}))},...e.user&&{user:Wt(e.user,t,n)},...e.contexts&&{contexts:Wt(e.contexts,t,n)},...e.extra&&{extra:Wt(e.extra,t,n)}};return e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=Wt(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(s=>{const i=Te(s).data;return i&&(s.data=Wt(i,t,n)),s})),r}function lk(e,t){if(!t)return e;const n=e?e.clone():new an;return n.update(t),n}function ck(e){if(e)return uk(e)?{captureContext:e}:fk(e)?{captureContext:e}:e}function uk(e){return e instanceof an||typeof e=="function"}const dk=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function fk(e){return Object.keys(e).some(t=>dk.includes(t))}function sl(e,t){return ze().captureException(e,ck(t))}function yy(e,t){return ze().captureEvent(e,t)}function qn(e,t){ze().addBreadcrumb(e,t)}function pk(e,t){ze().setContext(e,t)}function ph(e){ze().setUser(e)}function vy(...e){const t=ze();if(e.length===2){const[n,r]=e;return n?t.withScope(()=>(t.getStackTop().scope=n,r(n))):t.withScope(r)}return t.withScope(e[0])}function se(){return ze().getClient()}function ht(){return ze().getScope()}function hh(e){const t=se(),n=er(),r=ht(),{release:s,environment:i=tl}=t&&t.getOptions()||{},{userAgent:o}=Q.navigator||{},a=py({release:s,environment:i,user:r.getUser()||n.getUser(),...o&&{userAgent:o},...e}),l=n.getSession();return l&&l.status==="ok"&&wr(l,{status:"exited"}),xy(),n.setSession(a),r.setSession(a),a}function xy(){const e=er(),t=ht(),n=t.getSession()||e.getSession();n&&hy(n),_y(),e.setSession(),t.setSession()}function _y(){const e=er(),t=ht(),n=se(),r=t.getSession()||e.getSession();r&&n&&n.captureSession&&n.captureSession(r)}function mh(e=!1){if(e){xy();return}_y()}function xa(e){return e.transaction}function il(e,t,n){const r=t.getOptions(),{publicKey:s}=t.getDsn()||{},{segment:i}=n&&n.getUser()||{},o=Qe({environment:r.environment||tl,release:r.release,user_segment:i,public_key:s,trace_id:e});return t.emit&&t.emit("createDsc",o),o}function vs(e){const t=se();if(!t)return{};const n=il(Te(e).trace_id||"",t,ht()),r=xa(e);if(!r)return n;const s=r&&r._frozenDynamicSamplingContext;if(s)return s;const{sampleRate:i,source:o}=r.metadata;i!=null&&(n.sample_rate=`${i}`);const a=Te(r);return o&&o!=="url"&&(n.transaction=a.description),n.sampled=String(Xd(r)),t.emit&&t.emit("createDsc",n),n}function wy(e,t){const{fingerprint:n,span:r,breadcrumbs:s,sdkProcessingMetadata:i}=t;hk(e,t),r&&yk(e,r),vk(e,n),mk(e,s),gk(e,i)}function gh(e,t){const{extra:n,tags:r,user:s,contexts:i,level:o,sdkProcessingMetadata:a,breadcrumbs:l,fingerprint:u,eventProcessors:f,attachments:d,propagationContext:p,transactionName:g,span:y}=t;Vs(e,"extra",n),Vs(e,"tags",r),Vs(e,"user",s),Vs(e,"contexts",i),Vs(e,"sdkProcessingMetadata",a),o&&(e.level=o),g&&(e.transactionName=g),y&&(e.span=y),l.length&&(e.breadcrumbs=[...e.breadcrumbs,...l]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),f.length&&(e.eventProcessors=[...e.eventProcessors,...f]),d.length&&(e.attachments=[...e.attachments,...d]),e.propagationContext={...e.propagationContext,...p}}function Vs(e,t,n){if(n&&Object.keys(n).length){e[t]={...e[t]};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[t][r]=n[r])}}function hk(e,t){const{extra:n,tags:r,user:s,contexts:i,level:o,transactionName:a}=t,l=Qe(n);l&&Object.keys(l).length&&(e.extra={...l,...e.extra});const u=Qe(r);u&&Object.keys(u).length&&(e.tags={...u,...e.tags});const f=Qe(s);f&&Object.keys(f).length&&(e.user={...f,...e.user});const d=Qe(i);d&&Object.keys(d).length&&(e.contexts={...d,...e.contexts}),o&&(e.level=o),a&&(e.transaction=a)}function mk(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function gk(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function yk(e,t){e.contexts={trace:Kd(t),...e.contexts};const n=xa(t);if(n){e.sdkProcessingMetadata={dynamicSamplingContext:vs(t),...e.sdkProcessingMetadata};const r=Te(n).description;r&&(e.tags={transaction:r,...e.tags})}}function vk(e,t){e.fingerprint=e.fingerprint?ty(e.fingerprint):[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}const xk=100;let sc;class an{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=yh()}static clone(t){return t?t.clone():new an}clone(){const t=new an;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},t._user=this._user,t._level=this._level,t._span=this._span,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t}setClient(t){this._client=t}getClient(){return this._client}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,segment:void 0,username:void 0},this._session&&wr(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSpan(t){return this._span=t,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const t=this._span;return t&&t.transaction}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t;if(n instanceof an){const r=n.getScopeData();this._tags={...this._tags,...r.tags},this._extra={...this._extra,...r.extra},this._contexts={...this._contexts,...r.contexts},r.user&&Object.keys(r.user).length&&(this._user=r.user),r.level&&(this._level=r.level),r.fingerprint.length&&(this._fingerprint=r.fingerprint),n.getRequestSession()&&(this._requestSession=n.getRequestSession()),r.propagationContext&&(this._propagationContext=r.propagationContext)}else if(gs(n)){const r=t;this._tags={...this._tags,...r.tags},this._extra={...this._extra,...r.extra},this._contexts={...this._contexts,...r.contexts},r.user&&(this._user=r.user),r.level&&(this._level=r.level),r.fingerprint&&(this._fingerprint=r.fingerprint),r.requestSession&&(this._requestSession=r.requestSession),r.propagationContext&&(this._propagationContext=r.propagationContext)}return this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=yh(),this}addBreadcrumb(t,n){const r=typeof n=="number"?n:xk;if(r<=0)return this;const s={timestamp:Hi(),...t},i=this._breadcrumbs;return i.push(s),this._breadcrumbs=i.length>r?i.slice(-r):i,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}getAttachments(){return this.getScopeData().attachments}clearAttachments(){return this._attachments=[],this}getScopeData(){const{_breadcrumbs:t,_attachments:n,_contexts:r,_tags:s,_extra:i,_user:o,_level:a,_fingerprint:l,_eventProcessors:u,_propagationContext:f,_sdkProcessingMetadata:d,_transactionName:p,_span:g}=this;return{breadcrumbs:t,attachments:n,contexts:r,tags:s,extra:i,user:o,level:a,fingerprint:l||[],eventProcessors:u,propagationContext:f,sdkProcessingMetadata:d,transactionName:p,span:g}}applyToEvent(t,n={},r=[]){wy(t,this.getScopeData());const s=[...r,...qd(),...this._eventProcessors];return va(s,t,n)}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...t},this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=n&&n.event_id?n.event_id:Ee();if(!this._client)return T.warn("No client configured on scope - will not capture exception!"),r;const s=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:s,...n,event_id:r},this),r}captureMessage(t,n,r){const s=r&&r.event_id?r.event_id:Ee();if(!this._client)return T.warn("No client configured on scope - will not capture message!"),s;const i=new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:i,...r,event_id:s},this),s}captureEvent(t,n){const r=n&&n.event_id?n.event_id:Ee();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(T.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}function _k(){return sc||(sc=new an),sc}function yh(){return{traceId:Ee(),spanId:Ee().substring(16)}}const Su="7.120.4",Sy=parseFloat(Su),wk=100;class ky{constructor(t,n,r,s=Sy){this._version=s;let i;n?i=n:(i=new an,i.setClient(t));let o;r?o=r:(o=new an,o.setClient(t)),this._stack=[{scope:i}],t&&this.bindClient(t),this._isolationScope=o}isOlderThan(t){return this._version<t}bindClient(t){const n=this.getStackTop();n.client=t,n.scope.setClient(t),t&&t.setupIntegrations&&t.setupIntegrations()}pushScope(){const t=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:t}),t}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(t){const n=this.pushScope();let r;try{r=t(n)}catch(s){throw this.popScope(),s}return Za(r)?r.then(s=>(this.popScope(),s),s=>{throw this.popScope(),s}):(this.popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(t,n){const r=this._lastEventId=n&&n.event_id?n.event_id:Ee(),s=new Error("Sentry syntheticException");return this.getScope().captureException(t,{originalException:t,syntheticException:s,...n,event_id:r}),r}captureMessage(t,n,r){const s=this._lastEventId=r&&r.event_id?r.event_id:Ee(),i=new Error(t);return this.getScope().captureMessage(t,n,{originalException:t,syntheticException:i,...r,event_id:s}),s}captureEvent(t,n){const r=n&&n.event_id?n.event_id:Ee();return t.type||(this._lastEventId=r),this.getScope().captureEvent(t,{...n,event_id:r}),r}lastEventId(){return this._lastEventId}addBreadcrumb(t,n){const{scope:r,client:s}=this.getStackTop();if(!s)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:o=wk}=s.getOptions&&s.getOptions()||{};if(o<=0)return;const l={timestamp:Hi(),...t},u=i?xr(()=>i(l,n)):l;u!==null&&(s.emit&&s.emit("beforeAddBreadcrumb",u,n),r.addBreadcrumb(u,o))}setUser(t){this.getScope().setUser(t),this.getIsolationScope().setUser(t)}setTags(t){this.getScope().setTags(t),this.getIsolationScope().setTags(t)}setExtras(t){this.getScope().setExtras(t),this.getIsolationScope().setExtras(t)}setTag(t,n){this.getScope().setTag(t,n),this.getIsolationScope().setTag(t,n)}setExtra(t,n){this.getScope().setExtra(t,n),this.getIsolationScope().setExtra(t,n)}setContext(t,n){this.getScope().setContext(t,n),this.getIsolationScope().setContext(t,n)}configureScope(t){const{scope:n,client:r}=this.getStackTop();r&&t(n)}run(t){const n=vh(this);try{t(this)}finally{vh(n)}}getIntegration(t){const n=this.getClient();if(!n)return null;try{return n.getIntegration(t)}catch{return $&&T.warn(`Cannot retrieve integration ${t.id} from the current Hub`),null}}startTransaction(t,n){const r=this._callExtensionMethod("startTransaction",t,n);return $&&!r&&(this.getClient()?T.warn(`Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':
Sentry.addTracingExtensions();
Sentry.init({...});
`):T.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")),r}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(t=!1){if(t)return this.endSession();this._sendSessionUpdate()}endSession(){const n=this.getStackTop().scope,r=n.getSession();r&&hy(r),this._sendSessionUpdate(),n.setSession()}startSession(t){const{scope:n,client:r}=this.getStackTop(),{release:s,environment:i=tl}=r&&r.getOptions()||{},{userAgent:o}=Q.navigator||{},a=py({release:s,environment:i,user:n.getUser(),...o&&{userAgent:o},...t}),l=n.getSession&&n.getSession();return l&&l.status==="ok"&&wr(l,{status:"exited"}),this.endSession(),n.setSession(a),a}shouldSendDefaultPii(){const t=this.getClient(),n=t&&t.getOptions();return!!(n&&n.sendDefaultPii)}_sendSessionUpdate(){const{scope:t,client:n}=this.getStackTop(),r=t.getSession();r&&n&&n.captureSession&&n.captureSession(r)}_callExtensionMethod(t,...n){const s=Vi().__SENTRY__;if(s&&s.extensions&&typeof s.extensions[t]=="function")return s.extensions[t].apply(this,n);$&&T.warn(`Extension method ${t} couldn't be found, doing nothing.`)}}function Vi(){return Q.__SENTRY__=Q.__SENTRY__||{extensions:{},hub:void 0},Q}function vh(e){const t=Vi(),n=ku(t);return by(t,e),n}function ze(){const e=Vi();if(e.__SENTRY__&&e.__SENTRY__.acs){const t=e.__SENTRY__.acs.getCurrentHub();if(t)return t}return Sk(e)}function er(){return ze().getIsolationScope()}function Sk(e=Vi()){return(!kk(e)||ku(e).isOlderThan(Sy))&&by(e,new ky),ku(e)}function kk(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function ku(e){return G0("hub",()=>new ky,e)}function by(e,t){if(!e)return!1;const n=e.__SENTRY__=e.__SENTRY__||{};return n.hub=t,!0}function Tr(e){return(e||ze()).getScope().getTransaction()}let xh=!1;function bk(){xh||(xh=!0,sy(bu),iy(bu))}function bu(){const e=Tr();if(e){const t="internal_error";$&&T.log(`[Tracing] Transaction: ${t} -> Global error occured`),e.setStatus(t)}}bu.tag="sentry_tracingErrorCallback";var _h;(function(e){const t="ok";e.Ok=t;const n="deadline_exceeded";e.DeadlineExceeded=n;const r="unauthenticated";e.Unauthenticated=r;const s="permission_denied";e.PermissionDenied=s;const i="not_found";e.NotFound=i;const o="resource_exhausted";e.ResourceExhausted=o;const a="invalid_argument";e.InvalidArgument=a;const l="unimplemented";e.Unimplemented=l;const u="unavailable";e.Unavailable=u;const f="internal_error";e.InternalError=f;const d="unknown_error";e.UnknownError=d;const p="cancelled";e.Cancelled=p;const g="already_exists";e.AlreadyExists=g;const y="failed_precondition";e.FailedPrecondition=y;const x="aborted";e.Aborted=x;const _="out_of_range";e.OutOfRange=_;const h="data_loss";e.DataLoss=h})(_h||(_h={}));function Ek(e){if(e<400&&e>=100)return"ok";if(e>=400&&e<500)switch(e){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(e>=500&&e<600)switch(e){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}function Qd(e,t){e.setTag("http.status_code",String(t)),e.setData("http.response.status_code",t);const n=Ek(t);n!=="unknown_error"&&e.setStatus(n)}function Ls(e){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const t=se(),n=e||t&&t.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}function Ey(e){if(!Ls())return;const t=Tk(e),n=ze(),r=e.scope?e.scope.getSpan():Jd();if(e.onlyIfParent&&!r)return;const o=(e.scope||ht()).clone();return Ck(n,{parentSpan:r,spanContext:t,forceTransaction:e.forceTransaction,scope:o})}function Jd(){return ht().getSpan()}function Ck(e,{parentSpan:t,spanContext:n,forceTransaction:r,scope:s}){if(!Ls())return;const i=er();let o;if(t&&!r)o=t.startChild(n);else if(t){const a=vs(t),{traceId:l,spanId:u}=t.spanContext(),f=Xd(t);o=e.startTransaction({traceId:l,parentSpanId:u,parentSampled:f,...n,metadata:{dynamicSamplingContext:a,...n.metadata}})}else{const{traceId:a,dsc:l,parentSpanId:u,sampled:f}={...i.getPropagationContext(),...s.getPropagationContext()};o=e.startTransaction({traceId:a,parentSpanId:u,parentSampled:f,...n,metadata:{dynamicSamplingContext:l,...n.metadata}})}return s.setSpan(o),Nk(o,s,i),o}function Tk(e){if(e.startTime){const t={...e};return t.startTimestamp=rl(e.startTime),delete t.startTime,t}return e}const Cy="_sentryScope",Ty="_sentryIsolationScope";function Nk(e,t,n){e&&(_r(e,Ty,n),_r(e,Cy,t))}function Ik(e){return{scope:e[Cy],isolationScope:e[Ty]}}const ln="sentry.source",qr="sentry.sample_rate",Eo="sentry.op",Kr="sentry.origin",jk="profile_id";class Ny{constructor(t=1e3){this._maxlen=t,this.spans=[]}add(t){this.spans.length>this._maxlen?t.spanRecorder=void 0:this.spans.push(t)}}class ol{constructor(t={}){this._traceId=t.traceId||Ee(),this._spanId=t.spanId||Ee().substring(16),this._startTime=t.startTimestamp||Wi(),this.tags=t.tags?{...t.tags}:{},this.data=t.data?{...t.data}:{},this.instrumenter=t.instrumenter||"sentry",this._attributes={},this.setAttributes({[Kr]:t.origin||"manual",[Eo]:t.op,...t.attributes}),this._name=t.name||t.description,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.status&&(this._status=t.status),t.endTimestamp&&(this._endTime=t.endTimestamp),t.exclusiveTime!==void 0&&(this._exclusiveTime=t.exclusiveTime),this._measurements=t.measurements?{...t.measurements}:{}}get name(){return this._name||""}set name(t){this.updateName(t)}get description(){return this._name}set description(t){this._name=t}get traceId(){return this._traceId}set traceId(t){this._traceId=t}get spanId(){return this._spanId}set spanId(t){this._spanId=t}set parentSpanId(t){this._parentSpanId=t}get parentSpanId(){return this._parentSpanId}get sampled(){return this._sampled}set sampled(t){this._sampled=t}get attributes(){return this._attributes}set attributes(t){this._attributes=t}get startTimestamp(){return this._startTime}set startTimestamp(t){this._startTime=t}get endTimestamp(){return this._endTime}set endTimestamp(t){this._endTime=t}get status(){return this._status}set status(t){this._status=t}get op(){return this._attributes[Eo]}set op(t){this.setAttribute(Eo,t)}get origin(){return this._attributes[Kr]}set origin(t){this.setAttribute(Kr,t)}spanContext(){const{_spanId:t,_traceId:n,_sampled:r}=this;return{spanId:t,traceId:n,traceFlags:r?my:tk}}startChild(t){const n=new ol({...t,parentSpanId:this._spanId,sampled:this._sampled,traceId:this._traceId});n.spanRecorder=this.spanRecorder,n.spanRecorder&&n.spanRecorder.add(n);const r=xa(this);if(n.transaction=r,$&&r){const s=t&&t.op||"< unknown op >",i=Te(n).description||"< unknown name >",o=r.spanContext().spanId,a=`[Tracing] Starting '${s}' span on transaction '${i}' (${o}).`;T.log(a),this._logMessage=a}return n}setTag(t,n){return this.tags={...this.tags,[t]:n},this}setData(t,n){return this.data={...this.data,[t]:n},this}setAttribute(t,n){n===void 0?delete this._attributes[t]:this._attributes[t]=n}setAttributes(t){Object.keys(t).forEach(n=>this.setAttribute(n,t[n]))}setStatus(t){return this._status=t,this}setHttpStatus(t){return Qd(this,t),this}setName(t){this.updateName(t)}updateName(t){return this._name=t,this}isSuccess(){return this._status==="ok"}finish(t){return this.end(t)}end(t){if(this._endTime)return;const n=xa(this);if($&&n&&n.spanContext().spanId!==this._spanId){const r=this._logMessage;r&&T.log(r.replace("Starting","Finishing"))}this._endTime=rl(t)}toTraceparent(){return nl(this)}toContext(){return Qe({data:this._getData(),description:this._name,endTimestamp:this._endTime,op:this.op,parentSpanId:this._parentSpanId,sampled:this._sampled,spanId:this._spanId,startTimestamp:this._startTime,status:this._status,tags:this.tags,traceId:this._traceId})}updateWithContext(t){return this.data=t.data||{},this._name=t.name||t.description,this._endTime=t.endTimestamp,this.op=t.op,this._parentSpanId=t.parentSpanId,this._sampled=t.sampled,this._spanId=t.spanId||this._spanId,this._startTime=t.startTimestamp||this._startTime,this._status=t.status,this.tags=t.tags||{},this._traceId=t.traceId||this._traceId,this}getTraceContext(){return Kd(this)}getSpanJSON(){return Qe({data:this._getData(),description:this._name,op:this._attributes[Eo],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:this._status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[Kr],_metrics_summary:void 0,profile_id:this._attributes[jk],exclusive_time:this._exclusiveTime,measurements:Object.keys(this._measurements).length>0?this._measurements:void 0})}isRecording(){return!this._endTime&&!!this._sampled}toJSON(){return this.getSpanJSON()}_getData(){const{data:t,_attributes:n}=this,r=Object.keys(t).length>0,s=Object.keys(n).length>0;if(!(!r&&!s))return r&&s?{...t,...n}:r?t:n}}class Iy extends ol{constructor(t,n){super(t),this._contexts={},this._hub=n||ze(),this._name=t.name||"",this._metadata={...t.metadata},this._trimEnd=t.trimEnd,this.transaction=this;const r=this._metadata.dynamicSamplingContext;r&&(this._frozenDynamicSamplingContext={...r})}get name(){return this._name}set name(t){this.setName(t)}get metadata(){return{source:"custom",spanMetadata:{},...this._metadata,...this._attributes[ln]&&{source:this._attributes[ln]},...this._attributes[qr]&&{sampleRate:this._attributes[qr]}}}set metadata(t){this._metadata=t}setName(t,n="custom"){this._name=t,this.setAttribute(ln,n)}updateName(t){return this._name=t,this}initSpanRecorder(t=1e3){this.spanRecorder||(this.spanRecorder=new Ny(t)),this.spanRecorder.add(this)}setContext(t,n){n===null?delete this._contexts[t]:this._contexts[t]=n}setMeasurement(t,n,r=""){this._measurements[t]={value:n,unit:r}}setMetadata(t){this._metadata={...this._metadata,...t}}end(t){const n=rl(t),r=this._finishTransaction(n);if(r)return this._hub.captureEvent(r)}toContext(){const t=super.toContext();return Qe({...t,name:this._name,trimEnd:this._trimEnd})}updateWithContext(t){return super.updateWithContext(t),this._name=t.name||"",this._trimEnd=t.trimEnd,this}getDynamicSamplingContext(){return vs(this)}setHub(t){this._hub=t}getProfileId(){if(this._contexts!==void 0&&this._contexts.profile!==void 0)return this._contexts.profile.profile_id}_finishTransaction(t){if(this._endTime!==void 0)return;this._name||($&&T.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>"),super.end(t);const n=this._hub.getClient();if(n&&n.emit&&n.emit("finishTransaction",this),this._sampled!==!0){$&&T.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),n&&n.recordDroppedEvent("sample_rate","transaction");return}const r=this.spanRecorder?this.spanRecorder.spans.filter(f=>f!==this&&Te(f).timestamp):[];if(this._trimEnd&&r.length>0){const f=r.map(d=>Te(d).timestamp).filter(Boolean);this._endTime=f.reduce((d,p)=>d>p?d:p)}const{scope:s,isolationScope:i}=Ik(this),{metadata:o}=this,{source:a}=o,l={contexts:{...this._contexts,trace:Kd(this)},spans:r,start_timestamp:this._startTime,tags:this.tags,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{...o,capturedSpanScope:s,capturedSpanIsolationScope:i,...Qe({dynamicSamplingContext:vs(this)})},_metrics_summary:void 0,...a&&{transaction_info:{source:a}}};return Object.keys(this._measurements).length>0&&($&&T.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),l.measurements=this._measurements),$&&T.log(`[Tracing] Finishing ${this.op} transaction: ${this._name}.`),l}}const Vo={idleTimeout:1e3,finalTimeout:3e4,heartbeatInterval:5e3},Rk="finishReason",Mr=["heartbeatFailed","idleTimeout","documentHidden","finalTimeout","externalFinish","cancelled"];class Mk extends Ny{constructor(t,n,r,s){super(s),this._pushActivity=t,this._popActivity=n,this.transactionSpanId=r}add(t){if(t.spanContext().spanId!==this.transactionSpanId){const n=t.end;t.end=(...r)=>(this._popActivity(t.spanContext().spanId),n.apply(t,r)),Te(t).timestamp===void 0&&this._pushActivity(t.spanContext().spanId)}super.add(t)}}class Lk extends Iy{constructor(t,n,r=Vo.idleTimeout,s=Vo.finalTimeout,i=Vo.heartbeatInterval,o=!1,a=!1){super(t,n),this._idleHub=n,this._idleTimeout=r,this._finalTimeout=s,this._heartbeatInterval=i,this._onScope=o,this.activities={},this._heartbeatCounter=0,this._finished=!1,this._idleTimeoutCanceledPermanently=!1,this._beforeFinishCallbacks=[],this._finishReason=Mr[4],this._autoFinishAllowed=!a,o&&($&&T.log(`Setting idle transaction on scope. Span ID: ${this.spanContext().spanId}`),n.getScope().setSpan(this)),a||this._restartIdleTimeout(),setTimeout(()=>{this._finished||(this.setStatus("deadline_exceeded"),this._finishReason=Mr[3],this.end())},this._finalTimeout)}end(t){const n=rl(t);if(this._finished=!0,this.activities={},this.op==="ui.action.click"&&this.setAttribute(Rk,this._finishReason),this.spanRecorder){$&&T.log("[Tracing] finishing IdleTransaction",new Date(n*1e3).toISOString(),this.op);for(const r of this._beforeFinishCallbacks)r(this,n);this.spanRecorder.spans=this.spanRecorder.spans.filter(r=>{if(r.spanContext().spanId===this.spanContext().spanId)return!0;Te(r).timestamp||(r.setStatus("cancelled"),r.end(n),$&&T.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(r,void 0,2)));const{start_timestamp:s,timestamp:i}=Te(r),o=s&&s<n,a=(this._finalTimeout+this._idleTimeout)/1e3,l=i&&s&&i-s<a;if($){const u=JSON.stringify(r,void 0,2);o?l||T.log("[Tracing] discarding Span since it finished after Transaction final timeout",u):T.log("[Tracing] discarding Span since it happened after Transaction was finished",u)}return o&&l}),$&&T.log("[Tracing] flushing IdleTransaction")}else $&&T.log("[Tracing] No active IdleTransaction");if(this._onScope){const r=this._idleHub.getScope();r.getTransaction()===this&&r.setSpan(void 0)}return super.end(t)}registerBeforeFinishCallback(t){this._beforeFinishCallbacks.push(t)}initSpanRecorder(t){if(!this.spanRecorder){const n=s=>{this._finished||this._pushActivity(s)},r=s=>{this._finished||this._popActivity(s)};this.spanRecorder=new Mk(n,r,this.spanContext().spanId,t),$&&T.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)}cancelIdleTimeout(t,{restartOnChildSpanChange:n}={restartOnChildSpanChange:!0}){this._idleTimeoutCanceledPermanently=n===!1,this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0,Object.keys(this.activities).length===0&&this._idleTimeoutCanceledPermanently&&(this._finishReason=Mr[5],this.end(t)))}setFinishReason(t){this._finishReason=t}sendAutoFinishSignal(){this._autoFinishAllowed||($&&T.log("[Tracing] Received finish signal for idle transaction."),this._restartIdleTimeout(),this._autoFinishAllowed=!0)}_restartIdleTimeout(t){this.cancelIdleTimeout(),this._idleTimeoutID=setTimeout(()=>{!this._finished&&Object.keys(this.activities).length===0&&(this._finishReason=Mr[1],this.end(t))},this._idleTimeout)}_pushActivity(t){this.cancelIdleTimeout(void 0,{restartOnChildSpanChange:!this._idleTimeoutCanceledPermanently}),$&&T.log(`[Tracing] pushActivity: ${t}`),this.activities[t]=!0,$&&T.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(t){if(this.activities[t]&&($&&T.log(`[Tracing] popActivity ${t}`),delete this.activities[t],$&&T.log("[Tracing] new activities count",Object.keys(this.activities).length)),Object.keys(this.activities).length===0){const n=Wi();this._idleTimeoutCanceledPermanently?this._autoFinishAllowed&&(this._finishReason=Mr[5],this.end(n)):this._restartIdleTimeout(n+this._idleTimeout/1e3)}}_beat(){if(this._finished)return;const t=Object.keys(this.activities).join("");t===this._prevHeartbeatString?this._heartbeatCounter++:this._heartbeatCounter=1,this._prevHeartbeatString=t,this._heartbeatCounter>=3?this._autoFinishAllowed&&($&&T.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this._finishReason=Mr[0],this.end()):this._pingHeartbeat()}_pingHeartbeat(){$&&T.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout(()=>{this._beat()},this._heartbeatInterval)}}function jy(e,t,n){if(!Ls(t))return e.sampled=!1,e;if(e.sampled!==void 0)return e.setAttribute(qr,Number(e.sampled)),e;let r;return typeof t.tracesSampler=="function"?(r=t.tracesSampler(n),e.setAttribute(qr,Number(r))):n.parentSampled!==void 0?r=n.parentSampled:typeof t.tracesSampleRate<"u"?(r=t.tracesSampleRate,e.setAttribute(qr,Number(r))):(r=1,e.setAttribute(qr,r)),Ry(r)?r?(e.sampled=Math.random()<r,e.sampled?($&&T.log(`[Tracing] starting ${e.op} transaction - ${Te(e).description}`),e):($&&T.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(r)})`),e)):($&&T.log(`[Tracing] Discarding transaction because ${typeof t.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),e.sampled=!1,e):($&&T.warn("[Tracing] Discarding transaction because of invalid sample rate."),e.sampled=!1,e)}function Ry(e){return W0(e)||!(typeof e=="number"||typeof e=="boolean")?($&&T.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`),!1):e<0||e>1?($&&T.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${e}.`),!1):!0}function Pk(){const t=this.getScope().getSpan();return t?{"sentry-trace":nl(t)}:{}}function Ok(e,t){const n=this.getClient(),r=n&&n.getOptions()||{},s=r.instrumenter||"sentry",i=e.instrumenter||"sentry";s!==i&&($&&T.error(`A transaction was started with instrumenter=\`${i}\`, but the SDK is configured with the \`${s}\` instrumenter.
The transaction will not be sampled. Please use the ${s} instrumentation to start transactions.`),e.sampled=!1);let o=new Iy(e,this);return o=jy(o,r,{name:e.name,parentSampled:e.parentSampled,transactionContext:e,attributes:{...e.data,...e.attributes},...t}),o.isRecording()&&o.initSpanRecorder(r._experiments&&r._experiments.maxSpans),n&&n.emit&&n.emit("startTransaction",o),o}function My(e,t,n,r,s,i,o,a=!1){const l=e.getClient(),u=l&&l.getOptions()||{};let f=new Lk(t,e,n,r,o,s,a);return f=jy(f,u,{name:t.name,parentSampled:t.parentSampled,transactionContext:t,attributes:{...t.data,...t.attributes},...i}),f.isRecording()&&f.initSpanRecorder(u._experiments&&u._experiments.maxSpans),l&&l.emit&&l.emit("startTransaction",f),f}function Ak(){const e=Vi();e.__SENTRY__&&(e.__SENTRY__.extensions=e.__SENTRY__.extensions||{},e.__SENTRY__.extensions.startTransaction||(e.__SENTRY__.extensions.startTransaction=Ok),e.__SENTRY__.extensions.traceHeaders||(e.__SENTRY__.extensions.traceHeaders=Pk),bk())}function Dk(e,t,n){const r=Tr();r&&r.setMeasurement(e,t,n)}function Fk(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}function $k(e,t,n,r){const s=Yd(n),i={sent_at:new Date().toISOString(),...s&&{sdk:s},...!!r&&t&&{dsn:br(t)}},o="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return Zn(i,[o])}function Uk(e,t,n,r){const s=Yd(n),i=e.type&&e.type!=="replay_event"?e.type:"event";Fk(e,n&&n.sdk);const o=uy(e,s,r,t);return delete e.sdkProcessingMetadata,Zn(o,[[{type:i},e]])}const zk="7";function Ly(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function Bk(e){return`${Ly(e)}${e.projectId}/envelope/`}function Hk(e,t){return tS({sentry_key:e.publicKey,sentry_version:zk,...t&&{sentry_client:`${t.name}/${t.version}`}})}function Wk(e,t={}){const n=typeof t=="string"?t:t.tunnel,r=typeof t=="string"||!t._metadata?void 0:t._metadata.sdk;return n||`${Bk(e)}?${Hk(e,r)}`}function Vk(e,t){const n=K0(e);if(!n)return"";const r=`${Ly(n)}embed/error-page/`;let s=`dsn=${br(n)}`;for(const i in t)if(i!=="dsn"&&i!=="onClose")if(i==="user"){const o=t.user;if(!o)continue;o.name&&(s+=`&name=${encodeURIComponent(o.name)}`),o.email&&(s+=`&email=${encodeURIComponent(o.email)}`)}else s+=`&${encodeURIComponent(i)}=${encodeURIComponent(t[i])}`;return`${r}?${s}`}const wh=[];function Gk(e){const t={};return e.forEach(n=>{const{name:r}=n,s=t[r];s&&!s.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.keys(t).map(n=>t[n])}function Yk(e){const t=e.defaultIntegrations||[],n=e.integrations;t.forEach(o=>{o.isDefaultInstance=!0});let r;Array.isArray(n)?r=[...t,...n]:typeof n=="function"?r=ty(n(t)):r=t;const s=Gk(r),i=Kk(s,o=>o.name==="Debug");if(i!==-1){const[o]=s.splice(i,1);s.push(o)}return s}function qk(e,t){const n={};return t.forEach(r=>{r&&Py(e,r,n)}),n}function Sh(e,t){for(const n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function Py(e,t,n){if(n[t.name]){$&&T.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,wh.indexOf(t.name)===-1&&(t.setupOnce(ZS,ze),wh.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),e.on&&typeof t.preprocessEvent=="function"){const r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(s,i)=>r(s,i,e))}if(e.addEventProcessor&&typeof t.processEvent=="function"){const r=t.processEvent.bind(t),s=(i,o)=>r(i,o,e);s.id=t.name,e.addEventProcessor(s)}$&&T.log(`Integration installed: ${t.name}`)}function Kk(e,t){for(let n=0;n<e.length;n++)if(t(e[n])===!0)return n;return-1}function Xk(e){let t="";for(const n of e){const r=Object.entries(n.tags),s=r.length>0?`|#${r.map(([i,o])=>`${i}:${o}`).join(",")}`:"";t+=`${n.name}@${n.unit}:${n.metric}|${n.metricType}${s}|T${n.timestamp}
`}return t}function Qk(e,t,n,r){const s={sent_at:new Date().toISOString()};n&&n.sdk&&(s.sdk={name:n.sdk.name,version:n.sdk.version}),r&&t&&(s.dsn=br(t));const i=Jk(e);return Zn(s,[i])}function Jk(e){const t=Xk(e);return[{type:"statsd",length:t.length},t]}const kh="Not capturing exception because it's already been captured.";class Zk{constructor(t){if(this._options=t,this._integrations={},this._integrationsInitialized=!1,this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=K0(t.dsn):$&&T.warn("No DSN provided, client will not send events."),this._dsn){const n=Wk(this._dsn,t);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:n})}}captureException(t,n,r){if(rh(t)){$&&T.log(kh);return}let s=n&&n.event_id;return this._process(this.eventFromException(t,n).then(i=>this._captureEvent(i,n,r)).then(i=>{s=i})),s}captureMessage(t,n,r,s){let i=r&&r.event_id;const o=$d(t)?t:String(t),a=Ud(t)?this.eventFromMessage(o,n,r):this.eventFromException(t,r);return this._process(a.then(l=>this._captureEvent(l,r,s)).then(l=>{i=l})),i}captureEvent(t,n,r){if(n&&n.originalException&&rh(n.originalException)){$&&T.log(kh);return}let s=n&&n.event_id;const o=(t.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(t,n,o||r).then(a=>{s=a})),s}captureSession(t){typeof t.release!="string"?$&&T.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),wr(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const n=this._transport;return n?(this.metricsAggregator&&this.metricsAggregator.flush(),this._isClientDoneProcessing(t).then(r=>n.flush(t).then(s=>r&&s))):ys(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,this.metricsAggregator&&this.metricsAggregator.close(),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}setupIntegrations(t){(t&&!this._integrationsInitialized||this._isEnabled()&&!this._integrationsInitialized)&&this._setupIntegrations()}init(){this._isEnabled()&&this._setupIntegrations()}getIntegrationById(t){return this.getIntegrationByName(t)}getIntegrationByName(t){return this._integrations[t]}getIntegration(t){try{return this._integrations[t.id]||null}catch{return $&&T.warn(`Cannot retrieve integration ${t.id} from the current Client`),null}}addIntegration(t){const n=this._integrations[t.name];Py(this,t,this._integrations),n||Sh(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=Uk(t,this._dsn,this._options._metadata,this._options.tunnel);for(const i of n.attachments||[])r=HS(r,GS(i,this._options.transportOptions&&this._options.transportOptions.textEncoder));const s=this._sendEnvelope(r);s&&s.then(i=>this.emit("afterSendEvent",t,i),null)}sendSession(t){const n=$k(t,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(n)}recordDroppedEvent(t,n,r){if(this._options.sendClientReports){const s=typeof r=="number"?r:1,i=`${t}:${n}`;$&&T.log(`Recording outcome: "${i}"${s>1?` (${s} times)`:""}`),this._outcomes[i]=(this._outcomes[i]||0)+s}}captureAggregateMetrics(t){$&&T.log(`Flushing aggregated metrics, number of metrics: ${t.length}`);const n=Qk(t,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(n)}on(t,n){this._hooks[t]||(this._hooks[t]=[]),this._hooks[t].push(n)}emit(t,...n){this._hooks[t]&&this._hooks[t].forEach(r=>r(...n))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=qk(this,t),Sh(this,t),this._integrationsInitialized=!0}_updateSessionFromEvent(t,n){let r=!1,s=!1;const i=n.exception&&n.exception.values;if(i){s=!0;for(const l of i){const u=l.mechanism;if(u&&u.handled===!1){r=!0;break}}}const o=t.status==="ok";(o&&t.errors===0||o&&r)&&(wr(t,{...r&&{status:"crashed"},errors:t.errors||Number(s||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new at(n=>{let r=0;const s=1,i=setInterval(()=>{this._numProcessing==0?(clearInterval(i),n(!0)):(r+=s,t&&r>=t&&(clearInterval(i),n(!1)))},s)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r,s=er()){const i=this.getOptions(),o=Object.keys(this._integrations);return!n.integrations&&o.length>0&&(n.integrations=o),this.emit("preprocessEvent",t,n),gy(i,t,n,r,this,s).then(a=>{if(a===null)return a;const l={...s.getPropagationContext(),...r?r.getPropagationContext():void 0};if(!(a.contexts&&a.contexts.trace)&&l){const{traceId:f,spanId:d,parentSpanId:p,dsc:g}=l;a.contexts={trace:{trace_id:f,span_id:d,parent_span_id:p},...a.contexts};const y=g||il(f,this,r);a.sdkProcessingMetadata={dynamicSamplingContext:y,...a.sdkProcessingMetadata}}return a})}_captureEvent(t,n={},r){return this._processEvent(t,n,r).then(s=>s.event_id,s=>{if($){const i=s;i.logLevel==="log"?T.log(i.message):T.warn(i)}})}_processEvent(t,n,r){const s=this.getOptions(),{sampleRate:i}=s,o=Ay(t),a=Oy(t),l=t.type||"error",u=`before send for type \`${l}\``;if(a&&typeof i=="number"&&Math.random()>i)return this.recordDroppedEvent("sample_rate","error",t),Vd(new Yt(`Discarding event because it's not included in the random sample (sampling rate = ${i})`,"log"));const f=l==="replay_event"?"replay":l,p=(t.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(t,n,r,p).then(g=>{if(g===null)throw this.recordDroppedEvent("event_processor",f,t),new Yt("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return g;const x=tb(s,g,n);return eb(x,u)}).then(g=>{if(g===null){if(this.recordDroppedEvent("before_send",f,t),o){const h=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",h)}throw new Yt(`${u} returned \`null\`, will not send event.`,"log")}const y=r&&r.getSession();if(!o&&y&&this._updateSessionFromEvent(y,g),o){const _=g.sdkProcessingMetadata&&g.sdkProcessingMetadata.spanCountBeforeProcessing||0,h=g.spans?g.spans.length:0,m=_-h;m>0&&this.recordDroppedEvent("before_send","span",m)}const x=g.transaction_info;if(o&&x&&g.transaction!==t.transaction){const _="custom";g.transaction_info={...x,source:_}}return this.sendEvent(g,n),g}).then(null,g=>{throw g instanceof Yt?g:(this.captureException(g,{data:{__sentry__:!0},originalException:g}),new Yt(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${g}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_sendEnvelope(t){if(this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport)return this._transport.send(t).then(null,n=>{$&&T.error("Error while sending event:",n)});$&&T.error("Transport disabled")}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.keys(t).map(n=>{const[r,s]=n.split(":");return{reason:r,category:s,quantity:t[n]}})}}function eb(e,t){const n=`${t} must return \`null\` or a valid event.`;if(Za(e))return e.then(r=>{if(!gs(r)&&r!==null)throw new Yt(n);return r},r=>{throw new Yt(`${t} rejected with ${r}`)});if(!gs(e)&&e!==null)throw new Yt(n);return e}function tb(e,t,n){const{beforeSend:r,beforeSendTransaction:s}=e;if(Oy(t)&&r)return r(t,n);if(Ay(t)&&s){if(t.spans){const i=t.spans.length;t.sdkProcessingMetadata={...t.sdkProcessingMetadata,spanCountBeforeProcessing:i}}return s(t,n)}return t}function Oy(e){return e.type===void 0}function Ay(e){return e.type==="transaction"}function nb(e){const t=se();!t||!t.addEventProcessor||t.addEventProcessor(e)}function rb(e,t){t.debug===!0&&($?T.enable():xr(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),ht().update(t.initialScope);const r=new e(t);sb(r),ib(r)}function sb(e){const n=ze().getStackTop();n.client=e,n.scope.setClient(e)}function ib(e){e.init?e.init():e.setupIntegrations&&e.setupIntegrations()}const ob=30;function Dy(e,t,n=MS(e.bufferSize||ob)){let r={};const s=o=>n.drain(o);function i(o){const a=[];if(ch(o,(d,p)=>{const g=uh(p);if(dy(r,g)){const y=bh(d,p);e.recordDroppedEvent("ratelimit_backoff",g,y)}else a.push(d)}),a.length===0)return ys();const l=Zn(o[0],a),u=d=>{ch(l,(p,g)=>{const y=bh(p,g);e.recordDroppedEvent(d,uh(g),y)})},f=()=>t({body:WS(l,e.textEncoder)}).then(d=>(d.statusCode!==void 0&&(d.statusCode<200||d.statusCode>=300)&&$&&T.warn(`Sentry responded with status code ${d.statusCode} to sent event.`),r=fy(r,d),d),d=>{throw u("network_error"),d});return n.add(f).then(d=>d,d=>{if(d instanceof Yt)return $&&T.error("Skipped sending event because buffer is full."),u("queue_overflow"),ys();throw d})}return i.__sentry__baseTransport__=!0,{send:i,flush:s}}function bh(e,t){if(!(t!=="event"&&t!=="transaction"))return Array.isArray(e)?e[1]:void 0}function ab(e,t){const n={sent_at:new Date().toISOString()};t&&(n.dsn=br(t));const r=e.map(lb);return Zn(n,r)}function lb(e){return[{type:"span"},e]}function cb(e,t){const n=t&&fb(t)?t.getClient():t,r=n&&n.getDsn(),s=n&&n.getOptions().tunnel;return db(e,r)||ub(e,s)}function ub(e,t){return t?Eh(e)===Eh(t):!1}function db(e,t){return t?e.includes(t.host):!1}function Eh(e){return e[e.length-1]==="/"?e.slice(0,-1):e}function fb(e){return e.getClient!==void 0}function Fy(e,t,n=[t],r="npm"){const s=e._metadata||{};s.sdk||(s.sdk={name:`sentry.javascript.${t}`,packages:n.map(i=>({name:`${r}:@sentry/${i}`,version:Su})),version:Su}),e._metadata=s}const pb=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/],hb=[/^.*\/healthcheck$/,/^.*\/healthy$/,/^.*\/live$/,/^.*\/ready$/,/^.*\/heartbeat$/,/^.*\/health$/,/^.*\/healthz$/],mb="InboundFilters",gb=(e={})=>({name:mb,setupOnce(){},processEvent(t,n,r){const s=r.getOptions(),i=vb(e,s);return xb(t,i)?null:t}}),yb=gb;function vb(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:pb],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[],...e.disableTransactionDefaults?[]:hb],ignoreInternal:e.ignoreInternal!==void 0?e.ignoreInternal:!0}}function xb(e,t){return t.ignoreInternal&&Eb(e)?($&&T.warn(`Event dropped due to being internal Sentry Error.
Event: ${Nn(e)}`),!0):_b(e,t.ignoreErrors)?($&&T.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Nn(e)}`),!0):wb(e,t.ignoreTransactions)?($&&T.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${Nn(e)}`),!0):Sb(e,t.denyUrls)?($&&T.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Nn(e)}.
Url: ${_a(e)}`),!0):kb(e,t.allowUrls)?!1:($&&T.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Nn(e)}.
Url: ${_a(e)}`),!0)}function _b(e,t){return e.type||!t||!t.length?!1:bb(e).some(n=>Rs(n,t))}function wb(e,t){if(e.type!=="transaction"||!t||!t.length)return!1;const n=e.transaction;return n?Rs(n,t):!1}function Sb(e,t){if(!t||!t.length)return!1;const n=_a(e);return n?Rs(n,t):!1}function kb(e,t){if(!t||!t.length)return!0;const n=_a(e);return n?Rs(n,t):!0}function bb(e){const t=[];e.message&&t.push(e.message);let n;try{n=e.exception.values[e.exception.values.length-1]}catch{}return n&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`)),$&&t.length===0&&T.error(`Could not extract message for event ${Nn(e)}`),t}function Eb(e){try{return e.exception.values[0].type==="SentryError"}catch{}return!1}function Cb(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function _a(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?Cb(t):null}catch{return $&&T.error(`Cannot extract url for event ${Nn(e)}`),null}}let Ch;const Tb="FunctionToString",Th=new WeakMap,Nb=()=>({name:Tb,setupOnce(){Ch=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=Bd(this),n=Th.has(se())&&t!==void 0?t:this;return Ch.apply(n,e)}}catch{}},setup(e){Th.set(e,!0)}}),Ib=Nb,me=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,V=Q;function jb(){V.document?V.document.addEventListener("visibilitychange",()=>{const e=Tr();if(V.document.hidden&&e){const t="cancelled",{op:n,status:r}=Te(e);me&&T.log(`[Tracing] Transaction: ${t} -> since tab moved to the background, op: ${n}`),r||e.setStatus(t),e.setTag("visibilitychange","document.hidden"),e.end()}}):me&&T.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const Gi=(e,t,n)=>{let r,s;return i=>{t.value>=0&&(i||n)&&(s=t.value-(r||0),(s||r===void 0)&&(r=t.value,t.delta=s,e(t)))}},Rb=()=>`v3-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,Mb=()=>{const e=V.performance.timing,t=V.performance.navigation.type,n={entryType:"navigation",startTime:0,type:t==2?"back_forward":t===1?"reload":"navigate"};for(const r in e)r!=="navigationStart"&&r!=="toJSON"&&(n[r]=Math.max(e[r]-e.navigationStart,0));return n},al=()=>V.__WEB_VITALS_POLYFILL__?V.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||Mb()):V.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],Zd=()=>{const e=al();return e&&e.activationStart||0},Yi=(e,t)=>{const n=al();let r="navigate";return n&&(V.document&&V.document.prerendering||Zd()>0?r="prerender":r=n.type.replace(/_/g,"-")),{name:e,value:typeof t>"u"?-1:t,rating:"good",delta:0,entries:[],id:Rb(),navigationType:r}},Ps=(e,t,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver(s=>{t(s.getEntries())});return r.observe({type:e,buffered:!0,...n}),r}}catch{}},qi=(e,t)=>{const n=r=>{(r.type==="pagehide"||V.document.visibilityState==="hidden")&&(e(r),t&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};V.document&&(addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0))},Lb=(e,t={})=>{const n=Yi("CLS",0);let r,s=0,i=[];const o=l=>{l.forEach(u=>{if(!u.hadRecentInput){const f=i[0],d=i[i.length-1];s&&i.length!==0&&u.startTime-d.startTime<1e3&&u.startTime-f.startTime<5e3?(s+=u.value,i.push(u)):(s=u.value,i=[u]),s>n.value&&(n.value=s,n.entries=i,r&&r())}})},a=Ps("layout-shift",o);if(a){r=Gi(e,n,t.reportAllChanges);const l=()=>{o(a.takeRecords()),r(!0)};return qi(l),l}};let wa=-1;const Pb=()=>{V.document&&V.document.visibilityState&&(wa=V.document.visibilityState==="hidden"&&!V.document.prerendering?0:1/0)},Ob=()=>{qi(({timeStamp:e})=>{wa=e},!0)},ef=()=>(wa<0&&(Pb(),Ob()),{get firstHiddenTime(){return wa}}),Ab=e=>{const t=ef(),n=Yi("FID");let r;const s=a=>{a.startTime<t.firstHiddenTime&&(n.value=a.processingStart-a.startTime,n.entries.push(a),r(!0))},i=a=>{a.forEach(s)},o=Ps("first-input",i);r=Gi(e,n),o&&qi(()=>{i(o.takeRecords()),o.disconnect()},!0)};let $y=0,ic=1/0,Co=0;const Db=e=>{e.forEach(t=>{t.interactionId&&(ic=Math.min(ic,t.interactionId),Co=Math.max(Co,t.interactionId),$y=Co?(Co-ic)/7+1:0)})};let Eu;const Fb=()=>Eu?$y:performance.interactionCount||0,$b=()=>{"interactionCount"in performance||Eu||(Eu=Ps("event",Db,{type:"event",buffered:!0,durationThreshold:0}))},Uy=()=>Fb(),Nh=10,nn=[],oc={},Ih=e=>{const t=nn[nn.length-1],n=oc[e.interactionId];if(n||nn.length<Nh||e.duration>t.latency){if(n)n.entries.push(e),n.latency=Math.max(n.latency,e.duration);else{const r={id:e.interactionId,latency:e.duration,entries:[e]};oc[r.id]=r,nn.push(r)}nn.sort((r,s)=>s.latency-r.latency),nn.splice(Nh).forEach(r=>{delete oc[r.id]})}},Ub=()=>{const e=Math.min(nn.length-1,Math.floor(Uy()/50));return nn[e]},zb=(e,t)=>{t=t||{},$b();const n=Yi("INP");let r;const s=o=>{o.forEach(l=>{l.interactionId&&Ih(l),l.entryType==="first-input"&&!nn.some(f=>f.entries.some(d=>l.duration===d.duration&&l.startTime===d.startTime))&&Ih(l)});const a=Ub();a&&a.latency!==n.value&&(n.value=a.latency,n.entries=a.entries,r())},i=Ps("event",s,{durationThreshold:t.durationThreshold||40});r=Gi(e,n,t.reportAllChanges),i&&(i.observe({type:"first-input",buffered:!0}),qi(()=>{s(i.takeRecords()),n.value<0&&Uy()>0&&(n.value=0,n.entries=[]),r(!0)}))},jh={},Bb=e=>{const t=ef(),n=Yi("LCP");let r;const s=o=>{const a=o[o.length-1];if(a){const l=Math.max(a.startTime-Zd(),0);l<t.firstHiddenTime&&(n.value=l,n.entries=[a],r())}},i=Ps("largest-contentful-paint",s);if(i){r=Gi(e,n);const o=()=>{jh[n.id]||(s(i.takeRecords()),i.disconnect(),jh[n.id]=!0,r(!0))};return["keydown","click"].forEach(a=>{V.document&&addEventListener(a,o,{once:!0,capture:!0})}),qi(o,!0),o}},Cu=e=>{V.document&&(V.document.prerendering?addEventListener("prerenderingchange",()=>Cu(e),!0):V.document.readyState!=="complete"?addEventListener("load",()=>Cu(e),!0):setTimeout(e,0))},Hb=(e,t)=>{t=t||{};const n=Yi("TTFB"),r=Gi(e,n,t.reportAllChanges);Cu(()=>{const s=al();if(s){if(n.value=Math.max(s.responseStart-Zd(),0),n.value<0||n.value>performance.now())return;n.entries=[s],r(!0)}})},ai={},Sa={};let zy,By,Hy,Wy,Vy;function Wb(e,t=!1){return Ki("cls",e,qb,zy,t)}function Gy(e,t=!1){return Ki("lcp",e,Xb,Hy,t)}function Vb(e){return Ki("ttfb",e,Qb,Wy)}function Gb(e){return Ki("fid",e,Kb,By)}function Yb(e){return Ki("inp",e,Jb,Vy)}function xs(e,t){return Yy(e,t),Sa[e]||(Zb(e),Sa[e]=!0),qy(e,t)}function Os(e,t){const n=ai[e];if(!(!n||!n.length))for(const r of n)try{r(t)}catch(s){me&&T.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${hn(r)}
Error:`,s)}}function qb(){return Lb(e=>{Os("cls",{metric:e}),zy=e},{reportAllChanges:!0})}function Kb(){return Ab(e=>{Os("fid",{metric:e}),By=e})}function Xb(){return Bb(e=>{Os("lcp",{metric:e}),Hy=e})}function Qb(){return Hb(e=>{Os("ttfb",{metric:e}),Wy=e})}function Jb(){return zb(e=>{Os("inp",{metric:e}),Vy=e})}function Ki(e,t,n,r,s=!1){Yy(e,t);let i;return Sa[e]||(i=n(),Sa[e]=!0),r&&t({metric:r}),qy(e,t,s?i:void 0)}function Zb(e){const t={};e==="event"&&(t.durationThreshold=0),Ps(e,n=>{Os(e,{entries:n})},t)}function Yy(e,t){ai[e]=ai[e]||[],ai[e].push(t)}function qy(e,t,n){return()=>{n&&n();const r=ai[e];if(!r)return;const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}function ac(e){return typeof e=="number"&&isFinite(e)}function _s(e,{startTimestamp:t,...n}){return t&&e.startTimestamp>t&&(e.startTimestamp=t),e.startChild({startTimestamp:t,...n})}const eE=2147483647;function Me(e){return e/1e3}function tf(){return V&&V.addEventListener&&V.performance}let Rh=0,ke={},Ht,li;function tE(){const e=tf();if(e&&dt){e.mark&&V.performance.mark("sentry-tracing-init");const t=aE(),n=iE(),r=oE(),s=lE();return()=>{t(),n(),r(),s()}}return()=>{}}function nE(){xs("longtask",({entries:e})=>{for(const t of e){const n=Tr();if(!n)return;const r=Me(dt+t.startTime),s=Me(t.duration);n.startChild({description:"Main UI thread blocked",op:"ui.long-task",origin:"auto.ui.browser.metrics",startTimestamp:r,endTimestamp:r+s})}})}function rE(){xs("event",({entries:e})=>{for(const t of e){const n=Tr();if(!n)return;if(t.name==="click"){const r=Me(dt+t.startTime),s=Me(t.duration),i={description:Yn(t.target),op:`ui.interaction.${t.name}`,origin:"auto.ui.browser.metrics",startTimestamp:r,endTimestamp:r+s},o=Y0(t.target);o&&(i.attributes={"ui.component_name":o}),n.startChild(i)}}})}function sE(e,t){if(tf()&&dt){const r=cE(e,t);return()=>{r()}}return()=>{}}function iE(){return Wb(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(me&&T.log("[Measurements] Adding CLS"),ke.cls={value:e.value,unit:""},li=t)},!0)}function oE(){return Gy(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(me&&T.log("[Measurements] Adding LCP"),ke.lcp={value:e.value,unit:"millisecond"},Ht=t)},!0)}function aE(){return Gb(({metric:e})=>{const t=e.entries[e.entries.length-1];if(!t)return;const n=Me(dt),r=Me(t.startTime);me&&T.log("[Measurements] Adding FID"),ke.fid={value:e.value,unit:"millisecond"},ke["mark.fid"]={value:n+r,unit:"second"}})}function lE(){return Vb(({metric:e})=>{e.entries[e.entries.length-1]&&(me&&T.log("[Measurements] Adding TTFB"),ke.ttfb={value:e.value,unit:"millisecond"})})}const Mh={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function cE(e,t){return Yb(({metric:n})=>{if(n.value===void 0)return;const r=n.entries.find(v=>v.duration===n.value&&Mh[v.name]!==void 0),s=se();if(!r||!s)return;const i=Mh[r.name],o=s.getOptions(),a=Me(dt+r.startTime),l=Me(n.value),u=r.interactionId!==void 0?e[r.interactionId]:void 0;if(u===void 0)return;const{routeName:f,parentContext:d,activeTransaction:p,user:g,replayId:y}=u,x=g!==void 0?g.email||g.id||g.ip_address:void 0,_=p!==void 0?p.getProfileId():void 0,h=new ol({startTimestamp:a,endTimestamp:a+l,op:`ui.interaction.${i}`,name:Yn(r.target),attributes:{release:o.release,environment:o.environment,transaction:f,...x!==void 0&&x!==""?{user:x}:{},..._!==void 0?{profile_id:_}:{},...y!==void 0?{replay_id:y}:{}},exclusiveTime:n.value,measurements:{inp:{value:n.value,unit:"millisecond"}}}),m=vE(d,o,t);if(m&&Math.random()<m){const v=h?ab([h],s.getDsn()):void 0,w=s&&s.getTransport();w&&v&&w.send(v).then(null,b=>{me&&T.error("Error while sending interaction:",b)});return}})}function uE(e){const t=tf();if(!t||!V.performance.getEntries||!dt)return;me&&T.log("[Tracing] Adding & adjusting spans using Performance API");const n=Me(dt),r=t.getEntries(),{op:s,start_timestamp:i}=Te(e);if(r.slice(Rh).forEach(o=>{const a=Me(o.startTime),l=Me(o.duration);if(!(e.op==="navigation"&&i&&n+a<i))switch(o.entryType){case"navigation":{fE(e,o,n);break}case"mark":case"paint":case"measure":{dE(e,o,a,l,n);const u=ef(),f=o.startTime<u.firstHiddenTime;o.name==="first-paint"&&f&&(me&&T.log("[Measurements] Adding FP"),ke.fp={value:o.startTime,unit:"millisecond"}),o.name==="first-contentful-paint"&&f&&(me&&T.log("[Measurements] Adding FCP"),ke.fcp={value:o.startTime,unit:"millisecond"});break}case"resource":{hE(e,o,o.name,a,l,n);break}}}),Rh=Math.max(r.length-1,0),mE(e),s==="pageload"){yE(ke),["fcp","fp","lcp"].forEach(a=>{if(!ke[a]||!i||n>=i)return;const l=ke[a].value,u=n+Me(l),f=Math.abs((u-i)*1e3),d=f-l;me&&T.log(`[Measurements] Normalized ${a} from ${l} to ${f} (${d})`),ke[a].value=f});const o=ke["mark.fid"];o&&ke.fid&&(_s(e,{description:"first input delay",endTimestamp:o.value+Me(ke.fid.value),op:"ui.action",origin:"auto.ui.browser.metrics",startTimestamp:o.value}),delete ke["mark.fid"]),"fcp"in ke||delete ke.cls,Object.keys(ke).forEach(a=>{Dk(a,ke[a].value,ke[a].unit)}),gE(e)}Ht=void 0,li=void 0,ke={}}function dE(e,t,n,r,s){const i=s+n,o=i+r;return _s(e,{description:t.name,endTimestamp:o,op:t.entryType,origin:"auto.resource.browser.metrics",startTimestamp:i}),i}function fE(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{To(e,t,r,n)}),To(e,t,"secureConnection",n,"TLS/SSL","connectEnd"),To(e,t,"fetch",n,"cache","domainLookupStart"),To(e,t,"domainLookup",n,"DNS"),pE(e,t,n)}function To(e,t,n,r,s,i){const o=i?t[i]:t[`${n}End`],a=t[`${n}Start`];!a||!o||_s(e,{op:"browser",origin:"auto.browser.browser.metrics",description:s||n,startTimestamp:r+Me(a),endTimestamp:r+Me(o)})}function pE(e,t,n){t.responseEnd&&(_s(e,{op:"browser",origin:"auto.browser.browser.metrics",description:"request",startTimestamp:n+Me(t.requestStart),endTimestamp:n+Me(t.responseEnd)}),_s(e,{op:"browser",origin:"auto.browser.browser.metrics",description:"response",startTimestamp:n+Me(t.responseStart),endTimestamp:n+Me(t.responseEnd)}))}function hE(e,t,n,r,s,i){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;const o=pr(n),a={};lc(a,t,"transferSize","http.response_transfer_size"),lc(a,t,"encodedBodySize","http.response_content_length"),lc(a,t,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in t&&(a["resource.render_blocking_status"]=t.renderBlockingStatus),o.protocol&&(a["url.scheme"]=o.protocol.split(":").pop()),o.host&&(a["server.address"]=o.host),a["url.same_origin"]=n.includes(V.location.origin);const l=i+r,u=l+s;_s(e,{description:n.replace(V.location.origin,""),endTimestamp:u,op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",origin:"auto.resource.browser.metrics",startTimestamp:l,data:a})}function mE(e){const t=V.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setTag("effectiveConnectionType",n.effectiveType),n.type&&e.setTag("connectionType",n.type),ac(n.rtt)&&(ke["connection.rtt"]={value:n.rtt,unit:"millisecond"})),ac(t.deviceMemory)&&e.setTag("deviceMemory",`${t.deviceMemory} GB`),ac(t.hardwareConcurrency)&&e.setTag("hardwareConcurrency",String(t.hardwareConcurrency))}function gE(e){Ht&&(me&&T.log("[Measurements] Adding LCP Data"),Ht.element&&e.setTag("lcp.element",Yn(Ht.element)),Ht.id&&e.setTag("lcp.id",Ht.id),Ht.url&&e.setTag("lcp.url",Ht.url.trim().slice(0,200)),e.setTag("lcp.size",Ht.size)),li&&li.sources&&(me&&T.log("[Measurements] Adding CLS Data"),li.sources.forEach((t,n)=>e.setTag(`cls.source.${n+1}`,Yn(t.node))))}function lc(e,t,n,r){const s=t[n];s!=null&&s<eE&&(e[r]=s)}function yE(e){const t=al();if(!t)return;const{responseStart:n,requestStart:r}=t;r<=n&&(me&&T.log("[Measurements] Adding TTFB Request Time"),e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}function vE(e,t,n){if(!Ls(t))return!1;let r;return e!==void 0&&typeof t.tracesSampler=="function"?r=t.tracesSampler({transactionContext:e,name:e.name,parentSampled:e.parentSampled,attributes:{...e.data,...e.attributes},location:V.location}):e!==void 0&&e.sampled!==void 0?r=e.sampled:typeof t.tracesSampleRate<"u"?r=t.tracesSampleRate:r=1,Ry(r)?r===!0?n:r===!1?0:r*n:(me&&T.warn("[Tracing] Discarding interaction span because of invalid sample rate."),!1)}function xE(e,t,n,r,s="auto.http.browser"){if(!Ls()||!e.fetchData)return;const i=t(e.fetchData.url);if(e.endTimestamp&&i){const g=e.fetchData.__span;if(!g)return;const y=r[g];y&&(SE(y,e),delete r[g]);return}const o=ht(),a=se(),{method:l,url:u}=e.fetchData,f=wE(u),d=f?pr(f).host:void 0,p=i?Ey({name:`${l} ${u}`,onlyIfParent:!0,attributes:{url:u,type:"fetch","http.method":l,"http.url":f,"server.address":d,[Kr]:s},op:"http.client"}):void 0;if(p&&(e.fetchData.__span=p.spanContext().spanId,r[p.spanContext().spanId]=p),n(e.fetchData.url)&&a){const g=e.args[0];e.args[1]=e.args[1]||{};const y=e.args[1];y.headers=_E(g,a,o,y,p)}return p}function _E(e,t,n,r,s){const i=s||n.getSpan(),o=er(),{traceId:a,spanId:l,sampled:u,dsc:f}={...o.getPropagationContext(),...n.getPropagationContext()},d=i?nl(i):Gd(a,l,u),p=cy(f||(i?vs(i):il(a,t,n))),g=r.headers||(typeof Request<"u"&&pn(e,Request)?e.headers:void 0);if(g)if(typeof Headers<"u"&&pn(g,Headers)){const y=new Headers(g);return y.append("sentry-trace",d),p&&y.append(_u,p),y}else if(Array.isArray(g)){const y=[...g,["sentry-trace",d]];return p&&y.push([_u,p]),y}else{const y="baggage"in g?g.baggage:void 0,x=[];return Array.isArray(y)?x.push(...y):y&&x.push(y),p&&x.push(p),{...g,"sentry-trace":d,baggage:x.length>0?x.join(","):void 0}}else return{"sentry-trace":d,baggage:p}}function wE(e){try{return new URL(e).href}catch{return}}function SE(e,t){if(t.response){Qd(e,t.response.status);const n=t.response&&t.response.headers&&t.response.headers.get("content-length");if(n){const r=parseInt(n);r>0&&e.setAttribute("http.response_content_length",r)}}else t.error&&e.setStatus("internal_error");e.end()}const Tu=["localhost",/^\/(?!\/)/],Nu={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,tracingOrigins:Tu,tracePropagationTargets:Tu};function kE(e){const{traceFetch:t,traceXHR:n,tracePropagationTargets:r,tracingOrigins:s,shouldCreateSpanForRequest:i,enableHTTPTimings:o}={traceFetch:Nu.traceFetch,traceXHR:Nu.traceXHR,...e},a=typeof i=="function"?i:f=>!0,l=f=>TE(f,r||s),u={};t&&Hd(f=>{const d=xE(f,a,l,u);if(d){const p=Ky(f.fetchData.url),g=p?pr(p).host:void 0;d.setAttributes({"http.url":p,"server.address":g})}o&&d&&Lh(d)}),n&&Wd(f=>{const d=NE(f,a,l,u);o&&d&&Lh(d)})}function bE(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function Lh(e){const{url:t}=Te(e).data||{};if(!t||typeof t!="string")return;const n=xs("resource",({entries:r})=>{r.forEach(s=>{bE(s)&&s.name.endsWith(t)&&(CE(s).forEach(o=>e.setAttribute(...o)),setTimeout(n))})})}function EE(e){let t="unknown",n="unknown",r="";for(const s of e){if(s==="/"){[t,n]=e.split("/");break}if(!isNaN(Number(s))){t=r==="h"?"http":r,n=e.split(r)[1];break}r+=s}return r===e&&(t=r),{name:t,version:n}}function zt(e=0){return((dt||performance.timeOrigin)+e)/1e3}function CE(e){const{name:t,version:n}=EE(e.nextHopProtocol),r=[];return r.push(["network.protocol.version",n],["network.protocol.name",t]),dt?[...r,["http.request.redirect_start",zt(e.redirectStart)],["http.request.fetch_start",zt(e.fetchStart)],["http.request.domain_lookup_start",zt(e.domainLookupStart)],["http.request.domain_lookup_end",zt(e.domainLookupEnd)],["http.request.connect_start",zt(e.connectStart)],["http.request.secure_connection_start",zt(e.secureConnectionStart)],["http.request.connection_end",zt(e.connectEnd)],["http.request.request_start",zt(e.requestStart)],["http.request.response_start",zt(e.responseStart)],["http.request.response_end",zt(e.responseEnd)]]:r}function TE(e,t){return Rs(e,t||Tu)}function NE(e,t,n,r){const s=e.xhr,i=s&&s[Mn];if(!Ls()||!s||s.__sentry_own_request__||!i)return;const o=t(i.url);if(e.endTimestamp&&o){const g=s.__sentry_xhr_span_id__;if(!g)return;const y=r[g];y&&i.status_code!==void 0&&(Qd(y,i.status_code),y.end(),delete r[g]);return}const a=ht(),l=er(),u=Ky(i.url),f=u?pr(u).host:void 0,d=o?Ey({name:`${i.method} ${i.url}`,onlyIfParent:!0,attributes:{type:"xhr","http.method":i.method,"http.url":u,url:i.url,"server.address":f,[Kr]:"auto.http.browser"},op:"http.client"}):void 0;d&&(s.__sentry_xhr_span_id__=d.spanContext().spanId,r[s.__sentry_xhr_span_id__]=d);const p=se();if(s.setRequestHeader&&n(i.url)&&p){const{traceId:g,spanId:y,sampled:x,dsc:_}={...l.getPropagationContext(),...a.getPropagationContext()},h=d?nl(d):Gd(g,y,x),m=cy(_||(d?vs(d):il(g,p,a)));IE(s,h,m)}return d}function IE(e,t,n){try{e.setRequestHeader("sentry-trace",t),n&&e.setRequestHeader(_u,n)}catch{}}function Ky(e){try{return new URL(e,V.location.origin).href}catch{return}}const jE="BrowserTracing",RE={...Vo,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableInp:!1,interactionsSampleRate:1,_experiments:{},...Nu},ME=(e={})=>{const t=me?!!(e.tracePropagationTargets||e.tracingOrigins):!1;Ak(),!e.tracePropagationTargets&&e.tracingOrigins&&(e.tracePropagationTargets=e.tracingOrigins);const n={...RE,...e},r=tE(),s={};n.enableInp&&sE(s,n.interactionsSampleRate),n.enableLongTask&&nE(),n._experiments.enableInteractions&&rE();const i={name:void 0,context:void 0};function o(a){const l=ze(),{beforeStartSpan:u,idleTimeout:f,finalTimeout:d,heartbeatInterval:p}=n,g=a.op==="pageload";let y;if(g){const m=g?Ph("sentry-trace"):"",v=g?Ph("baggage"):void 0,{traceId:w,dsc:b,parentSpanId:C,sampled:k}=BS(m,v);y={traceId:w,parentSpanId:C,parentSampled:k,...a,metadata:{...a.metadata,dynamicSamplingContext:b},trimEnd:!0}}else y={trimEnd:!0,...a};const x=u?u(y):y;x.metadata=x.name!==y.name?{...x.metadata,source:"custom"}:x.metadata,i.name=x.name,i.context=x,x.sampled===!1&&me&&T.log(`[Tracing] Will not send ${x.op} transaction because of beforeNavigate.`),me&&T.log(`[Tracing] Starting ${x.op} transaction on scope`);const{location:_}=V,h=My(l,x,f,d,!0,{location:_},p,g);return g&&V.document&&(V.document.addEventListener("readystatechange",()=>{["interactive","complete"].includes(V.document.readyState)&&h.sendAutoFinishSignal()}),["interactive","complete"].includes(V.document.readyState)&&h.sendAutoFinishSignal()),h.registerBeforeFinishCallback(m=>{r(),uE(m)}),h}return{name:jE,setupOnce:()=>{},afterAllSetup(a){const l=a.getOptions(),{markBackgroundSpan:u,traceFetch:f,traceXHR:d,shouldCreateSpanForRequest:p,enableHTTPTimings:g,_experiments:y}=n,x=l&&l.tracePropagationTargets,_=x||n.tracePropagationTargets;me&&t&&x&&T.warn("[Tracing] The `tracePropagationTargets` option was set in the BrowserTracing integration and top level `Sentry.init`. The top level `Sentry.init` value is being used.");let h,m=V.location&&V.location.href;if(a.on&&(a.on("startNavigationSpan",v=>{h&&(me&&T.log(`[Tracing] Finishing current transaction with op: ${Te(h).op}`),h.end()),h=o({op:"navigation",...v})}),a.on("startPageLoadSpan",v=>{h&&(me&&T.log(`[Tracing] Finishing current transaction with op: ${Te(h).op}`),h.end()),h=o({op:"pageload",...v})})),n.instrumentPageLoad&&a.emit&&V.location){const v={name:V.location.pathname,startTimestamp:dt?dt/1e3:void 0,origin:"auto.pageload.browser",attributes:{[ln]:"url"}};LE(a,v)}n.instrumentNavigation&&a.emit&&V.location&&el(({to:v,from:w})=>{if(w===void 0&&m&&m.indexOf(v)!==-1){m=void 0;return}if(w!==v){m=void 0;const b={name:V.location.pathname,origin:"auto.navigation.browser",attributes:{[ln]:"url"}};PE(a,b)}}),u&&jb(),y.enableInteractions&&OE(n,i),n.enableInp&&DE(s,i),kE({traceFetch:f,traceXHR:d,tracePropagationTargets:_,shouldCreateSpanForRequest:p,enableHTTPTimings:g})},options:n}};function LE(e,t){if(!e.emit)return;e.emit("startPageLoadSpan",t);const n=Jd();return(n&&Te(n).op)==="pageload"?n:void 0}function PE(e,t){if(!e.emit)return;e.emit("startNavigationSpan",t);const n=Jd();return(n&&Te(n).op)==="navigation"?n:void 0}function Ph(e){const t=qw(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}function OE(e,t){let n;const r=()=>{const{idleTimeout:s,finalTimeout:i,heartbeatInterval:o}=e,a="ui.action.click",l=Tr();if(l&&l.op&&["navigation","pageload"].includes(l.op)){me&&T.warn(`[Tracing] Did not create ${a} transaction because a pageload or navigation transaction is in progress.`);return}if(n&&(n.setFinishReason("interactionInterrupted"),n.end(),n=void 0),!t.name){me&&T.warn(`[Tracing] Did not create ${a} transaction because _latestRouteName is missing.`);return}const{location:u}=V,f={name:t.name,op:a,trimEnd:!0,data:{[ln]:t.context?FE(t.context):"url"}};n=My(ze(),f,s,i,!0,{location:u},o)};["click"].forEach(s=>{V.document&&addEventListener(s,r,{once:!1,capture:!0})})}function AE(e){return"duration"in e}const Oh=10;function DE(e,t){const n=({entries:r})=>{const s=se(),i=s!==void 0&&s.getIntegrationByName!==void 0?s.getIntegrationByName("Replay"):void 0,o=i!==void 0?i.getReplayId():void 0,a=Tr(),l=ht(),u=l!==void 0?l.getUser():void 0;r.forEach(f=>{if(AE(f)){const d=f.interactionId;if(d===void 0)return;const p=e[d],g=f.duration,y=f.startTime,x=Object.keys(e),_=x.length>0?x.reduce((h,m)=>e[h].duration<e[m].duration?h:m):void 0;if(f.entryType==="first-input"&&x.map(m=>e[m]).some(m=>m.duration===g&&m.startTime===y)||!d)return;if(p)p.duration=Math.max(p.duration,g);else if(x.length<Oh||_===void 0||g>e[_].duration){const h=t.name,m=t.context;h&&m&&(_&&Object.keys(e).length>=Oh&&delete e[_],e[d]={routeName:h,duration:g,parentContext:m,user:u,activeTransaction:a,replayId:o,startTime:y})}}})};xs("event",n),xs("first-input",n)}function FE(e){const t=e.attributes&&e.attributes[ln],n=e.data&&e.data[ln],r=e.metadata&&e.metadata.source;return t||n||r}const J=Q;let Iu=0;function Xy(){return Iu>0}function $E(){Iu++,setTimeout(()=>{Iu--})}function ws(e,t={},n){if(typeof e!="function")return e;try{const s=e.__sentry_wrapped__;if(s)return typeof s=="function"?s:e;if(Bd(e))return e}catch{return e}const r=function(){const s=Array.prototype.slice.call(arguments);try{n&&typeof n=="function"&&n.apply(this,arguments);const i=s.map(o=>ws(o,t));return e.apply(this,i)}catch(i){throw $E(),vy(o=>{o.addEventProcessor(a=>(t.mechanism&&(pu(a,void 0,void 0),Ri(a,t.mechanism)),a.extra={...a.extra,arguments:s},a)),sl(i)}),i}};try{for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}catch{}X0(r,e),_r(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}const xt=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function Qy(e,t){const n=nf(e,t),r={type:t&&t.name,value:HE(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function UE(e,t,n,r){const s=se(),i=s&&s.getOptions().normalizeDepth,o={exception:{values:[{type:Ja(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:GE(t,{isUnhandledRejection:r})}]},extra:{__serialized__:oy(t,i)}};if(n){const a=nf(e,n);a.length&&(o.exception.values[0].stacktrace={frames:a})}return o}function cc(e,t){return{exception:{values:[Qy(e,t)]}}}function nf(e,t){const n=t.stacktrace||t.stack||"",r=BE(t);try{return e(n,r)}catch{}return[]}const zE=/Minified React error #\d+;/i;function BE(e){if(e){if(typeof e.framesToPop=="number")return e.framesToPop;if(zE.test(e.message))return 1}return 0}function HE(e){const t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}function WE(e,t,n,r){const s=n&&n.syntheticException||void 0,i=rf(e,t,s,r);return Ri(i),i.level="error",n&&n.event_id&&(i.event_id=n.event_id),ys(i)}function VE(e,t,n="info",r,s){const i=r&&r.syntheticException||void 0,o=ju(e,t,i,s);return o.level=n,r&&r.event_id&&(o.event_id=r.event_id),ys(o)}function rf(e,t,n,r,s){let i;if(Fd(t)&&t.error)return cc(e,t.error);if(qp(t)||Fw(t)){const o=t;if("stack"in t)i=cc(e,t);else{const a=o.name||(qp(o)?"DOMError":"DOMException"),l=o.message?`${a}: ${o.message}`:a;i=ju(e,l,n,r),pu(i,l)}return"code"in o&&(i.tags={...i.tags,"DOMException.code":`${o.code}`}),i}return Dd(t)?cc(e,t):gs(t)||Ja(t)?(i=UE(e,t,n,s),Ri(i,{synthetic:!0}),i):(i=ju(e,t,n,r),pu(i,`${t}`,void 0),Ri(i,{synthetic:!0}),i)}function ju(e,t,n,r){const s={};if(r&&n){const i=nf(e,n);i.length&&(s.exception={values:[{value:t,stacktrace:{frames:i}}]})}if($d(t)){const{__sentry_template_string__:i,__sentry_template_values__:o}=t;return s.logentry={message:i,params:o},s}return s.message=t,s}function GE(e,{isUnhandledRejection:t}){const n=nS(e),r=t?"promise rejection":"exception";return Fd(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:Ja(e)?`Event \`${YE(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function YE(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function qE(e,{metadata:t,tunnel:n,dsn:r}){const s={event_id:e.event_id,sent_at:new Date().toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:br(r)}},i=KE(e);return Zn(s,[i])}function KE(e){return[{type:"user_report"},e]}class XE extends Zk{constructor(t){const n=J.SENTRY_SDK_SOURCE||bS();Fy(t,"browser",["browser"],n),super(t),t.sendClientReports&&J.document&&J.document.addEventListener("visibilitychange",()=>{J.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,n){return WE(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return VE(this._options.stackParser,t,n,r,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled()){xt&&T.warn("SDK not enabled, will not capture user feedback.");return}const n=qE(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this._sendEnvelope(n)}_prepareEvent(t,n,r){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r)}_flushOutcomes(){const t=this._clearOutcomes();if(t.length===0){xt&&T.log("No outcomes to send");return}if(!this._dsn){xt&&T.log("No dsn provided, will not send outcomes");return}xt&&T.log("Sending outcomes:",t);const n=qS(t,this._options.tunnel&&br(this._dsn));this._sendEnvelope(n)}}let Qs;function QE(){if(Qs)return Qs;if(yu(J.fetch))return Qs=J.fetch.bind(J);const e=J.document;let t=J.fetch;if(e&&typeof e.createElement=="function")try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n);const r=n.contentWindow;r&&r.fetch&&(t=r.fetch),e.head.removeChild(n)}catch(n){xt&&T.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return Qs=t.bind(J)}function JE(){Qs=void 0}function ZE(e,t=QE()){let n=0,r=0;function s(i){const o=i.body.length;n+=o,r++;const a={body:i.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};try{return t(e.url,a).then(l=>(n-=o,r--,{statusCode:l.status,headers:{"x-sentry-rate-limits":l.headers.get("X-Sentry-Rate-Limits"),"retry-after":l.headers.get("Retry-After")}}))}catch(l){return JE(),n-=o,r--,Vd(l)}}return Dy(e,s)}const e2=4;function t2(e){function t(n){return new at((r,s)=>{const i=new XMLHttpRequest;i.onerror=s,i.onreadystatechange=()=>{i.readyState===e2&&r({statusCode:i.status,headers:{"x-sentry-rate-limits":i.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":i.getResponseHeader("Retry-After")}})},i.open("POST",e.url);for(const o in e.headers)Object.prototype.hasOwnProperty.call(e.headers,o)&&i.setRequestHeader(o,e.headers[o]);i.send(n.body)})}return Dy(e,t)}const ll="?",n2=30,r2=40,s2=50;function sf(e,t,n,r){const s={filename:e,function:t,in_app:!0};return n!==void 0&&(s.lineno=n),r!==void 0&&(s.colno=r),s}const i2=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,o2=/\((\S*)(?::(\d+))(?::(\d+))\)/,a2=e=>{const t=i2.exec(e);if(t){if(t[2]&&t[2].indexOf("eval")===0){const i=o2.exec(t[2]);i&&(t[2]=i[1],t[3]=i[2],t[4]=i[3])}const[r,s]=Jy(t[1]||ll,t[2]);return sf(s,r,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}},l2=[n2,a2],c2=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,u2=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,d2=e=>{const t=c2.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const i=u2.exec(t[3]);i&&(t[1]=t[1]||"eval",t[3]=i[1],t[4]=i[2],t[5]="")}let r=t[3],s=t[1]||ll;return[s,r]=Jy(s,r),sf(r,s,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},f2=[s2,d2],p2=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,h2=e=>{const t=p2.exec(e);return t?sf(t[2],t[1]||ll,+t[3],t[4]?+t[4]:void 0):void 0},m2=[r2,h2],g2=[l2,f2,m2],y2=Z0(...g2),Jy=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:ll,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},No=1024,v2="Breadcrumbs",x2=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:v2,setupOnce(){},setup(n){t.console&&oS(k2(n)),t.dom&&ny(S2(n,t.dom)),t.xhr&&Wd(b2(n)),t.fetch&&Hd(E2(n)),t.history&&el(C2(n)),t.sentry&&n.on&&n.on("beforeSendEvent",w2(n))}}},_2=x2;function w2(e){return function(n){se()===e&&qn({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:Nn(n)},{event:n})}}function S2(e,t){return function(r){if(se()!==e)return;let s,i,o=typeof t=="object"?t.serializeAttribute:void 0,a=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;a&&a>No&&(xt&&T.warn(`\`dom.maxStringLength\` cannot exceed ${No}, but a value of ${a} was configured. Sentry will use ${No} instead.`),a=No),typeof o=="string"&&(o=[o]);try{const u=r.event,f=T2(u)?u.target:u;s=Yn(f,{keyAttrs:o,maxStringLength:a}),i=Y0(f)}catch{s="<unknown>"}if(s.length===0)return;const l={category:`ui.${r.name}`,message:s};i&&(l.data={"ui.component_name":i}),qn(l,{event:r.event,name:r.name,global:r.global})}}function k2(e){return function(n){if(se()!==e)return;const r={category:"console",data:{arguments:n.args,logger:"console"},level:PS(n.level),message:Kp(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${Kp(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;qn(r,{input:n.args,level:n.level})}}function b2(e){return function(n){if(se()!==e)return;const{startTimestamp:r,endTimestamp:s}=n,i=n.xhr[Mn];if(!r||!s||!i)return;const{method:o,url:a,status_code:l,body:u}=i,f={method:o,url:a,status_code:l},d={xhr:n.xhr,input:u,startTimestamp:r,endTimestamp:s};qn({category:"xhr",data:f,type:"http"},d)}}function E2(e){return function(n){if(se()!==e)return;const{startTimestamp:r,endTimestamp:s}=n;if(s&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.error){const i=n.fetchData,o={data:n.error,input:n.args,startTimestamp:r,endTimestamp:s};qn({category:"fetch",data:i,level:"error",type:"http"},o)}else{const i=n.response,o={...n.fetchData,status_code:i&&i.status},a={input:n.args,response:i,startTimestamp:r,endTimestamp:s};qn({category:"fetch",data:o,type:"http"},a)}}}function C2(e){return function(n){if(se()!==e)return;let r=n.from,s=n.to;const i=pr(J.location.href);let o=r?pr(r):void 0;const a=pr(s);(!o||!o.path)&&(o=i),i.protocol===a.protocol&&i.host===a.host&&(s=a.relative),i.protocol===o.protocol&&i.host===o.host&&(r=o.relative),qn({category:"navigation",data:{from:r,to:s}})}}function T2(e){return!!e&&!!e.target}const N2="Dedupe",I2=()=>{let e;return{name:N2,setupOnce(){},processEvent(t){if(t.type)return t;try{if(R2(t,e))return xt&&T.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}},j2=I2;function R2(e,t){return t?!!(M2(e,t)||L2(e,t)):!1}function M2(e,t){const n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!ev(e,t)||!Zy(e,t))}function L2(e,t){const n=Ah(t),r=Ah(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!ev(e,t)||!Zy(e,t))}function Zy(e,t){let n=Dh(e),r=Dh(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let s=0;s<r.length;s++){const i=r[s],o=n[s];if(i.filename!==o.filename||i.lineno!==o.lineno||i.colno!==o.colno||i.function!==o.function)return!1}return!0}function ev(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function Ah(e){return e.exception&&e.exception.values&&e.exception.values[0]}function Dh(e){const t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch{return}}const P2="GlobalHandlers",O2=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:P2,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(D2(n),Fh("onerror")),t.onunhandledrejection&&(F2(n),Fh("onunhandledrejection"))}}},A2=O2;function D2(e){sy(t=>{const{stackParser:n,attachStacktrace:r}=nv();if(se()!==e||Xy())return;const{msg:s,url:i,line:o,column:a,error:l}=t,u=l===void 0&&Qt(s)?z2(s,i,o,a):tv(rf(n,l||s,void 0,r,!1),i,o,a);u.level="error",yy(u,{originalException:l,mechanism:{handled:!1,type:"onerror"}})})}function F2(e){iy(t=>{const{stackParser:n,attachStacktrace:r}=nv();if(se()!==e||Xy())return;const s=$2(t),i=Ud(s)?U2(s):rf(n,s,void 0,r,!0);i.level="error",yy(i,{originalException:s,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function $2(e){if(Ud(e))return e;const t=e;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch{}return e}function U2(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function z2(e,t,n,r){const s=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let i=Fd(e)?e.message:e,o="Error";const a=i.match(s);return a&&(o=a[1],i=a[2]),tv({exception:{values:[{type:o,value:i}]}},t,n,r)}function tv(e,t,n,r){const s=e.exception=e.exception||{},i=s.values=s.values||[],o=i[0]=i[0]||{},a=o.stacktrace=o.stacktrace||{},l=a.frames=a.frames||[],u=isNaN(parseInt(r,10))?void 0:r,f=isNaN(parseInt(n,10))?void 0:n,d=Qt(t)&&t.length>0?t:Yw();return l.length===0&&l.push({colno:u,filename:d,function:"?",in_app:!0,lineno:f}),e}function Fh(e){xt&&T.log(`Global Handler attached: ${e}`)}function nv(){const e=se();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const B2="HttpContext",H2=()=>({name:B2,setupOnce(){},preprocessEvent(e){if(!J.navigator&&!J.location&&!J.document)return;const t=e.request&&e.request.url||J.location&&J.location.href,{referrer:n}=J.document||{},{userAgent:r}=J.navigator||{},s={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},i={...e.request,...t&&{url:t},headers:s};e.request=i}}),W2=H2,V2="cause",G2=5,Y2="LinkedErrors",q2=(e={})=>{const t=e.limit||G2,n=e.key||V2;return{name:Y2,setupOnce(){},preprocessEvent(r,s,i){const o=i.getOptions();Hw(Qy,o.stackParser,o.maxValueLength,n,t,r,s)}}},K2=q2,X2=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],Q2="TryCatch",J2=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:Q2,setupOnce(){t.setTimeout&&Oe(J,"setTimeout",$h),t.setInterval&&Oe(J,"setInterval",$h),t.requestAnimationFrame&&Oe(J,"requestAnimationFrame",eC),t.XMLHttpRequest&&"XMLHttpRequest"in J&&Oe(XMLHttpRequest.prototype,"send",tC);const n=t.eventTarget;n&&(Array.isArray(n)?n:X2).forEach(nC)}}},Z2=J2;function $h(e){return function(...t){const n=t[0];return t[0]=ws(n,{mechanism:{data:{function:hn(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function eC(e){return function(t){return e.apply(this,[ws(t,{mechanism:{data:{function:"requestAnimationFrame",handler:hn(e)},handled:!1,type:"instrument"}})])}}function tC(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(s=>{s in n&&typeof n[s]=="function"&&Oe(n,s,function(i){const o={mechanism:{data:{function:s,handler:hn(i)},handled:!1,type:"instrument"}},a=Bd(i);return a&&(o.mechanism.data.handler=hn(a)),ws(i,o)})}),e.apply(this,t)}}function nC(e){const t=J,n=t[e]&&t[e].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(Oe(n,"addEventListener",function(r){return function(s,i,o){try{typeof i.handleEvent=="function"&&(i.handleEvent=ws(i.handleEvent,{mechanism:{data:{function:"handleEvent",handler:hn(i),target:e},handled:!1,type:"instrument"}}))}catch{}return r.apply(this,[s,ws(i,{mechanism:{data:{function:"addEventListener",handler:hn(i),target:e},handled:!1,type:"instrument"}}),o])}}),Oe(n,"removeEventListener",function(r){return function(s,i,o){const a=i;try{const l=a&&a.__sentry_wrapped__;l&&r.call(this,s,l,o)}catch{}return r.call(this,s,a,o)}}))}const rC=[yb(),Ib(),Z2(),_2(),A2(),K2(),j2(),W2()];function sC(e){return[...rC]}function iC(e={}){e.defaultIntegrations===void 0&&(e.defaultIntegrations=sC()),e.release===void 0&&(typeof __SENTRY_RELEASE__=="string"&&(e.release=__SENTRY_RELEASE__),J.SENTRY_RELEASE&&J.SENTRY_RELEASE.id&&(e.release=J.SENTRY_RELEASE.id)),e.autoSessionTracking===void 0&&(e.autoSessionTracking=!0),e.sendClientReports===void 0&&(e.sendClientReports=!0);const t={...e,stackParser:sS(e.stackParser||y2),integrations:Yk(e),transport:e.transport||(ry()?ZE:t2)};rb(XE,t),e.autoSessionTracking&&oC()}const Uh=(e={},t=ze())=>{if(!J.document){xt&&T.error("Global document not defined in showReportDialog call");return}const{client:n,scope:r}=t.getStackTop(),s=e.dsn||n&&n.getDsn();if(!s){xt&&T.error("DSN not configured for showReportDialog call");return}r&&(e.user={...r.getUser(),...e.user}),e.eventId||(e.eventId=t.lastEventId());const i=J.document.createElement("script");i.async=!0,i.crossOrigin="anonymous",i.src=Vk(s,e),e.onLoad&&(i.onload=e.onLoad);const{onClose:o}=e;if(o){const l=u=>{if(u.data==="__sentry_reportdialog_closed__")try{o()}finally{J.removeEventListener("message",l)}};J.addEventListener("message",l)}const a=J.document.head||J.document.body;a?a.appendChild(i):xt&&T.error("Not injecting report dialog. No injection point found in HTML")};function oC(){if(typeof J.document>"u"){xt&&T.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}hh({ignoreDuration:!0}),mh(),el(({from:e,to:t})=>{e!==void 0&&e!==t&&(hh({ignoreDuration:!0}),mh())})}const ce=Q,of="sentryReplaySession",aC="replay_event",af="Unable to send Replay",lC=3e5,cC=9e5,uC=5e3,dC=5500,fC=6e4,pC=5e3,hC=3,zh=15e4,Io=5e3,mC=3e3,gC=300,lf=2e7,yC=4999,vC=15e3,Bh=36e5;function xC(e,t){return e??t()}function ka(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],i=e[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(t=n,n=i(n)):(s==="call"||s==="optionalCall")&&(n=i((...o)=>n.call(t,...o)),t=void 0)}return n}var Re;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(Re||(Re={}));function _C(e){return e.nodeType===e.ELEMENT_NODE}function ci(e){const t=ka([e,"optionalAccess",n=>n.host]);return ka([t,"optionalAccess",n=>n.shadowRoot])===e}function ui(e){return Object.prototype.toString.call(e)==="[object ShadowRoot]"}function wC(e){return e.includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(" background-clip: text;"," -webkit-background-clip: text; background-clip: text;")),e}function SC(e){const{cssText:t}=e;if(t.split('"').length<3)return t;const n=["@import",`url(${JSON.stringify(e.href)})`];return e.layerName===""?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}function ba(e){try{const t=e.rules||e.cssRules;return t?wC(Array.from(t,rv).join("")):null}catch{return null}}function rv(e){let t;if(bC(e))try{t=ba(e.styleSheet)||SC(e)}catch{}else if(EC(e)&&e.selectorText.includes(":"))return kC(e.cssText);return t||e.cssText}function kC(e){const t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}function bC(e){return"styleSheet"in e}function EC(e){return"selectorText"in e}class sv{constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(t){if(!t)return-1;const n=ka([this,"access",r=>r.getMeta,"call",r=>r(t),"optionalAccess",r=>r.id]);return xC(n,()=>-1)}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){const n=this.getId(t);this.idNodeMap.delete(n),t.childNodes&&t.childNodes.forEach(r=>this.removeNodeFromMap(r))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,n){const r=n.id;this.idNodeMap.set(r,t),this.nodeMetaMap.set(t,n)}replace(t,n){const r=this.getNode(t);if(r){const s=this.nodeMetaMap.get(r);s&&this.nodeMetaMap.set(n,s)}this.idNodeMap.set(t,n)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function CC(){return new sv}function cl({maskInputOptions:e,tagName:t,type:n}){return t==="OPTION"&&(t="SELECT"),!!(e[t.toLowerCase()]||n&&e[n]||n==="password"||t==="INPUT"&&!n&&e.text)}function Mi({isMasked:e,element:t,value:n,maskInputFn:r}){let s=n||"";return e?(r&&(s=r(s,t)),"*".repeat(s.length)):s}function Ss(e){return e.toLowerCase()}function Ru(e){return e.toUpperCase()}const Hh="__rrweb_original__";function TC(e){const t=e.getContext("2d");if(!t)return!0;const n=50;for(let r=0;r<e.width;r+=n)for(let s=0;s<e.height;s+=n){const i=t.getImageData,o=Hh in i?i[Hh]:i;if(new Uint32Array(o.call(t,r,s,Math.min(n,e.width-r),Math.min(n,e.height-s)).data.buffer).some(l=>l!==0))return!1}return!0}function cf(e){const t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?Ss(t):null}function Ea(e,t,n){return t==="INPUT"&&(n==="radio"||n==="checkbox")?e.getAttribute("value")||"":e.value}let NC=1;const IC=new RegExp("[^a-z0-9-_:]"),Li=-2;function uf(){return NC++}function jC(e){if(e instanceof HTMLFormElement)return"form";const t=Ss(e.tagName);return IC.test(t)?"div":t}function RC(e){let t="";return e.indexOf("//")>-1?t=e.split("/").slice(0,3).join("/"):t=e.split("/")[0],t=t.split("?")[0],t}let Lr,Wh;const MC=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,LC=/^(?:[a-z+]+:)?\/\//i,PC=/^www\..*/i,OC=/^(data:)([^,]*),(.*)/i;function Ca(e,t){return(e||"").replace(MC,(n,r,s,i,o,a)=>{const l=s||o||a,u=r||i||"";if(!l)return n;if(LC.test(l)||PC.test(l))return`url(${u}${l}${u})`;if(OC.test(l))return`url(${u}${l}${u})`;if(l[0]==="/")return`url(${u}${RC(t)+l}${u})`;const f=t.split("/"),d=l.split("/");f.pop();for(const p of d)p!=="."&&(p===".."?f.pop():f.push(p));return`url(${u}${f.join("/")}${u})`})}const AC=/^[^ \t\n\r\u000c]+/,DC=/^[, \t\n\r\u000c]+/;function FC(e,t){if(t.trim()==="")return t;let n=0;function r(i){let o;const a=i.exec(t.substring(n));return a?(o=a[0],n+=o.length,o):""}const s=[];for(;r(DC),!(n>=t.length);){let i=r(AC);if(i.slice(-1)===",")i=Xr(e,i.substring(0,i.length-1)),s.push(i);else{let o="";i=Xr(e,i);let a=!1;for(;;){const l=t.charAt(n);if(l===""){s.push((i+o).trim());break}else if(a)l===")"&&(a=!1);else if(l===","){n+=1,s.push((i+o).trim());break}else l==="("&&(a=!0);o+=l,n+=1}}}return s.join(", ")}function Xr(e,t){if(!t||t.trim()==="")return t;const n=e.createElement("a");return n.href=t,n.href}function $C(e){return!!(e.tagName==="svg"||e.ownerSVGElement)}function df(){const e=document.createElement("a");return e.href="",e.href}function iv(e,t,n,r,s,i){return r&&(n==="src"||n==="href"&&!(t==="use"&&r[0]==="#")||n==="xlink:href"&&r[0]!=="#"||n==="background"&&(t==="table"||t==="td"||t==="th")?Xr(e,r):n==="srcset"?FC(e,r):n==="style"?Ca(r,df()):t==="object"&&n==="data"?Xr(e,r):typeof i=="function"?i(n,r,s):r)}function ov(e,t,n){return(e==="video"||e==="audio")&&t==="autoplay"}function UC(e,t,n,r){try{if(r&&e.matches(r))return!1;if(typeof t=="string"){if(e.classList.contains(t))return!0}else for(let s=e.classList.length;s--;){const i=e.classList[s];if(t.test(i))return!0}if(n)return e.matches(n)}catch{}return!1}function zC(e,t){for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}return!1}function cr(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:cr(e.parentNode,t,n,r+1)}function Qr(e,t){return n=>{const r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(zC(r,e))return!0}return!!(t&&r.matches(t))}catch{return!1}}}function ks(e,t,n,r,s,i){try{const o=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(o===null)return!1;if(o.tagName==="INPUT"){const u=o.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(u))return!0}let a=-1,l=-1;if(i){if(l=cr(o,Qr(r,s)),l<0)return!0;a=cr(o,Qr(t,n),l>=0?l:1/0)}else{if(a=cr(o,Qr(t,n)),a<0)return!1;l=cr(o,Qr(r,s),a>=0?a:1/0)}return a>=0?l>=0?a<=l:!0:l>=0?!1:!!i}catch{}return!!i}function BC(e,t,n){const r=e.contentWindow;if(!r)return;let s=!1,i;try{i=r.document.readyState}catch{return}if(i!=="complete"){const a=setTimeout(()=>{s||(t(),s=!0)},n);e.addEventListener("load",()=>{clearTimeout(a),s=!0,t()});return}const o="about:blank";if(r.location.href!==o||e.src===o||e.src==="")return setTimeout(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}function HC(e,t,n){let r=!1,s;try{s=e.sheet}catch{return}if(s)return;const i=setTimeout(()=>{r||(t(),r=!0)},n);e.addEventListener("load",()=>{clearTimeout(i),r=!0,t()})}function WC(e,t){const{doc:n,mirror:r,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:a,maskAttributeFn:l,maskTextClass:u,unmaskTextClass:f,maskTextSelector:d,unmaskTextSelector:p,inlineStylesheet:g,maskInputOptions:y={},maskTextFn:x,maskInputFn:_,dataURLOptions:h={},inlineImages:m,recordCanvas:v,keepIframeSrcFn:w,newlyAddedElement:b=!1}=t,C=VC(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:return e.compatMode!=="CSS1Compat"?{type:Re.Document,childNodes:[],compatMode:e.compatMode}:{type:Re.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:Re.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:C};case e.ELEMENT_NODE:return YC(e,{doc:n,blockClass:s,blockSelector:i,unblockSelector:o,inlineStylesheet:g,maskAttributeFn:l,maskInputOptions:y,maskInputFn:_,dataURLOptions:h,inlineImages:m,recordCanvas:v,keepIframeSrcFn:w,newlyAddedElement:b,rootId:C,maskAllText:a,maskTextClass:u,unmaskTextClass:f,maskTextSelector:d,unmaskTextSelector:p});case e.TEXT_NODE:return GC(e,{maskAllText:a,maskTextClass:u,unmaskTextClass:f,maskTextSelector:d,unmaskTextSelector:p,maskTextFn:x,maskInputOptions:y,maskInputFn:_,rootId:C});case e.CDATA_SECTION_NODE:return{type:Re.CDATA,textContent:"",rootId:C};case e.COMMENT_NODE:return{type:Re.Comment,textContent:e.textContent||"",rootId:C};default:return!1}}function VC(e,t){if(!t.hasNode(e))return;const n=t.getId(e);return n===1?void 0:n}function GC(e,t){const{maskAllText:n,maskTextClass:r,unmaskTextClass:s,maskTextSelector:i,unmaskTextSelector:o,maskTextFn:a,maskInputOptions:l,maskInputFn:u,rootId:f}=t,d=e.parentNode&&e.parentNode.tagName;let p=e.textContent;const g=d==="STYLE"?!0:void 0,y=d==="SCRIPT"?!0:void 0,x=d==="TEXTAREA"?!0:void 0;if(g&&p){try{e.nextSibling||e.previousSibling||ka([e,"access",h=>h.parentNode,"access",h=>h.sheet,"optionalAccess",h=>h.cssRules])&&(p=ba(e.parentNode.sheet))}catch(h){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${h}`,e)}p=Ca(p,df())}y&&(p="SCRIPT_PLACEHOLDER");const _=ks(e,r,i,s,o,n);if(!g&&!y&&!x&&p&&_&&(p=a?a(p,e.parentElement):p.replace(/[\S]/g,"*")),x&&p&&(l.textarea||_)&&(p=u?u(p,e.parentNode):p.replace(/[\S]/g,"*")),d==="OPTION"&&p){const h=cl({type:null,tagName:d,maskInputOptions:l});p=Mi({isMasked:ks(e,r,i,s,o,h),element:e,value:p,maskInputFn:u})}return{type:Re.Text,textContent:p||"",isStyle:g,rootId:f}}function YC(e,t){const{doc:n,blockClass:r,blockSelector:s,unblockSelector:i,inlineStylesheet:o,maskInputOptions:a={},maskAttributeFn:l,maskInputFn:u,dataURLOptions:f={},inlineImages:d,recordCanvas:p,keepIframeSrcFn:g,newlyAddedElement:y=!1,rootId:x,maskAllText:_,maskTextClass:h,unmaskTextClass:m,maskTextSelector:v,unmaskTextSelector:w}=t,b=UC(e,r,s,i),C=jC(e);let k={};const j=e.attributes.length;for(let I=0;I<j;I++){const A=e.attributes[I];A.name&&!ov(C,A.name,A.value)&&(k[A.name]=iv(n,C,Ss(A.name),A.value,e,l))}if(C==="link"&&o){const I=Array.from(n.styleSheets).find(G=>G.href===e.href);let A=null;I&&(A=ba(I)),A&&(delete k.rel,delete k.href,k._cssText=Ca(A,I.href))}if(C==="style"&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){const I=ba(e.sheet);I&&(k._cssText=Ca(I,df()))}if(C==="input"||C==="textarea"||C==="select"||C==="option"){const I=e,A=cf(I),G=Ea(I,Ru(C),A),U=I.checked;if(A!=="submit"&&A!=="button"&&G){const z=ks(I,h,v,m,w,cl({type:A,tagName:Ru(C),maskInputOptions:a}));k.value=Mi({isMasked:z,element:I,value:G,maskInputFn:u})}U&&(k.checked=U)}if(C==="option"&&(e.selected&&!a.select?k.selected=!0:delete k.selected),C==="canvas"&&p){if(e.__context==="2d")TC(e)||(k.rr_dataURL=e.toDataURL(f.type,f.quality));else if(!("__context"in e)){const I=e.toDataURL(f.type,f.quality),A=document.createElement("canvas");A.width=e.width,A.height=e.height;const G=A.toDataURL(f.type,f.quality);I!==G&&(k.rr_dataURL=I)}}if(C==="img"&&d){Lr||(Lr=n.createElement("canvas"),Wh=Lr.getContext("2d"));const I=e,A=I.crossOrigin;I.crossOrigin="anonymous";const G=()=>{I.removeEventListener("load",G);try{Lr.width=I.naturalWidth,Lr.height=I.naturalHeight,Wh.drawImage(I,0,0),k.rr_dataURL=Lr.toDataURL(f.type,f.quality)}catch(U){console.warn(`Cannot inline img src=${I.currentSrc}! Error: ${U}`)}A?k.crossOrigin=A:I.removeAttribute("crossorigin")};I.complete&&I.naturalWidth!==0?G():I.addEventListener("load",G)}if((C==="audio"||C==="video")&&(k.rr_mediaState=e.paused?"paused":"played",k.rr_mediaCurrentTime=e.currentTime),y||(e.scrollLeft&&(k.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(k.rr_scrollTop=e.scrollTop)),b){const{width:I,height:A}=e.getBoundingClientRect();k={class:k.class,rr_width:`${I}px`,rr_height:`${A}px`}}C==="iframe"&&!g(k.src)&&(e.contentDocument||(k.rr_src=k.src),delete k.src);let O;try{customElements.get(C)&&(O=!0)}catch{}return{type:Re.Element,tagName:C,attributes:k,childNodes:[],isSVG:$C(e)||void 0,needBlock:b,rootId:x,isCustom:O}}function le(e){return e==null?"":e.toLowerCase()}function qC(e,t){if(t.comment&&e.type===Re.Comment)return!0;if(e.type===Re.Element){if(t.script&&(e.tagName==="script"||e.tagName==="link"&&(e.attributes.rel==="preload"||e.attributes.rel==="modulepreload")&&e.attributes.as==="script"||e.tagName==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href=="string"&&e.attributes.href.endsWith(".js")))return!0;if(t.headFavicon&&(e.tagName==="link"&&e.attributes.rel==="shortcut icon"||e.tagName==="meta"&&(le(e.attributes.name).match(/^msapplication-tile(image|color)$/)||le(e.attributes.name)==="application-name"||le(e.attributes.rel)==="icon"||le(e.attributes.rel)==="apple-touch-icon"||le(e.attributes.rel)==="shortcut icon")))return!0;if(e.tagName==="meta"){if(t.headMetaDescKeywords&&le(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(le(e.attributes.property).match(/^(og|twitter|fb):/)||le(e.attributes.name).match(/^(og|twitter):/)||le(e.attributes.name)==="pinterest"))return!0;if(t.headMetaRobots&&(le(e.attributes.name)==="robots"||le(e.attributes.name)==="googlebot"||le(e.attributes.name)==="bingbot"))return!0;if(t.headMetaHttpEquiv&&e.attributes["http-equiv"]!==void 0)return!0;if(t.headMetaAuthorship&&(le(e.attributes.name)==="author"||le(e.attributes.name)==="generator"||le(e.attributes.name)==="framework"||le(e.attributes.name)==="publisher"||le(e.attributes.name)==="progid"||le(e.attributes.property).match(/^article:/)||le(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&(le(e.attributes.name)==="google-site-verification"||le(e.attributes.name)==="yandex-verification"||le(e.attributes.name)==="csrf-token"||le(e.attributes.name)==="p:domain_verify"||le(e.attributes.name)==="verify-v1"||le(e.attributes.name)==="verification"||le(e.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function Jr(e,t){const{doc:n,mirror:r,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:a,maskTextClass:l,unmaskTextClass:u,maskTextSelector:f,unmaskTextSelector:d,skipChild:p=!1,inlineStylesheet:g=!0,maskInputOptions:y={},maskAttributeFn:x,maskTextFn:_,maskInputFn:h,slimDOMOptions:m,dataURLOptions:v={},inlineImages:w=!1,recordCanvas:b=!1,onSerialize:C,onIframeLoad:k,iframeLoadTimeout:j=5e3,onStylesheetLoad:O,stylesheetLoadTimeout:I=5e3,keepIframeSrcFn:A=()=>!1,newlyAddedElement:G=!1}=t;let{preserveWhiteSpace:U=!0}=t;const z=WC(e,{doc:n,mirror:r,blockClass:s,blockSelector:i,maskAllText:a,unblockSelector:o,maskTextClass:l,unmaskTextClass:u,maskTextSelector:f,unmaskTextSelector:d,inlineStylesheet:g,maskInputOptions:y,maskAttributeFn:x,maskTextFn:_,maskInputFn:h,dataURLOptions:v,inlineImages:w,recordCanvas:b,keepIframeSrcFn:A,newlyAddedElement:G});if(!z)return console.warn(e,"not serialized"),null;let M;r.hasNode(e)?M=r.getId(e):qC(z,m)||!U&&z.type===Re.Text&&!z.isStyle&&!z.textContent.replace(/^\s+|\s+$/gm,"").length?M=Li:M=uf();const P=Object.assign(z,{id:M});if(r.add(e,P),M===Li)return null;C&&C(e);let B=!p;if(P.type===Re.Element){B=B&&!P.needBlock,delete P.needBlock;const S=e.shadowRoot;S&&ui(S)&&(P.isShadowHost=!0)}if((P.type===Re.Document||P.type===Re.Element)&&B){m.headWhitespace&&P.type===Re.Element&&P.tagName==="head"&&(U=!1);const S={doc:n,mirror:r,blockClass:s,blockSelector:i,maskAllText:a,unblockSelector:o,maskTextClass:l,unmaskTextClass:u,maskTextSelector:f,unmaskTextSelector:d,skipChild:p,inlineStylesheet:g,maskInputOptions:y,maskAttributeFn:x,maskTextFn:_,maskInputFn:h,slimDOMOptions:m,dataURLOptions:v,inlineImages:w,recordCanvas:b,preserveWhiteSpace:U,onSerialize:C,onIframeLoad:k,iframeLoadTimeout:j,onStylesheetLoad:O,stylesheetLoadTimeout:I,keepIframeSrcFn:A};for(const E of Array.from(e.childNodes)){const R=Jr(E,S);R&&P.childNodes.push(R)}if(_C(e)&&e.shadowRoot)for(const E of Array.from(e.shadowRoot.childNodes)){const R=Jr(E,S);R&&(ui(e.shadowRoot)&&(R.isShadow=!0),P.childNodes.push(R))}}return e.parentNode&&ci(e.parentNode)&&ui(e.parentNode)&&(P.isShadow=!0),P.type===Re.Element&&P.tagName==="iframe"&&BC(e,()=>{const S=e.contentDocument;if(S&&k){const E=Jr(S,{doc:S,mirror:r,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:a,maskTextClass:l,unmaskTextClass:u,maskTextSelector:f,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:g,maskInputOptions:y,maskAttributeFn:x,maskTextFn:_,maskInputFn:h,slimDOMOptions:m,dataURLOptions:v,inlineImages:w,recordCanvas:b,preserveWhiteSpace:U,onSerialize:C,onIframeLoad:k,iframeLoadTimeout:j,onStylesheetLoad:O,stylesheetLoadTimeout:I,keepIframeSrcFn:A});E&&k(e,E)}},j),P.type===Re.Element&&P.tagName==="link"&&P.attributes.rel==="stylesheet"&&HC(e,()=>{if(O){const S=Jr(e,{doc:n,mirror:r,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:a,maskTextClass:l,unmaskTextClass:u,maskTextSelector:f,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:g,maskInputOptions:y,maskAttributeFn:x,maskTextFn:_,maskInputFn:h,slimDOMOptions:m,dataURLOptions:v,inlineImages:w,recordCanvas:b,preserveWhiteSpace:U,onSerialize:C,onIframeLoad:k,iframeLoadTimeout:j,onStylesheetLoad:O,stylesheetLoadTimeout:I,keepIframeSrcFn:A});S&&O(e,S)}},I),P}function KC(e,t){const{mirror:n=new sv,blockClass:r="rr-block",blockSelector:s=null,unblockSelector:i=null,maskAllText:o=!1,maskTextClass:a="rr-mask",unmaskTextClass:l=null,maskTextSelector:u=null,unmaskTextSelector:f=null,inlineStylesheet:d=!0,inlineImages:p=!1,recordCanvas:g=!1,maskAllInputs:y=!1,maskAttributeFn:x,maskTextFn:_,maskInputFn:h,slimDOM:m=!1,dataURLOptions:v,preserveWhiteSpace:w,onSerialize:b,onIframeLoad:C,iframeLoadTimeout:k,onStylesheetLoad:j,stylesheetLoadTimeout:O,keepIframeSrcFn:I=()=>!1}=t||{};return Jr(e,{doc:e,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,maskAllText:o,maskTextClass:a,unmaskTextClass:l,maskTextSelector:u,unmaskTextSelector:f,skipChild:!1,inlineStylesheet:d,maskInputOptions:y===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:y===!1?{}:y,maskAttributeFn:x,maskTextFn:_,maskInputFn:h,slimDOMOptions:m===!0||m==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:m==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:m===!1?{}:m,dataURLOptions:v,inlineImages:p,recordCanvas:g,preserveWhiteSpace:w,onSerialize:b,onIframeLoad:C,iframeLoadTimeout:k,onStylesheetLoad:j,stylesheetLoadTimeout:O,keepIframeSrcFn:I,newlyAddedElement:!1})}function Sn(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],i=e[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(t=n,n=i(n)):(s==="call"||s==="optionalCall")&&(n=i((...o)=>n.call(t,...o)),t=void 0)}return n}function Xe(e,t,n=document){const r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}const Or=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let Vh={map:{},getId(){return console.error(Or),-1},getNode(){return console.error(Or),null},removeNodeFromMap(){console.error(Or)},has(){return console.error(Or),!1},reset(){console.error(Or)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(Vh=new Proxy(Vh,{get(e,t,n){return t==="map"&&console.error(Or),Reflect.get(e,t,n)}}));function Pi(e,t,n={}){let r=null,s=0;return function(...i){const o=Date.now();!s&&n.leading===!1&&(s=o);const a=t-(o-s),l=this;a<=0||a>t?(r&&(nT(r),r=null),s=o,e.apply(l,i)):!r&&n.trailing!==!1&&(r=ul(()=>{s=n.leading===!1?0:Date.now(),r=null,e.apply(l,i)},a))}}function av(e,t,n,r,s=window){const i=s.Object.getOwnPropertyDescriptor(e,t);return s.Object.defineProperty(e,t,r?n:{set(o){ul(()=>{n.set.call(this,o)},0),i&&i.set&&i.set.call(this,o)}}),()=>av(e,t,i||{},!0)}function ff(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],s=n(r);return typeof s=="function"&&(s.prototype=s.prototype||{},Object.defineProperties(s,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=s,()=>{e[t]=r}}catch{return()=>{}}}let Ta=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(Ta=()=>new Date().getTime());function lv(e){const t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:e.pageXOffset!==void 0?e.pageXOffset:Sn([t,"optionalAccess",n=>n.documentElement,"access",n=>n.scrollLeft])||Sn([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.parentElement,"optionalAccess",n=>n.scrollLeft])||Sn([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.scrollLeft])||0,top:t.scrollingElement?t.scrollingElement.scrollTop:e.pageYOffset!==void 0?e.pageYOffset:Sn([t,"optionalAccess",n=>n.documentElement,"access",n=>n.scrollTop])||Sn([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.parentElement,"optionalAccess",n=>n.scrollTop])||Sn([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.scrollTop])||0}}function cv(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function uv(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function dv(e){return e?e.nodeType===e.ELEMENT_NODE?e:e.parentElement:null}function Pt(e,t,n,r,s){if(!e)return!1;const i=dv(e);if(!i)return!1;const o=Qr(t,n);if(!s){const u=r&&i.matches(r);return o(i)&&!u}const a=cr(i,o);let l=-1;return a<0?!1:(r&&(l=cr(i,Qr(null,r))),a>-1&&l<0?!0:a<l)}function XC(e,t){return t.getId(e)!==-1}function uc(e,t){return t.getId(e)===Li}function fv(e,t){if(ci(e))return!1;const n=t.getId(e);return t.has(n)?e.parentNode&&e.parentNode.nodeType===e.DOCUMENT_NODE?!1:e.parentNode?fv(e.parentNode,t):!0:!0}function Mu(e){return!!e.changedTouches}function QC(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...t)=>{let n=t[0];if(!(0 in t))throw new TypeError("1 argument is required");do if(this===n)return!0;while(n=n&&n.parentNode);return!1})}function pv(e,t){return!!(e.nodeName==="IFRAME"&&t.getMeta(e))}function hv(e,t){return!!(e.nodeName==="LINK"&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&e.getAttribute("rel")==="stylesheet"&&t.getMeta(e))}function Lu(e){return!!Sn([e,"optionalAccess",t=>t.shadowRoot])}class JC{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(t){return JS(this.styleIDMap.get(t),()=>-1)}has(t){return this.styleIDMap.has(t)}add(t,n){if(this.has(t))return this.getId(t);let r;return n===void 0?r=this.id++:r=n,this.styleIDMap.set(t,r),this.idStyleMap.set(r,t),r}getStyle(t){return this.idStyleMap.get(t)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function mv(e){let t=null;return Sn([e,"access",n=>n.getRootNode,"optionalCall",n=>n(),"optionalAccess",n=>n.nodeType])===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function ZC(e){let t=e,n;for(;n=mv(t);)t=n;return t}function eT(e){const t=e.ownerDocument;if(!t)return!1;const n=ZC(e);return t.contains(n)}function gv(e){const t=e.ownerDocument;return t?t.contains(e)||eT(e):!1}const Gh={};function pf(e){const t=Gh[e];if(t)return t;const n=window.document;let r=window[e];if(n&&typeof n.createElement=="function")try{const s=n.createElement("iframe");s.hidden=!0,n.head.appendChild(s);const i=s.contentWindow;i&&i[e]&&(r=i[e]),n.head.removeChild(s)}catch{}return Gh[e]=r.bind(window)}function tT(...e){return pf("requestAnimationFrame")(...e)}function ul(...e){return pf("setTimeout")(...e)}function nT(...e){return pf("clearTimeout")(...e)}var Y=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(Y||{}),q=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(q||{}),Ye=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(Ye||{}),Jt=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(Jt||{});function rT(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],i=e[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(t=n,n=i(n)):(s==="call"||s==="optionalCall")&&(n=i((...o)=>n.call(t,...o)),t=void 0)}return n}function Yh(e){return"__ln"in e}class sT{constructor(){this.length=0,this.head=null,this.tail=null}get(t){if(t>=this.length)throw new Error("Position outside of list range");let n=this.head;for(let r=0;r<t;r++)n=rT([n,"optionalAccess",s=>s.next])||null;return n}addNode(t){const n={value:t,previous:null,next:null};if(t.__ln=n,t.previousSibling&&Yh(t.previousSibling)){const r=t.previousSibling.__ln.next;n.next=r,n.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=n,r&&(r.previous=n)}else if(t.nextSibling&&Yh(t.nextSibling)&&t.nextSibling.__ln.previous){const r=t.nextSibling.__ln.previous;n.previous=r,n.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=n,r&&(r.next=n)}else this.head&&(this.head.previous=n),n.next=this.head,this.head=n;n.next===null&&(this.tail=n),this.length++}removeNode(t){const n=t.__ln;this.head&&(n.previous?(n.previous.next=n.next,n.next?n.next.previous=n.previous:this.tail=n.previous):(this.head=n.next,this.head?this.head.previous=null:this.tail=null),t.__ln&&delete t.__ln,this.length--)}}const qh=(e,t)=>`${e}@${t}`;class iT{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=t=>{t.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const t=[],n=new Set,r=new sT,s=l=>{let u=l,f=Li;for(;f===Li;)u=u&&u.nextSibling,f=u&&this.mirror.getId(u);return f},i=l=>{if(!l.parentNode||!gv(l))return;const u=ci(l.parentNode)?this.mirror.getId(mv(l)):this.mirror.getId(l.parentNode),f=s(l);if(u===-1||f===-1)return r.addNode(l);const d=Jr(l,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:p=>{pv(p,this.mirror)&&this.iframeManager.addIframe(p),hv(p,this.mirror)&&this.stylesheetManager.trackLinkElement(p),Lu(l)&&this.shadowDomManager.addShadowRoot(l.shadowRoot,this.doc)},onIframeLoad:(p,g)=>{this.iframeManager.attachIframe(p,g),this.shadowDomManager.observeAttachShadow(p)},onStylesheetLoad:(p,g)=>{this.stylesheetManager.attachLinkElement(p,g)}});d&&(t.push({parentId:u,nextId:f,node:d}),n.add(d.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const l of this.movedSet)Kh(this.removes,l,this.mirror)&&!this.movedSet.has(l.parentNode)||i(l);for(const l of this.addedSet)!Xh(this.droppedSet,l)&&!Kh(this.removes,l,this.mirror)||Xh(this.movedSet,l)?i(l):this.droppedSet.add(l);let o=null;for(;r.length;){let l=null;if(o){const u=this.mirror.getId(o.value.parentNode),f=s(o.value);u!==-1&&f!==-1&&(l=o)}if(!l){let u=r.tail;for(;u;){const f=u;if(u=u.previous,f){const d=this.mirror.getId(f.value.parentNode);if(s(f.value)===-1)continue;if(d!==-1){l=f;break}else{const g=f.value;if(g.parentNode&&g.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const y=g.parentNode.host;if(this.mirror.getId(y)!==-1){l=f;break}}}}}}if(!l){for(;r.head;)r.removeNode(r.head.value);break}o=l.previous,r.removeNode(l.value),i(l.value)}const a={texts:this.texts.map(l=>({id:this.mirror.getId(l.node),value:l.value})).filter(l=>!n.has(l.id)).filter(l=>this.mirror.has(l.id)),attributes:this.attributes.map(l=>{const{attributes:u}=l;if(typeof u.style=="string"){const f=JSON.stringify(l.styleDiff),d=JSON.stringify(l._unchangedStyles);f.length<u.style.length&&(f+d).split("var(").length===u.style.split("var(").length&&(u.style=l.styleDiff)}return{id:this.mirror.getId(l.node),attributes:u}}).filter(l=>!n.has(l.id)).filter(l=>this.mirror.has(l.id)),removes:this.removes,adds:t};!a.texts.length&&!a.attributes.length&&!a.removes.length&&!a.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(a))},this.processMutation=t=>{if(!uc(t.target,this.mirror))switch(t.type){case"characterData":{const n=t.target.textContent;!Pt(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&n!==t.oldValue&&this.texts.push({value:ks(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&n?this.maskTextFn?this.maskTextFn(n,dv(t.target)):n.replace(/[\S]/g,"*"):n,node:t.target});break}case"attributes":{const n=t.target;let r=t.attributeName,s=t.target.getAttribute(r);if(r==="value"){const o=cf(n),a=n.tagName;s=Ea(n,a,o);const l=cl({maskInputOptions:this.maskInputOptions,tagName:a,type:o}),u=ks(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,l);s=Mi({isMasked:u,element:n,value:s,maskInputFn:this.maskInputFn})}if(Pt(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||s===t.oldValue)return;let i=this.attributeMap.get(t.target);if(n.tagName==="IFRAME"&&r==="src"&&!this.keepIframeSrcFn(s))if(!n.contentDocument)r="rr_src";else return;if(i||(i={node:t.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(i),this.attributeMap.set(t.target,i)),r==="type"&&n.tagName==="INPUT"&&(t.oldValue||"").toLowerCase()==="password"&&n.setAttribute("data-rr-is-password","true"),!ov(n.tagName,r)&&(i.attributes[r]=iv(this.doc,Ss(n.tagName),Ss(r),s,n,this.maskAttributeFn),r==="style")){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}const o=this.unattachedDoc.createElement("span");t.oldValue&&o.setAttribute("style",t.oldValue);for(const a of Array.from(n.style)){const l=n.style.getPropertyValue(a),u=n.style.getPropertyPriority(a);l!==o.style.getPropertyValue(a)||u!==o.style.getPropertyPriority(a)?u===""?i.styleDiff[a]=l:i.styleDiff[a]=[l,u]:i._unchangedStyles[a]=[l,u]}for(const a of Array.from(o.style))n.style.getPropertyValue(a)===""&&(i.styleDiff[a]=!1)}break}case"childList":{if(Pt(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;t.addedNodes.forEach(n=>this.genAdds(n,t.target)),t.removedNodes.forEach(n=>{const r=this.mirror.getId(n),s=ci(t.target)?this.mirror.getId(t.target.host):this.mirror.getId(t.target);Pt(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||uc(n,this.mirror)||!XC(n,this.mirror)||(this.addedSet.has(n)?(Pu(this.addedSet,n),this.droppedSet.add(n)):this.addedSet.has(t.target)&&r===-1||fv(t.target,this.mirror)||(this.movedSet.has(n)&&this.movedMap[qh(r,s)]?Pu(this.movedSet,n):this.removes.push({parentId:s,id:r,isShadow:ci(t.target)&&ui(t.target)?!0:void 0})),this.mapRemoves.push(n))});break}}},this.genAdds=(t,n)=>{if(!this.processedNodeManager.inOtherBuffer(t,this)&&!(this.addedSet.has(t)||this.movedSet.has(t))){if(this.mirror.hasNode(t)){if(uc(t,this.mirror))return;this.movedSet.add(t);let r=null;n&&this.mirror.hasNode(n)&&(r=this.mirror.getId(n)),r&&r!==-1&&(this.movedMap[qh(this.mirror.getId(t),r)]=!0)}else this.addedSet.add(t),this.droppedSet.delete(t);Pt(t,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(t.childNodes.forEach(r=>this.genAdds(r)),Lu(t)&&t.shadowRoot.childNodes.forEach(r=>{this.processedNodeManager.add(r,this),this.genAdds(r,t)}))}}}init(t){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(n=>{this[n]=t[n]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function Pu(e,t){e.delete(t),t.childNodes.forEach(n=>Pu(e,n))}function Kh(e,t,n){return e.length===0?!1:yv(e,t,n)}function yv(e,t,n){const{parentNode:r}=t;if(!r)return!1;const s=n.getId(r);return e.some(i=>i.id===s)?!0:yv(e,r,n)}function Xh(e,t){return e.size===0?!1:vv(e,t)}function vv(e,t){const{parentNode:n}=t;return n?e.has(n)?!0:vv(e,n):!1}let di;function oT(e){di=e}function aT(){di=void 0}const X=e=>di?(...n)=>{try{return e(...n)}catch(r){if(di&&di(r)===!0)return()=>{};throw r}}:e;function Vt(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],i=e[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(t=n,n=i(n)):(s==="call"||s==="optionalCall")&&(n=i((...o)=>n.call(t,...o)),t=void 0)}return n}const Zr=[];function Xi(e){try{if("composedPath"in e){const t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch{}return e&&e.target}function xv(e,t){const n=new iT;Zr.push(n),n.init(e);let r=window.MutationObserver||window.__rrMutationObserver;const s=Vt([window,"optionalAccess",o=>o.Zone,"optionalAccess",o=>o.__symbol__,"optionalCall",o=>o("MutationObserver")]);s&&window[s]&&(r=window[s]);const i=new r(X(o=>{e.onMutation&&e.onMutation(o)===!1||n.processMutations.bind(n)(o)}));return i.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),i}function lT({mousemoveCb:e,sampling:t,doc:n,mirror:r}){if(t.mousemove===!1)return()=>{};const s=typeof t.mousemove=="number"?t.mousemove:50,i=typeof t.mousemoveCallback=="number"?t.mousemoveCallback:500;let o=[],a;const l=Pi(X(d=>{const p=Date.now()-a;e(o.map(g=>(g.timeOffset-=p,g)),d),o=[],a=null}),i),u=X(Pi(X(d=>{const p=Xi(d),{clientX:g,clientY:y}=Mu(d)?d.changedTouches[0]:d;a||(a=Ta()),o.push({x:g,y,id:r.getId(p),timeOffset:Ta()-a}),l(typeof DragEvent<"u"&&d instanceof DragEvent?q.Drag:d instanceof MouseEvent?q.MouseMove:q.TouchMove)}),s,{trailing:!1})),f=[Xe("mousemove",u,n),Xe("touchmove",u,n),Xe("drag",u,n)];return X(()=>{f.forEach(d=>d())})}function cT({mouseInteractionCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,sampling:o}){if(o.mouseInteraction===!1)return()=>{};const a=o.mouseInteraction===!0||o.mouseInteraction===void 0?{}:o.mouseInteraction,l=[];let u=null;const f=d=>p=>{const g=Xi(p);if(Pt(g,r,s,i,!0))return;let y=null,x=d;if("pointerType"in p){switch(p.pointerType){case"mouse":y=Jt.Mouse;break;case"touch":y=Jt.Touch;break;case"pen":y=Jt.Pen;break}y===Jt.Touch?Ye[d]===Ye.MouseDown?x="TouchStart":Ye[d]===Ye.MouseUp&&(x="TouchEnd"):Jt.Pen}else Mu(p)&&(y=Jt.Touch);y!==null?(u=y,(x.startsWith("Touch")&&y===Jt.Touch||x.startsWith("Mouse")&&y===Jt.Mouse)&&(y=null)):Ye[d]===Ye.Click&&(y=u,u=null);const _=Mu(p)?p.changedTouches[0]:p;if(!_)return;const h=n.getId(g),{clientX:m,clientY:v}=_;X(e)({type:Ye[x],id:h,x:m,y:v,...y!==null&&{pointerType:y}})};return Object.keys(Ye).filter(d=>Number.isNaN(Number(d))&&!d.endsWith("_Departed")&&a[d]!==!1).forEach(d=>{let p=Ss(d);const g=f(d);if(window.PointerEvent)switch(Ye[d]){case Ye.MouseDown:case Ye.MouseUp:p=p.replace("mouse","pointer");break;case Ye.TouchStart:case Ye.TouchEnd:return}l.push(Xe(p,g,t))}),X(()=>{l.forEach(d=>d())})}function _v({scrollCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,sampling:o}){const a=X(Pi(X(l=>{const u=Xi(l);if(!u||Pt(u,r,s,i,!0))return;const f=n.getId(u);if(u===t&&t.defaultView){const d=lv(t.defaultView);e({id:f,x:d.left,y:d.top})}else e({id:f,x:u.scrollLeft,y:u.scrollTop})}),o.scroll||100));return Xe("scroll",a,t)}function uT({viewportResizeCb:e},{win:t}){let n=-1,r=-1;const s=X(Pi(X(()=>{const i=cv(),o=uv();(n!==i||r!==o)&&(e({width:Number(o),height:Number(i)}),n=i,r=o)}),200));return Xe("resize",s,t)}const dT=["INPUT","TEXTAREA","SELECT"],Qh=new WeakMap;function fT({inputCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,ignoreClass:o,ignoreSelector:a,maskInputOptions:l,maskInputFn:u,sampling:f,userTriggeredOnInput:d,maskTextClass:p,unmaskTextClass:g,maskTextSelector:y,unmaskTextSelector:x}){function _(k){let j=Xi(k);const O=k.isTrusted,I=j&&Ru(j.tagName);if(I==="OPTION"&&(j=j.parentElement),!j||!I||dT.indexOf(I)<0||Pt(j,r,s,i,!0))return;const A=j;if(A.classList.contains(o)||a&&A.matches(a))return;const G=cf(j);let U=Ea(A,I,G),z=!1;const M=cl({maskInputOptions:l,tagName:I,type:G}),P=ks(j,p,y,g,x,M);(G==="radio"||G==="checkbox")&&(z=j.checked),U=Mi({isMasked:P,element:j,value:U,maskInputFn:u}),h(j,d?{text:U,isChecked:z,userTriggered:O}:{text:U,isChecked:z});const B=j.name;G==="radio"&&B&&z&&t.querySelectorAll(`input[type="radio"][name="${B}"]`).forEach(S=>{if(S!==j){const E=Mi({isMasked:P,element:S,value:Ea(S,I,G),maskInputFn:u});h(S,d?{text:E,isChecked:!z,userTriggered:!1}:{text:E,isChecked:!z})}})}function h(k,j){const O=Qh.get(k);if(!O||O.text!==j.text||O.isChecked!==j.isChecked){Qh.set(k,j);const I=n.getId(k);X(e)({...j,id:I})}}const v=(f.input==="last"?["change"]:["input","change"]).map(k=>Xe(k,X(_),t)),w=t.defaultView;if(!w)return()=>{v.forEach(k=>k())};const b=w.Object.getOwnPropertyDescriptor(w.HTMLInputElement.prototype,"value"),C=[[w.HTMLInputElement.prototype,"value"],[w.HTMLInputElement.prototype,"checked"],[w.HTMLSelectElement.prototype,"value"],[w.HTMLTextAreaElement.prototype,"value"],[w.HTMLSelectElement.prototype,"selectedIndex"],[w.HTMLOptionElement.prototype,"selected"]];return b&&b.set&&v.push(...C.map(k=>av(k[0],k[1],{set(){X(_)({target:this,isTrusted:!1})}},!1,w))),X(()=>{v.forEach(k=>k())})}function Na(e){const t=[];function n(r,s){if(jo("CSSGroupingRule")&&r.parentRule instanceof CSSGroupingRule||jo("CSSMediaRule")&&r.parentRule instanceof CSSMediaRule||jo("CSSSupportsRule")&&r.parentRule instanceof CSSSupportsRule||jo("CSSConditionRule")&&r.parentRule instanceof CSSConditionRule){const o=Array.from(r.parentRule.cssRules).indexOf(r);s.unshift(o)}else if(r.parentStyleSheet){const o=Array.from(r.parentStyleSheet.cssRules).indexOf(r);s.unshift(o)}return s}return n(e,t)}function kn(e,t,n){let r,s;return e?(e.ownerNode?r=t.getId(e.ownerNode):s=n.getId(e),{styleId:s,id:r}):{}}function pT({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};const s=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(s,{apply:X((f,d,p)=>{const[g,y]=p,{id:x,styleId:_}=kn(d,t,n.styleMirror);return(x&&x!==-1||_&&_!==-1)&&e({id:x,styleId:_,adds:[{rule:g,index:y}]}),f.apply(d,p)})});const i=r.CSSStyleSheet.prototype.deleteRule;r.CSSStyleSheet.prototype.deleteRule=new Proxy(i,{apply:X((f,d,p)=>{const[g]=p,{id:y,styleId:x}=kn(d,t,n.styleMirror);return(y&&y!==-1||x&&x!==-1)&&e({id:y,styleId:x,removes:[{index:g}]}),f.apply(d,p)})});let o;r.CSSStyleSheet.prototype.replace&&(o=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(o,{apply:X((f,d,p)=>{const[g]=p,{id:y,styleId:x}=kn(d,t,n.styleMirror);return(y&&y!==-1||x&&x!==-1)&&e({id:y,styleId:x,replace:g}),f.apply(d,p)})}));let a;r.CSSStyleSheet.prototype.replaceSync&&(a=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(a,{apply:X((f,d,p)=>{const[g]=p,{id:y,styleId:x}=kn(d,t,n.styleMirror);return(y&&y!==-1||x&&x!==-1)&&e({id:y,styleId:x,replaceSync:g}),f.apply(d,p)})}));const l={};Ro("CSSGroupingRule")?l.CSSGroupingRule=r.CSSGroupingRule:(Ro("CSSMediaRule")&&(l.CSSMediaRule=r.CSSMediaRule),Ro("CSSConditionRule")&&(l.CSSConditionRule=r.CSSConditionRule),Ro("CSSSupportsRule")&&(l.CSSSupportsRule=r.CSSSupportsRule));const u={};return Object.entries(l).forEach(([f,d])=>{u[f]={insertRule:d.prototype.insertRule,deleteRule:d.prototype.deleteRule},d.prototype.insertRule=new Proxy(u[f].insertRule,{apply:X((p,g,y)=>{const[x,_]=y,{id:h,styleId:m}=kn(g.parentStyleSheet,t,n.styleMirror);return(h&&h!==-1||m&&m!==-1)&&e({id:h,styleId:m,adds:[{rule:x,index:[...Na(g),_||0]}]}),p.apply(g,y)})}),d.prototype.deleteRule=new Proxy(u[f].deleteRule,{apply:X((p,g,y)=>{const[x]=y,{id:_,styleId:h}=kn(g.parentStyleSheet,t,n.styleMirror);return(_&&_!==-1||h&&h!==-1)&&e({id:_,styleId:h,removes:[{index:[...Na(g),x]}]}),p.apply(g,y)})})}),X(()=>{r.CSSStyleSheet.prototype.insertRule=s,r.CSSStyleSheet.prototype.deleteRule=i,o&&(r.CSSStyleSheet.prototype.replace=o),a&&(r.CSSStyleSheet.prototype.replaceSync=a),Object.entries(l).forEach(([f,d])=>{d.prototype.insertRule=u[f].insertRule,d.prototype.deleteRule=u[f].deleteRule})})}function wv({mirror:e,stylesheetManager:t},n){let r=null;n.nodeName==="#document"?r=e.getId(n):r=e.getId(n.host);const s=n.nodeName==="#document"?Vt([n,"access",o=>o.defaultView,"optionalAccess",o=>o.Document]):Vt([n,"access",o=>o.ownerDocument,"optionalAccess",o=>o.defaultView,"optionalAccess",o=>o.ShadowRoot]),i=Vt([s,"optionalAccess",o=>o.prototype])?Object.getOwnPropertyDescriptor(Vt([s,"optionalAccess",o=>o.prototype]),"adoptedStyleSheets"):void 0;return r===null||r===-1||!s||!i?()=>{}:(Object.defineProperty(n,"adoptedStyleSheets",{configurable:i.configurable,enumerable:i.enumerable,get(){return Vt([i,"access",o=>o.get,"optionalAccess",o=>o.call,"call",o=>o(this)])},set(o){const a=Vt([i,"access",l=>l.set,"optionalAccess",l=>l.call,"call",l=>l(this,o)]);if(r!==null&&r!==-1)try{t.adoptStyleSheets(o,r)}catch{}return a}}),X(()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:i.configurable,enumerable:i.enumerable,get:i.get,set:i.set})}))}function hT({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:r},{win:s}){const i=s.CSSStyleDeclaration.prototype.setProperty;s.CSSStyleDeclaration.prototype.setProperty=new Proxy(i,{apply:X((a,l,u)=>{const[f,d,p]=u;if(n.has(f))return i.apply(l,[f,d,p]);const{id:g,styleId:y}=kn(Vt([l,"access",x=>x.parentRule,"optionalAccess",x=>x.parentStyleSheet]),t,r.styleMirror);return(g&&g!==-1||y&&y!==-1)&&e({id:g,styleId:y,set:{property:f,value:d,priority:p},index:Na(l.parentRule)}),a.apply(l,u)})});const o=s.CSSStyleDeclaration.prototype.removeProperty;return s.CSSStyleDeclaration.prototype.removeProperty=new Proxy(o,{apply:X((a,l,u)=>{const[f]=u;if(n.has(f))return o.apply(l,[f]);const{id:d,styleId:p}=kn(Vt([l,"access",g=>g.parentRule,"optionalAccess",g=>g.parentStyleSheet]),t,r.styleMirror);return(d&&d!==-1||p&&p!==-1)&&e({id:d,styleId:p,remove:{property:f},index:Na(l.parentRule)}),a.apply(l,u)})}),X(()=>{s.CSSStyleDeclaration.prototype.setProperty=i,s.CSSStyleDeclaration.prototype.removeProperty=o})}function mT({mediaInteractionCb:e,blockClass:t,blockSelector:n,unblockSelector:r,mirror:s,sampling:i,doc:o}){const a=X(u=>Pi(X(f=>{const d=Xi(f);if(!d||Pt(d,t,n,r,!0))return;const{currentTime:p,volume:g,muted:y,playbackRate:x}=d;e({type:u,id:s.getId(d),currentTime:p,volume:g,muted:y,playbackRate:x})}),i.media||500)),l=[Xe("play",a(0),o),Xe("pause",a(1),o),Xe("seeked",a(2),o),Xe("volumechange",a(3),o),Xe("ratechange",a(4),o)];return X(()=>{l.forEach(u=>u())})}function gT({fontCb:e,doc:t}){const n=t.defaultView;if(!n)return()=>{};const r=[],s=new WeakMap,i=n.FontFace;n.FontFace=function(l,u,f){const d=new i(l,u,f);return s.set(d,{family:l,buffer:typeof u!="string",descriptors:f,fontSource:typeof u=="string"?u:JSON.stringify(Array.from(new Uint8Array(u)))}),d};const o=ff(t.fonts,"add",function(a){return function(l){return ul(X(()=>{const u=s.get(l);u&&(e(u),s.delete(l))}),0),a.apply(this,[l])}});return r.push(()=>{n.FontFace=i}),r.push(o),X(()=>{r.forEach(a=>a())})}function yT(e){const{doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,selectionCb:o}=e;let a=!0;const l=X(()=>{const u=t.getSelection();if(!u||a&&Vt([u,"optionalAccess",p=>p.isCollapsed]))return;a=u.isCollapsed||!1;const f=[],d=u.rangeCount||0;for(let p=0;p<d;p++){const g=u.getRangeAt(p),{startContainer:y,startOffset:x,endContainer:_,endOffset:h}=g;Pt(y,r,s,i,!0)||Pt(_,r,s,i,!0)||f.push({start:n.getId(y),startOffset:x,end:n.getId(_),endOffset:h})}o({ranges:f})});return l(),Xe("selectionchange",l)}function vT({doc:e,customElementCb:t}){const n=e.defaultView;return!n||!n.customElements?()=>{}:ff(n.customElements,"define",function(s){return function(i,o,a){try{t({define:{name:i}})}catch{}return s.apply(this,[i,o,a])}})}function xT(e,t={}){const n=e.doc.defaultView;if(!n)return()=>{};const r=xv(e,e.doc),s=lT(e),i=cT(e),o=_v(e),a=uT(e,{win:n}),l=fT(e),u=mT(e),f=pT(e,{win:n}),d=wv(e,e.doc),p=hT(e,{win:n}),g=e.collectFonts?gT(e):()=>{},y=yT(e),x=vT(e),_=[];for(const h of e.plugins)_.push(h.observer(h.callback,n,h.options));return X(()=>{Zr.forEach(h=>h.reset()),r.disconnect(),s(),i(),o(),a(),l(),u(),f(),d(),p(),g(),y(),x(),_.forEach(h=>h())})}function jo(e){return typeof window[e]<"u"}function Ro(e){return!!(typeof window[e]<"u"&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}class Ou{constructor(t){this.generateIdFn=t,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(t,n,r,s){const i=r||this.getIdToRemoteIdMap(t),o=s||this.getRemoteIdToIdMap(t);let a=i.get(n);return a||(a=this.generateIdFn(),i.set(n,a),o.set(a,n)),a}getIds(t,n){const r=this.getIdToRemoteIdMap(t),s=this.getRemoteIdToIdMap(t);return n.map(i=>this.getId(t,i,r,s))}getRemoteId(t,n,r){const s=r||this.getRemoteIdToIdMap(t);if(typeof n!="number")return n;const i=s.get(n);return i||-1}getRemoteIds(t,n){const r=this.getRemoteIdToIdMap(t);return n.map(s=>this.getRemoteId(t,s,r))}reset(t){if(!t){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(t),this.iframeRemoteIdToIdMap.delete(t)}getIdToRemoteIdMap(t){let n=this.iframeIdToRemoteIdMap.get(t);return n||(n=new Map,this.iframeIdToRemoteIdMap.set(t,n)),n}getRemoteIdToIdMap(t){let n=this.iframeRemoteIdToIdMap.get(t);return n||(n=new Map,this.iframeRemoteIdToIdMap.set(t,n)),n}}function Jh(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],i=e[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(t=n,n=i(n)):(s==="call"||s==="optionalCall")&&(n=i((...o)=>n.call(t,...o)),t=void 0)}return n}class _T{constructor(){this.crossOriginIframeMirror=new Ou(uf),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class wT{constructor(t){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new Ou(uf),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=t.mutationCb,this.wrappedEmit=t.wrappedEmit,this.stylesheetManager=t.stylesheetManager,this.recordCrossOriginIframes=t.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new Ou(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=t.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(t){this.iframes.set(t,!0),t.contentWindow&&this.crossOriginIframeMap.set(t.contentWindow,t)}addLoadListener(t){this.loadListener=t}attachIframe(t,n){this.mutationCb({adds:[{parentId:this.mirror.getId(t),nextId:null,node:n}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),Jh([this,"access",r=>r.loadListener,"optionalCall",r=>r(t)]),t.contentDocument&&t.contentDocument.adoptedStyleSheets&&t.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(t.contentDocument.adoptedStyleSheets,this.mirror.getId(t.contentDocument))}handleMessage(t){const n=t;if(n.data.type!=="rrweb"||n.origin!==n.data.origin||!t.source)return;const s=this.crossOriginIframeMap.get(t.source);if(!s)return;const i=this.transformCrossOriginEvent(s,n.data.event);i&&this.wrappedEmit(i,n.data.isCheckout)}transformCrossOriginEvent(t,n){switch(n.type){case Y.FullSnapshot:{this.crossOriginIframeMirror.reset(t),this.crossOriginIframeStyleMirror.reset(t),this.replaceIdOnNode(n.data.node,t);const r=n.data.node.id;return this.crossOriginIframeRootIdMap.set(t,r),this.patchRootIdOnNode(n.data.node,r),{timestamp:n.timestamp,type:Y.IncrementalSnapshot,data:{source:q.Mutation,adds:[{parentId:this.mirror.getId(t),nextId:null,node:n.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case Y.Meta:case Y.Load:case Y.DomContentLoaded:return!1;case Y.Plugin:return n;case Y.Custom:return this.replaceIds(n.data.payload,t,["id","parentId","previousId","nextId"]),n;case Y.IncrementalSnapshot:switch(n.data.source){case q.Mutation:return n.data.adds.forEach(r=>{this.replaceIds(r,t,["parentId","nextId","previousId"]),this.replaceIdOnNode(r.node,t);const s=this.crossOriginIframeRootIdMap.get(t);s&&this.patchRootIdOnNode(r.node,s)}),n.data.removes.forEach(r=>{this.replaceIds(r,t,["parentId","id"])}),n.data.attributes.forEach(r=>{this.replaceIds(r,t,["id"])}),n.data.texts.forEach(r=>{this.replaceIds(r,t,["id"])}),n;case q.Drag:case q.TouchMove:case q.MouseMove:return n.data.positions.forEach(r=>{this.replaceIds(r,t,["id"])}),n;case q.ViewportResize:return!1;case q.MediaInteraction:case q.MouseInteraction:case q.Scroll:case q.CanvasMutation:case q.Input:return this.replaceIds(n.data,t,["id"]),n;case q.StyleSheetRule:case q.StyleDeclaration:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleId"]),n;case q.Font:return n;case q.Selection:return n.data.ranges.forEach(r=>{this.replaceIds(r,t,["start","end"])}),n;case q.AdoptedStyleSheet:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleIds"]),Jh([n,"access",r=>r.data,"access",r=>r.styles,"optionalAccess",r=>r.forEach,"call",r=>r(s=>{this.replaceStyleIds(s,t,["styleId"])})]),n}}return!1}replace(t,n,r,s){for(const i of s)!Array.isArray(n[i])&&typeof n[i]!="number"||(Array.isArray(n[i])?n[i]=t.getIds(r,n[i]):n[i]=t.getId(r,n[i]));return n}replaceIds(t,n,r){return this.replace(this.crossOriginIframeMirror,t,n,r)}replaceStyleIds(t,n,r){return this.replace(this.crossOriginIframeStyleMirror,t,n,r)}replaceIdOnNode(t,n){this.replaceIds(t,n,["id","rootId"]),"childNodes"in t&&t.childNodes.forEach(r=>{this.replaceIdOnNode(r,n)})}patchRootIdOnNode(t,n){t.type!==Re.Document&&!t.rootId&&(t.rootId=n),"childNodes"in t&&t.childNodes.forEach(r=>{this.patchRootIdOnNode(r,n)})}}class ST{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class kT{constructor(t){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(t,n){if(!ui(t)||this.shadowDoms.has(t))return;this.shadowDoms.add(t);const r=xv({...this.bypassOptions,doc:n,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},t);this.restoreHandlers.push(()=>r.disconnect()),this.restoreHandlers.push(_v({...this.bypassOptions,scrollCb:this.scrollCb,doc:t,mirror:this.mirror})),ul(()=>{t.adoptedStyleSheets&&t.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets,this.mirror.getId(t.host)),this.restoreHandlers.push(wv({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},t))},0)}observeAttachShadow(t){!t.contentWindow||!t.contentDocument||this.patchAttachShadow(t.contentWindow.Element,t.contentDocument)}patchAttachShadow(t,n){const r=this;this.restoreHandlers.push(ff(t.prototype,"attachShadow",function(s){return function(i){const o=s.call(this,i);return this.shadowRoot&&gv(this)&&r.addShadowRoot(this.shadowRoot,n),o}}))}reset(){this.restoreHandlers.forEach(t=>{try{t()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet}}class Zh{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}}class bT{constructor(t){this.trackedLinkElements=new WeakSet,this.styleMirror=new JC,this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb}attachLinkElement(t,n){"_cssText"in n.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:n.id,attributes:n.attributes}]}),this.trackLinkElement(t)}trackLinkElement(t){this.trackedLinkElements.has(t)||(this.trackedLinkElements.add(t),this.trackStylesheetInLinkElement(t))}adoptStyleSheets(t,n){if(t.length===0)return;const r={id:n,styleIds:[]},s=[];for(const i of t){let o;this.styleMirror.has(i)?o=this.styleMirror.getId(i):(o=this.styleMirror.add(i),s.push({styleId:o,rules:Array.from(i.rules||CSSRule,(a,l)=>({rule:rv(a),index:l}))})),r.styleIds.push(o)}s.length>0&&(r.styles=s),this.adoptedStyleSheetCb(r)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(t){}}class ET{constructor(){this.nodeMap=new WeakMap,this.loop=!0,this.periodicallyClear()}periodicallyClear(){tT(()=>{this.clear(),this.loop&&this.periodicallyClear()})}inOtherBuffer(t,n){const r=this.nodeMap.get(t);return r&&Array.from(r).some(s=>s!==n)}add(t,n){this.nodeMap.set(t,(this.nodeMap.get(t)||new Set).add(n))}clear(){this.nodeMap=new WeakMap}destroy(){this.loop=!1}}let Se,Ia;const jt=CC();function Bn(e={}){const{emit:t,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:s="rr-block",blockSelector:i=null,unblockSelector:o=null,ignoreClass:a="rr-ignore",ignoreSelector:l=null,maskAllText:u=!1,maskTextClass:f="rr-mask",unmaskTextClass:d=null,maskTextSelector:p=null,unmaskTextSelector:g=null,inlineStylesheet:y=!0,maskAllInputs:x,maskInputOptions:_,slimDOMOptions:h,maskAttributeFn:m,maskInputFn:v,maskTextFn:w,maxCanvasSize:b=null,packFn:C,sampling:k={},dataURLOptions:j={},mousemoveWait:O,recordCanvas:I=!1,recordCrossOriginIframes:A=!1,recordAfter:G=e.recordAfter==="DOMContentLoaded"?e.recordAfter:"load",userTriggeredOnInput:U=!1,collectFonts:z=!1,inlineImages:M=!1,plugins:P,keepIframeSrcFn:B=()=>!1,ignoreCSSAttributes:S=new Set([]),errorHandler:E,onMutation:R,getCanvasManager:H}=e;oT(E);const W=A?window.parent===window:!0;let re=!1;if(!W)try{window.parent.document&&(re=!1)}catch{re=!0}if(W&&!t)throw new Error("emit function is required");O!==void 0&&k.mousemove===void 0&&(k.mousemove=O),jt.reset();const we=x===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:_!==void 0?_:{},Ge=h===!0||h==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:h==="all",headMetaDescKeywords:h==="all"}:h||{};QC();let Ct,vn=0;const Cf=te=>{for(const Tt of P||[])Tt.eventProcessor&&(te=Tt.eventProcessor(te));return C&&!re&&(te=C(te)),te};Se=(te,Tt)=>{const ee=te;if(ee.timestamp=Ta(),rc([Zr,"access",ye=>ye[0],"optionalAccess",ye=>ye.isFrozen,"call",ye=>ye()])&&ee.type!==Y.FullSnapshot&&!(ee.type===Y.IncrementalSnapshot&&ee.data.source===q.Mutation)&&Zr.forEach(ye=>ye.unfreeze()),W)rc([t,"optionalCall",ye=>ye(Cf(ee),Tt)]);else if(re){const ye={type:"rrweb",event:Cf(ee),origin:window.location.origin,isCheckout:Tt};window.parent.postMessage(ye,"*")}if(ee.type===Y.FullSnapshot)Ct=ee,vn=0;else if(ee.type===Y.IncrementalSnapshot){if(ee.data.source===q.Mutation&&ee.data.isAttachIframe)return;vn++;const ye=r&&vn>=r,ne=n&&Ct&&ee.timestamp-Ct.timestamp>n;(ye||ne)&&Nl(!0)}};const eo=te=>{Se({type:Y.IncrementalSnapshot,data:{source:q.Mutation,...te}})},Tf=te=>Se({type:Y.IncrementalSnapshot,data:{source:q.Scroll,...te}}),ax=te=>Se({type:Y.IncrementalSnapshot,data:{source:q.CanvasMutation,...te}}),lx=te=>Se({type:Y.IncrementalSnapshot,data:{source:q.AdoptedStyleSheet,...te}}),tr=new bT({mutationCb:eo,adoptedStyleSheetCb:lx}),nr=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new _T:new wT({mirror:jt,mutationCb:eo,stylesheetManager:tr,recordCrossOriginIframes:A,wrappedEmit:Se});for(const te of P||[])te.getMirror&&te.getMirror({nodeMirror:jt,crossOriginIframeMirror:nr.crossOriginIframeMirror,crossOriginIframeStyleMirror:nr.crossOriginIframeStyleMirror});const Tl=new ET,Nf=TT(H,{mirror:jt,win:window,mutationCb:te=>Se({type:Y.IncrementalSnapshot,data:{source:q.CanvasMutation,...te}}),recordCanvas:I,blockClass:s,blockSelector:i,unblockSelector:o,maxCanvasSize:b,sampling:k.canvas,dataURLOptions:j,errorHandler:E}),to=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new ST:new kT({mutationCb:eo,scrollCb:Tf,bypassOptions:{onMutation:R,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:u,maskTextClass:f,unmaskTextClass:d,maskTextSelector:p,unmaskTextSelector:g,inlineStylesheet:y,maskInputOptions:we,dataURLOptions:j,maskAttributeFn:m,maskTextFn:w,maskInputFn:v,recordCanvas:I,inlineImages:M,sampling:k,slimDOMOptions:Ge,iframeManager:nr,stylesheetManager:tr,canvasManager:Nf,keepIframeSrcFn:B,processedNodeManager:Tl},mirror:jt}),Nl=(te=!1)=>{Se({type:Y.Meta,data:{href:window.location.href,width:uv(),height:cv()}},te),tr.reset(),to.init(),Zr.forEach(ee=>ee.lock());const Tt=KC(document,{mirror:jt,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:u,maskTextClass:f,unmaskTextClass:d,maskTextSelector:p,unmaskTextSelector:g,inlineStylesheet:y,maskAllInputs:we,maskAttributeFn:m,maskInputFn:v,maskTextFn:w,slimDOM:Ge,dataURLOptions:j,recordCanvas:I,inlineImages:M,onSerialize:ee=>{pv(ee,jt)&&nr.addIframe(ee),hv(ee,jt)&&tr.trackLinkElement(ee),Lu(ee)&&to.addShadowRoot(ee.shadowRoot,document)},onIframeLoad:(ee,ye)=>{nr.attachIframe(ee,ye),to.observeAttachShadow(ee)},onStylesheetLoad:(ee,ye)=>{tr.attachLinkElement(ee,ye)},keepIframeSrcFn:B});if(!Tt)return console.warn("Failed to snapshot the document");Se({type:Y.FullSnapshot,data:{node:Tt,initialOffset:lv(window)}}),Zr.forEach(ee=>ee.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&tr.adoptStyleSheets(document.adoptedStyleSheets,jt.getId(document))};Ia=Nl;try{const te=[],Tt=ye=>X(xT)({onMutation:R,mutationCb:eo,mousemoveCb:(ne,rr)=>Se({type:Y.IncrementalSnapshot,data:{source:rr,positions:ne}}),mouseInteractionCb:ne=>Se({type:Y.IncrementalSnapshot,data:{source:q.MouseInteraction,...ne}}),scrollCb:Tf,viewportResizeCb:ne=>Se({type:Y.IncrementalSnapshot,data:{source:q.ViewportResize,...ne}}),inputCb:ne=>Se({type:Y.IncrementalSnapshot,data:{source:q.Input,...ne}}),mediaInteractionCb:ne=>Se({type:Y.IncrementalSnapshot,data:{source:q.MediaInteraction,...ne}}),styleSheetRuleCb:ne=>Se({type:Y.IncrementalSnapshot,data:{source:q.StyleSheetRule,...ne}}),styleDeclarationCb:ne=>Se({type:Y.IncrementalSnapshot,data:{source:q.StyleDeclaration,...ne}}),canvasMutationCb:ax,fontCb:ne=>Se({type:Y.IncrementalSnapshot,data:{source:q.Font,...ne}}),selectionCb:ne=>{Se({type:Y.IncrementalSnapshot,data:{source:q.Selection,...ne}})},customElementCb:ne=>{Se({type:Y.IncrementalSnapshot,data:{source:q.CustomElement,...ne}})},blockClass:s,ignoreClass:a,ignoreSelector:l,maskAllText:u,maskTextClass:f,unmaskTextClass:d,maskTextSelector:p,unmaskTextSelector:g,maskInputOptions:we,inlineStylesheet:y,sampling:k,recordCanvas:I,inlineImages:M,userTriggeredOnInput:U,collectFonts:z,doc:ye,maskAttributeFn:m,maskInputFn:v,maskTextFn:w,keepIframeSrcFn:B,blockSelector:i,unblockSelector:o,slimDOMOptions:Ge,dataURLOptions:j,mirror:jt,iframeManager:nr,stylesheetManager:tr,shadowDomManager:to,processedNodeManager:Tl,canvasManager:Nf,ignoreCSSAttributes:S,plugins:rc([P,"optionalAccess",ne=>ne.filter,"call",ne=>ne(rr=>rr.observer),"optionalAccess",ne=>ne.map,"call",ne=>ne(rr=>({observer:rr.observer,options:rr.options,callback:cx=>Se({type:Y.Plugin,data:{plugin:rr.name,payload:cx}})}))])||[]},{});nr.addLoadListener(ye=>{try{te.push(Tt(ye.contentDocument))}catch(ne){console.warn(ne)}});const ee=()=>{Nl(),te.push(Tt(document))};return document.readyState==="interactive"||document.readyState==="complete"?ee():(te.push(Xe("DOMContentLoaded",()=>{Se({type:Y.DomContentLoaded,data:{}}),G==="DOMContentLoaded"&&ee()})),te.push(Xe("load",()=>{Se({type:Y.Load,data:{}}),G==="load"&&ee()},window))),()=>{te.forEach(ye=>ye()),Tl.destroy(),Ia=void 0,aT()}}catch(te){console.warn(te)}}function CT(e){if(!Ia)throw new Error("please take full snapshot after start recording");Ia(e)}Bn.mirror=jt;Bn.takeFullSnapshot=CT;function TT(e,t){try{return e?e(t):new Zh}catch{return console.warn("Unable to initialize CanvasManager"),new Zh}}const NT=3,IT=5;function hf(e){return e>9999999999?e:e*1e3}function dc(e){return e>9999999999?e/1e3:e}function Qi(e,t){t.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate(()=>(e.throttledAddEvent({type:Y.Custom,timestamp:(t.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:Wt(t,10,1e3)}}),t.category==="console")))}const jT="button,a";function Sv(e){return e.closest(jT)||e}function kv(e){const t=bv(e);return!t||!(t instanceof Element)?t:Sv(t)}function bv(e){return RT(e)?e.target:e}function RT(e){return typeof e=="object"&&!!e&&"target"in e}let bn;function MT(e){return bn||(bn=[],LT()),bn.push(e),()=>{const t=bn?bn.indexOf(e):-1;t>-1&&bn.splice(t,1)}}function LT(){Oe(ce,"open",function(e){return function(...t){if(bn)try{bn.forEach(n=>n())}catch{}return e.apply(ce,t)}})}function PT(e,t,n){e.handleClick(t,n)}class OT{constructor(t,n,r=Qi){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=n.timeout/1e3,this._threshold=n.threshold/1e3,this._scollTimeout=n.scrollTimeout/1e3,this._replay=t,this._ignoreSelector=n.ignoreSelector,this._addBreadcrumbEvent=r}addListeners(){const t=MT(()=>{this._lastMutation=em()});this._teardown=()=>{t(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(t,n){if(DT(n,this._ignoreSelector)||!FT(t))return;const r={timestamp:dc(t.timestamp),clickBreadcrumb:t,clickCount:0,node:n};this._clicks.some(s=>s.node===r.node&&Math.abs(s.timestamp-r.timestamp)<1)||(this._clicks.push(r),this._clicks.length===1&&this._scheduleCheckClicks())}registerMutation(t=Date.now()){this._lastMutation=dc(t)}registerScroll(t=Date.now()){this._lastScroll=dc(t)}registerClick(t){const n=Sv(t);this._handleMultiClick(n)}_handleMultiClick(t){this._getClicks(t).forEach(n=>{n.clickCount++})}_getClicks(t){return this._clicks.filter(n=>n.node===t)}_checkClicks(){const t=[],n=em();this._clicks.forEach(r=>{!r.mutationAfter&&this._lastMutation&&(r.mutationAfter=r.timestamp<=this._lastMutation?this._lastMutation-r.timestamp:void 0),!r.scrollAfter&&this._lastScroll&&(r.scrollAfter=r.timestamp<=this._lastScroll?this._lastScroll-r.timestamp:void 0),r.timestamp+this._timeout<=n&&t.push(r)});for(const r of t){const s=this._clicks.indexOf(r);s>-1&&(this._generateBreadcrumbs(r),this._clicks.splice(s,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(t){const n=this._replay,r=t.scrollAfter&&t.scrollAfter<=this._scollTimeout,s=t.mutationAfter&&t.mutationAfter<=this._threshold,i=!r&&!s,{clickCount:o,clickBreadcrumb:a}=t;if(i){const l=Math.min(t.mutationAfter||this._timeout,this._timeout)*1e3,u=l<this._timeout*1e3?"mutation":"timeout",f={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.slowClickDetected",data:{...a.data,url:ce.location.href,route:n.getCurrentRoute(),timeAfterClickMs:l,endReason:u,clickCount:o||1}};this._addBreadcrumbEvent(n,f);return}if(o>1){const l={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.multiClick",data:{...a.data,url:ce.location.href,route:n.getCurrentRoute(),clickCount:o,metric:!0}};this._addBreadcrumbEvent(n,l)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=setTimeout(()=>this._checkClicks(),1e3)}}const AT=["A","BUTTON","INPUT"];function DT(e,t){return!!(!AT.includes(e.tagName)||e.tagName==="INPUT"&&!["submit","button"].includes(e.getAttribute("type")||"")||e.tagName==="A"&&(e.hasAttribute("download")||e.hasAttribute("target")&&e.getAttribute("target")!=="_self")||t&&e.matches(t))}function FT(e){return!!(e.data&&typeof e.data.nodeId=="number"&&e.timestamp)}function em(){return Date.now()/1e3}function $T(e,t){try{if(!UT(t))return;const{source:n}=t.data;if(n===q.Mutation&&e.registerMutation(t.timestamp),n===q.Scroll&&e.registerScroll(t.timestamp),zT(t)){const{type:r,id:s}=t.data,i=Bn.mirror.getNode(s);i instanceof HTMLElement&&r===Ye.Click&&e.registerClick(i)}}catch{}}function UT(e){return e.type===NT}function zT(e){return e.data.source===q.MouseInteraction}function qt(e){return{timestamp:Date.now()/1e3,type:"default",...e}}var ja;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(ja||(ja={}));const BT=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function HT(e){const t={};for(const n in e)if(BT.has(n)){let r=n;(n==="data-testid"||n==="data-test-id")&&(r="testId"),t[r]=e[n]}return t}const WT=e=>t=>{if(!e.isEnabled())return;const n=VT(t);if(!n)return;const r=t.name==="click",s=r?t.event:void 0;r&&e.clickDetector&&s&&s.target&&!s.altKey&&!s.metaKey&&!s.ctrlKey&&!s.shiftKey&&PT(e.clickDetector,n,kv(t.event)),Qi(e,n)};function Ev(e,t){const n=Bn.mirror.getId(e),r=n&&Bn.mirror.getNode(n),s=r&&Bn.mirror.getMeta(r),i=s&&YT(s)?s:null;return{message:t,data:i?{nodeId:n,node:{id:n,tagName:i.tagName,textContent:Array.from(i.childNodes).map(o=>o.type===ja.Text&&o.textContent).filter(Boolean).map(o=>o.trim()).join(""),attributes:HT(i.attributes)}}:{}}}function VT(e){const{target:t,message:n}=GT(e);return qt({category:`ui.${e.name}`,...Ev(t,n)})}function GT(e){const t=e.name==="click";let n,r=null;try{r=t?kv(e.event):bv(e.event),n=Yn(r,{maxStringLength:200})||"<unknown>"}catch{n="<unknown>"}return{target:r,message:n}}function YT(e){return e.type===ja.Element}function qT(e,t){if(!e.isEnabled())return;e.updateUserActivity();const n=KT(t);n&&Qi(e,n)}function KT(e){const{metaKey:t,shiftKey:n,ctrlKey:r,altKey:s,key:i,target:o}=e;if(!o||XT(o)||!i)return null;const a=t||r||s,l=i.length===1;if(!a&&l)return null;const u=Yn(o,{maxStringLength:200})||"<unknown>",f=Ev(o,u);return qt({category:"ui.keyDown",message:u,data:{...f.data,metaKey:t,shiftKey:n,ctrlKey:r,altKey:s,key:i}})}function XT(e){return e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable}const tm={resource:tN,paint:ZT,navigation:eN};function QT(e){return e.map(JT).filter(Boolean)}function JT(e){return tm[e.entryType]?tm[e.entryType](e):null}function bs(e){return((dt||ce.performance.timeOrigin)+e)/1e3}function ZT(e){const{duration:t,entryType:n,name:r,startTime:s}=e,i=bs(s);return{type:n,name:r,start:i,end:i+t,data:void 0}}function eN(e){const{entryType:t,name:n,decodedBodySize:r,duration:s,domComplete:i,encodedBodySize:o,domContentLoadedEventStart:a,domContentLoadedEventEnd:l,domInteractive:u,loadEventStart:f,loadEventEnd:d,redirectCount:p,startTime:g,transferSize:y,type:x}=e;return s===0?null:{type:`${t}.${x}`,start:bs(g),end:bs(i),name:n,data:{size:y,decodedBodySize:r,encodedBodySize:o,duration:s,domInteractive:u,domContentLoadedEventStart:a,domContentLoadedEventEnd:l,loadEventStart:f,loadEventEnd:d,domComplete:i,redirectCount:p}}}function tN(e){const{entryType:t,initiatorType:n,name:r,responseEnd:s,startTime:i,decodedBodySize:o,encodedBodySize:a,responseStatus:l,transferSize:u}=e;return["fetch","xmlhttprequest"].includes(n)?null:{type:`${t}.${n}`,start:bs(i),end:bs(s),name:r,data:{size:u,statusCode:l,decodedBodySize:o,encodedBodySize:a}}}function nN(e){const t=e.entries,n=t[t.length-1],r=n?n.element:void 0,s=e.value,i=bs(s);return{type:"largest-contentful-paint",name:"largest-contentful-paint",start:i,end:i,data:{value:s,size:s,nodeId:r?Bn.mirror.getId(r):void 0}}}function rN(e){function t(s){e.performanceEntries.includes(s)||e.performanceEntries.push(s)}function n({entries:s}){s.forEach(t)}const r=[];return["navigation","paint","resource"].forEach(s=>{r.push(xs(s,n))}),r.push(Gy(({metric:s})=>{e.replayPerformanceEntries.push(nN(s))})),()=>{r.forEach(s=>s())}}const ae=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,sN='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(t,e){for(var i=new n(31),a=0;a<31;++a)i[a]=e+=1<<t[a-1];var s=new r(i[30]);for(a=1;a<30;++a)for(var o=i[a];o<i[a+1];++o)s[o]=o-i[a]<<5|a;return{b:i,r:s}},o=s(e,2),f=o.b,h=o.r;f[28]=258,h[258]=28;for(var l=s(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,a=0,s=new n(r);a<i;++a)t[a]&&++s[t[a]-1];var o,f=new n(r);for(a=1;a<r;++a)f[a]=f[a-1]+s[a-1]<<1;if(e){o=new n(1<<r);var h=15-r;for(a=0;a<i;++a)if(t[a])for(var l=a<<4|t[a],c=r-t[a],v=f[t[a]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>h]=l}else for(o=new n(i),a=0;a<i;++a)t[a]&&(o[a]=u[f[t[a]-1]++]>>15-t[a]);return o},g=new t(288);for(c=0;c<144;++c)g[c]=8;for(c=144;c<256;++c)g[c]=9;for(c=256;c<280;++c)g[c]=7;for(c=280;c<288;++c)g[c]=8;var w=new t(32);for(c=0;c<32;++c)w[c]=5;var p=d(g,9,0),y=d(w,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==r||r<0)&&(r=0),(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},A=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},_=function(r,e){for(var i=[],a=0;a<r.length;++a)r[a]&&i.push({s:a,f:r[a]});var s=i.length,o=i.slice();if(!s)return{t:F,l:0};if(1==s){var f=new t(i[0].s+1);return f[i[0].s]=1,{t:f,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var h=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:h.f+l.f,l:h,r:l};c!=s-1;)h=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:h.f+l.f,l:h,r:l};var d=o[0].s;for(a=1;a<s;++a)o[a].s>d&&(d=o[a].s);var g=new n(d+1),w=x(i[c-1],g,0);if(w>e){a=0;var p=0,y=w-e,m=1<<y;for(o.sort((function(t,n){return g[n.s]-g[t.s]||t.f-n.f}));a<s;++a){var b=o[a].s;if(!(g[b]>e))break;p+=m-(1<<w-g[b]),g[b]=e}for(p>>=y;p>0;){var M=o[a].s;g[M]<e?p-=1<<e-g[M]++-1:++a}for(;a>=0&&p;--a){var E=o[a].s;g[E]==e&&(--g[E],++p)}w=e}return{t:new t(g),l:w}},x=function(t,n,r){return-1==t.s?Math.max(x(t.l,n,r+1),x(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,a=t[0],s=1,o=function(t){e[i++]=t},f=1;f<=r;++f)if(t[f]==a&&f!=r)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=t[f]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var a=0;a<e;++a)t[i+a+4]=r[a];return 8*(i+4+e)},C=function(t,r,s,o,f,h,l,u,c,v,m){z(r,m++,s),++f[256];for(var b=_(f,15),M=b.t,E=b.l,x=_(h,15),C=x.t,U=x.l,F=D(M),I=F.c,S=F.n,L=D(C),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=_(q,7),H=G.t,J=G.l,K=19;K>4&&!H[a[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(f,g)+T(h,w)+l,X=T(f,M)+T(h,C)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(C,U,0),R=C;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[a[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=p,P=g,Q=y,R=w;for(B=0;B<u;++B){var rt=o[B];if(rt>255){A(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;A(r,m,Q[et]),m+=R[et],et>3&&(A(r,m,rt>>5&8191),m+=i[et])}else A(r,m,N[rt]),m+=P[rt]}return A(r,m,N[256]),m+P[256]},U=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,a=0|r.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=e+=r[s];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},L=function(a,s,o,f,u){if(!u&&(u={l:1},s.dictionary)){var c=s.dictionary.subarray(-32768),v=new t(c.length+a.length);v.set(c),v.set(a,c.length),a=v,u.w=c.length}return function(a,s,o,f,u,c){var v=c.z||a.length,d=new t(f+v+5*(1+Math.ceil(v/7e3))+u),g=d.subarray(f,d.length-u),w=c.l,p=7&(c.r||0);if(s){p&&(g[0]=c.r>>3);for(var y=U[s-1],M=y>>13,E=8191&y,z=(1<<o)-1,A=c.p||new n(32768),_=c.h||new n(z+1),x=Math.ceil(o/3),D=2*x,T=function(t){return(a[t]^a[t+1]<<x^a[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=_[H];if(A[J]=K,_[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!w)){p=C(a,g,0,F,I,S,O,q,G,j-G,p),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(a[j+Q]==a[j+Q-W]){for(var $=0;$<Z&&a[j+$]==a[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-A[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=A[J])&32767}if(R){F[q++]=268435456|h[Q]<<18|l[R];var it=31&h[Q],at=31&l[R];O+=e[it]+i[at],++I[257+it],++S[at],B=j+Q,++L}else F[q++]=a[j],++I[a[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=a[j],++I[a[j]];p=C(a,g,w,F,I,S,O,q,G,j-G,p),w||(c.r=7&p|g[p/8|0]<<3,p-=7,c.h=_,c.p=A,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+w;j+=65535){var st=j+65535;st>=v&&(g[p/8|0]=w,st=v),p=k(g,p+1,a.subarray(j,st))}c.i=v}return b(d,0,f+m(p)+u)}(a,null==s.level?6:s.level,null==s.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+s.mem,o,f,u)},O=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},j=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(L(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var a=this.b.length-this.s.z;a&&(this.b.set(n.subarray(0,a),this.s.z),this.s.z=this.b.length,this.p(this.b,!1)),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(a),32768),this.s.z=n.length-a+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n}();function q(t,n){n||(n={});var r=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}}(),e=t.length;r.p(t);var i,a=L(t,n,10+((i=n).filename?i.filename.length+1:0),8),s=a.length;return function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&O(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}}(a,n),O(a,s-8,r.d()),O(a,s-4,e),a}var B=function(){function t(t,n){this.c=S(),this.v=1,j.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),j.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=L(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=S();i.p(n.dictionary),O(t,2,i.d())}}(r,this.o),this.v=0),n&&O(r,r.length-4,this.c.d()),this.ondata(r,n)},t}(),G="undefined"!=typeof TextEncoder&&new TextEncoder,H="undefined"!=typeof TextDecoder&&new TextDecoder;try{H.decode(F,{stream:!0})}catch(t){}var J=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(K(t),this.d=n||!1)},t}();function K(n,r){if(r){for(var e=new t(n.length),i=0;i<n.length;++i)e[i]=n.charCodeAt(i);return e}if(G)return G.encode(n);var a=n.length,s=new t(n.length+(n.length>>1)),o=0,f=function(t){s[o++]=t};for(i=0;i<a;++i){if(o+5>s.length){var h=new t(o+8+(a-i<<1));h.set(s),s=h}var l=n.charCodeAt(i);l<128||r?f(l):l<2048?(f(192|l>>6),f(128|63&l)):l>55295&&l<57344?(f(240|(l=65536+(1047552&l)|1023&n.charCodeAt(++i))>>18),f(128|l>>12&63),f(128|l>>6&63),f(128|63&l)):(f(224|l>>12),f(128|l>>6&63),f(128|63&l))}return b(s,0,o)}const N=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(let r=0,e=t.length;r<e;r++)n+=t[r].length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new B,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new J(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},P={clear:()=>{N.clear()},addEvent:t=>N.addEvent(t),finish:()=>N.finish(),compress:t=>function(t){return q(K(t))}(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in P&&"function"==typeof P[n])try{const t=P[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function iN(){const e=new Blob([sN]);return URL.createObjectURL(e)}function Ke(e,t){ae&&(T.info(e),t&&Cv(e))}function ls(e,t){ae&&(T.info(e),t&&setTimeout(()=>{Cv(e)},0))}function Cv(e){qn({category:"console",data:{logger:"replay"},level:"info",message:e},{level:"info"})}class mf extends Error{constructor(){super(`Event buffer exceeded maximum size of ${lf}.`)}}class Tv{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(t){const n=JSON.stringify(t).length;if(this._totalSize+=n,this._totalSize>lf)throw new mf;this.events.push(t)}finish(){return new Promise(t=>{const n=this.events;this.clear(),t(JSON.stringify(n))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const t=this.events.map(n=>n.timestamp).sort()[0];return t?hf(t):null}}class oN{constructor(t){this._worker=t,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((t,n)=>{this._worker.addEventListener("message",({data:r})=>{r.success?t():n()},{once:!0}),this._worker.addEventListener("error",r=>{n(r)},{once:!0})}),this._ensureReadyPromise)}destroy(){Ke("[Replay] Destroying compression worker"),this._worker.terminate()}postMessage(t,n){const r=this._getAndIncrementId();return new Promise((s,i)=>{const o=({data:a})=>{const l=a;if(l.method===t&&l.id===r){if(this._worker.removeEventListener("message",o),!l.success){ae&&T.error("[Replay]",l.response),i(new Error("Error in compression worker"));return}s(l.response)}};this._worker.addEventListener("message",o),this._worker.postMessage({id:r,method:t,arg:n})})}_getAndIncrementId(){return this._id++}}class aN{constructor(t){this._worker=new oN(t),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(t){const n=hf(t.timestamp);(!this._earliestTimestamp||n<this._earliestTimestamp)&&(this._earliestTimestamp=n);const r=JSON.stringify(t);return this._totalSize+=r.length,this._totalSize>lf?Promise.reject(new mf):this._sendEventToWorker(r)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,t=>{ae&&T.warn('[Replay] Sending "clear" message to worker failed',t)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(t){return this._worker.postMessage("addEvent",t)}async _finishRequest(){const t=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,t}}class lN{constructor(t){this._fallback=new Tv,this._compression=new aN(t),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(t){this._used.hasCheckout=t}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(t){return this._used.addEvent(t)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch{Ke("[Replay] Failed to load the compression worker, falling back to simple buffer");return}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:t,hasCheckout:n}=this._fallback,r=[];for(const s of t)r.push(this._compression.addEvent(s));this._compression.hasCheckout=n,this._used=this._compression;try{await Promise.all(r)}catch(s){ae&&T.warn("[Replay] Failed to add events when switching buffers.",s)}}}function cN({useCompression:e,workerUrl:t}){if(e&&window.Worker){const n=uN(t);if(n)return n}return Ke("[Replay] Using simple buffer"),new Tv}function uN(e){try{const t=e||dN();if(!t)return;Ke(`[Replay] Using compression worker${e?` from ${e}`:""}`);const n=new Worker(t);return new lN(n)}catch{Ke("[Replay] Failed to create compression worker")}}function dN(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__>"u"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?iN():""}function gf(){try{return"sessionStorage"in ce&&!!ce.sessionStorage}catch{return!1}}function fN(e){pN(),e.session=void 0}function pN(){if(gf())try{ce.sessionStorage.removeItem(of)}catch{}}function Nv(e){return e===void 0?!1:Math.random()<e}function Iv(e){const t=Date.now(),n=e.id||Ee(),r=e.started||t,s=e.lastActivity||t,i=e.segmentId||0,o=e.sampled,a=e.previousSessionId;return{id:n,started:r,lastActivity:s,segmentId:i,sampled:o,previousSessionId:a}}function yf(e){if(gf())try{ce.sessionStorage.setItem(of,JSON.stringify(e))}catch{}}function hN(e,t){return Nv(e)?"session":t?"buffer":!1}function nm({sessionSampleRate:e,allowBuffering:t,stickySession:n=!1},{previousSessionId:r}={}){const s=hN(e,t),i=Iv({sampled:s,previousSessionId:r});return n&&yf(i),i}function mN(e){if(!gf())return null;try{const t=ce.sessionStorage.getItem(of);if(!t)return null;const n=JSON.parse(t);return ls("[Replay] Loading existing session",e),Iv(n)}catch{return null}}function Au(e,t,n=+new Date){return e===null||t===void 0||t<0?!0:t===0?!1:e+t<=n}function jv(e,{maxReplayDuration:t,sessionIdleExpire:n,targetTime:r=Date.now()}){return Au(e.started,t,r)||Au(e.lastActivity,n,r)}function Rv(e,{sessionIdleExpire:t,maxReplayDuration:n}){return!(!jv(e,{sessionIdleExpire:t,maxReplayDuration:n})||e.sampled==="buffer"&&e.segmentId===0)}function fc({traceInternals:e,sessionIdleExpire:t,maxReplayDuration:n,previousSessionId:r},s){const i=s.stickySession&&mN(e);return i?Rv(i,{sessionIdleExpire:t,maxReplayDuration:n})?(ls("[Replay] Session in sessionStorage is expired, creating new one..."),nm(s,{previousSessionId:i.id})):i:(ls("[Replay] Creating new session",e),nm(s,{previousSessionId:r}))}function gN(e){return e.type===Y.Custom}function vf(e,t,n){return Lv(e,t)?(Mv(e,t,n),!0):!1}function yN(e,t,n){return Lv(e,t)?Mv(e,t,n):Promise.resolve(null)}async function Mv(e,t,n){if(!e.eventBuffer)return null;try{n&&e.recordingMode==="buffer"&&e.eventBuffer.clear(),n&&(e.eventBuffer.hasCheckout=!0);const r=e.getOptions(),s=vN(t,r.beforeAddRecordingEvent);return s?await e.eventBuffer.addEvent(s):void 0}catch(r){const s=r&&r instanceof mf?"addEventSizeExceeded":"addEvent";ae&&T.error(r),await e.stop({reason:s});const i=se();i&&i.recordDroppedEvent("internal_sdk_error","replay")}}function Lv(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;const n=hf(t.timestamp);return n+e.timeouts.sessionIdlePause<Date.now()?!1:n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration?(Ke(`[Replay] Skipping event with timestamp ${n} because it is after maxReplayDuration`,e.getOptions()._experiments.traceInternals),!1):!0}function vN(e,t){try{if(typeof t=="function"&&gN(e))return t(e)}catch(n){return ae&&T.error("[Replay] An error occured in the `beforeAddRecordingEvent` callback, skipping the event...",n),null}return e}function xf(e){return!e.type}function Du(e){return e.type==="transaction"}function xN(e){return e.type==="replay_event"}function rm(e){return e.type==="feedback"}function Pv(e){const t=SN();return(n,r)=>{if(!e.isEnabled()||!xf(n)&&!Du(n))return;const s=r&&r.statusCode;if(!(t&&(!s||s<200||s>=300))){if(Du(n)){_N(e,n);return}wN(e,n)}}}function _N(e,t){const n=e.getContext();t.contexts&&t.contexts.trace&&t.contexts.trace.trace_id&&n.traceIds.size<100&&n.traceIds.add(t.contexts.trace.trace_id)}function wN(e,t){const n=e.getContext();if(t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id),e.recordingMode!=="buffer"||!t.tags||!t.tags.replayId)return;const{beforeErrorSampling:r}=e.getOptions();typeof r=="function"&&!r(t)||setTimeout(()=>{e.sendBufferedReplayOrFlush()})}function SN(){const e=se();if(!e)return!1;const t=e.getTransport();return t&&t.send.__sentry__baseTransport__||!1}function kN(e){return t=>{!e.isEnabled()||!xf(t)||bN(e,t)}}function bN(e,t){const n=t.exception&&t.exception.values&&t.exception.values[0].value;if(typeof n=="string"&&(n.match(/reactjs\.org\/docs\/error-decoder\.html\?invariant=(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i))){const r=qt({category:"replay.hydrate-error"});Qi(e,r)}}function EN(e,t){return e.type||!e.exception||!e.exception.values||!e.exception.values.length?!1:!!(t.originalException&&t.originalException.__rrweb__)}function CN(e,t){e.triggerUserActivity(),e.addUpdate(()=>t.timestamp?(e.throttledAddEvent({type:Y.Custom,timestamp:t.timestamp*1e3,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1):!0)}function TN(e,t){return e.recordingMode!=="buffer"||t.message===af||!t.exception||t.type?!1:Nv(e.getOptions().errorSampleRate)}function NN(e,t=!1){const n=t?Pv(e):void 0;return Object.assign((r,s)=>e.isEnabled()?xN(r)?(delete r.breadcrumbs,r):!xf(r)&&!Du(r)&&!rm(r)||!e.checkAndHandleExpiredSession()?r:rm(r)?(e.flush(),r.contexts.feedback.replay_id=e.getSessionId(),CN(e,r),r):EN(r,s)&&!e.getOptions()._experiments.captureExceptions?(ae&&T.log("[Replay] Ignoring error from rrweb internals",r),null):((TN(e,r)||e.recordingMode==="session")&&(r.tags={...r.tags,replayId:e.getSessionId()}),n&&n(r,{statusCode:200}),r):r,{id:"Replay"})}function dl(e,t){return t.map(({type:n,start:r,end:s,name:i,data:o})=>{const a=e.throttledAddEvent({type:Y.Custom,timestamp:r,data:{tag:"performanceSpan",payload:{op:n,description:i,startTimestamp:r,endTimestamp:s,data:o}}});return typeof a=="string"?Promise.resolve(null):a})}function IN(e){const{from:t,to:n}=e,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:t}}}function jN(e){return t=>{if(!e.isEnabled())return;const n=IN(t);n!==null&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate(()=>(dl(e,[n]),!1)))}}function RN(e,t){return ae&&e.getOptions()._experiments.traceInternals?!1:cb(t,se())}function fl(e,t){e.isEnabled()&&t!==null&&(RN(e,t.name)||e.addUpdate(()=>(dl(e,[t]),!0)))}function MN(e){const{startTimestamp:t,endTimestamp:n,fetchData:r,response:s}=e;if(!n)return null;const{method:i,url:o}=r;return{type:"resource.fetch",start:t/1e3,end:n/1e3,name:o,data:{method:i,statusCode:s?s.status:void 0}}}function LN(e){return t=>{if(!e.isEnabled())return;const n=MN(t);fl(e,n)}}function PN(e){const{startTimestamp:t,endTimestamp:n,xhr:r}=e,s=r[Mn];if(!t||!n||!s)return null;const{method:i,url:o,status_code:a}=s;return o===void 0?null:{type:"resource.xhr",name:o,start:t/1e3,end:n/1e3,data:{method:i,statusCode:a}}}function ON(e){return t=>{if(!e.isEnabled())return;const n=PN(t);fl(e,n)}}function pl(e,t){if(e)try{if(typeof e=="string")return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){const n=Fv(e);return t.encode(n).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch{}}function Ov(e){if(!e)return;const t=parseInt(e,10);return isNaN(t)?void 0:t}function Av(e){try{if(typeof e=="string")return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[Fv(e)];if(!e)return[void 0]}catch{return ae&&T.warn("[Replay] Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return ae&&T.info("[Replay] Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function Ra(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};const n={...e._meta},r=n.warnings||[];return n.warnings=[...r,t],e._meta=n,e}function Dv(e,t){if(!t)return null;const{startTimestamp:n,endTimestamp:r,url:s,method:i,statusCode:o,request:a,response:l}=t;return{type:e,start:n/1e3,end:r/1e3,name:s,data:Qe({method:i,statusCode:o,request:a,response:l})}}function Oi(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function Hn(e,t,n){if(!t&&Object.keys(e).length===0)return;if(!t)return{headers:e};if(!n)return{headers:e,size:t};const r={headers:e,size:t},{body:s,warnings:i}=AN(n);return r.body=s,i&&i.length>0&&(r._meta={warnings:i}),r}function Fu(e,t){return Object.keys(e).reduce((n,r)=>{const s=r.toLowerCase();return t.includes(s)&&e[r]&&(n[s]=e[r]),n},{})}function Fv(e){return new URLSearchParams(e).toString()}function AN(e){if(!e||typeof e!="string")return{body:e};const t=e.length>zh,n=DN(e);if(t){const r=e.slice(0,zh);return n?{body:r,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${r}`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(e)}}catch{}return{body:e}}function DN(e){const t=e[0],n=e[e.length-1];return t==="["&&n==="]"||t==="{"&&n==="}"}function Ma(e,t){const n=FN(e);return Rs(n,t)}function FN(e,t=ce.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(ce.location.origin))return e;const n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;const r=n.href;return!e.endsWith("/")&&r.endsWith("/")?r.slice(0,-1):r}async function $N(e,t,n){try{const r=await zN(e,t,n),s=Dv("resource.fetch",r);fl(n.replay,s)}catch(r){ae&&T.error("[Replay] Failed to capture fetch breadcrumb",r)}}function UN(e,t,n){const{input:r,response:s}=t,i=r?$v(r):void 0,o=pl(i,n.textEncoder),a=s?Ov(s.headers.get("content-length")):void 0;o!==void 0&&(e.data.request_body_size=o),a!==void 0&&(e.data.response_body_size=a)}async function zN(e,t,n){const r=Date.now(),{startTimestamp:s=r,endTimestamp:i=r}=t,{url:o,method:a,status_code:l=0,request_body_size:u,response_body_size:f}=e.data,d=Ma(o,n.networkDetailAllowUrls)&&!Ma(o,n.networkDetailDenyUrls),p=d?BN(n,t.input,u):Oi(u),g=await HN(d,n,t.response,f);return{startTimestamp:s,endTimestamp:i,url:o,method:a,statusCode:l,request:p,response:g}}function BN({networkCaptureBodies:e,networkRequestHeaders:t},n,r){const s=n?GN(n,t):{};if(!e)return Hn(s,r,void 0);const i=$v(n),[o,a]=Av(i),l=Hn(s,r,o);return a?Ra(l,a):l}async function HN(e,{networkCaptureBodies:t,textEncoder:n,networkResponseHeaders:r},s,i){if(!e&&i!==void 0)return Oi(i);const o=s?Uv(s.headers,r):{};if(!s||!t&&i!==void 0)return Hn(o,i,void 0);const[a,l]=await VN(s),u=WN(a,{networkCaptureBodies:t,textEncoder:n,responseBodySize:i,captureDetails:e,headers:o});return l?Ra(u,l):u}function WN(e,{networkCaptureBodies:t,textEncoder:n,responseBodySize:r,captureDetails:s,headers:i}){try{const o=e&&e.length&&r===void 0?pl(e,n):r;return s?t?Hn(i,o,e):Hn(i,o,void 0):Oi(o)}catch(o){return ae&&T.warn("[Replay] Failed to serialize response body",o),Hn(i,r,void 0)}}async function VN(e){const t=YN(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{return[await qN(t)]}catch(n){return ae&&T.warn("[Replay] Failed to get text body from response",n),[void 0,"BODY_PARSE_ERROR"]}}function $v(e=[]){if(!(e.length!==2||typeof e[1]!="object"))return e[1].body}function Uv(e,t){const n={};return t.forEach(r=>{e.get(r)&&(n[r]=e.get(r))}),n}function GN(e,t){return e.length===1&&typeof e[0]!="string"?sm(e[0],t):e.length===2?sm(e[1],t):{}}function sm(e,t){if(!e)return{};const n=e.headers;return n?n instanceof Headers?Uv(n,t):Array.isArray(n)?{}:Fu(n,t):{}}function YN(e){try{return e.clone()}catch(t){ae&&T.warn("[Replay] Failed to clone response body",t)}}function qN(e){return new Promise((t,n)=>{const r=setTimeout(()=>n(new Error("Timeout while trying to read response body")),500);KN(e).then(s=>t(s),s=>n(s)).finally(()=>clearTimeout(r))})}async function KN(e){return await e.text()}async function XN(e,t,n){try{const r=JN(e,t,n),s=Dv("resource.xhr",r);fl(n.replay,s)}catch(r){ae&&T.error("[Replay] Failed to capture xhr breadcrumb",r)}}function QN(e,t,n){const{xhr:r,input:s}=t;if(!r)return;const i=pl(s,n.textEncoder),o=r.getResponseHeader("content-length")?Ov(r.getResponseHeader("content-length")):nI(r.response,r.responseType,n.textEncoder);i!==void 0&&(e.data.request_body_size=i),o!==void 0&&(e.data.response_body_size=o)}function JN(e,t,n){const r=Date.now(),{startTimestamp:s=r,endTimestamp:i=r,input:o,xhr:a}=t,{url:l,method:u,status_code:f=0,request_body_size:d,response_body_size:p}=e.data;if(!l)return null;if(!a||!Ma(l,n.networkDetailAllowUrls)||Ma(l,n.networkDetailDenyUrls)){const C=Oi(d),k=Oi(p);return{startTimestamp:s,endTimestamp:i,url:l,method:u,statusCode:f,request:C,response:k}}const g=a[Mn],y=g?Fu(g.request_headers,n.networkRequestHeaders):{},x=Fu(ZN(a),n.networkResponseHeaders),[_,h]=n.networkCaptureBodies?Av(o):[void 0],[m,v]=n.networkCaptureBodies?eI(a):[void 0],w=Hn(y,d,_),b=Hn(x,p,m);return{startTimestamp:s,endTimestamp:i,url:l,method:u,statusCode:f,request:h?Ra(w,h):w,response:v?Ra(b,v):b}}function ZN(e){const t=e.getAllResponseHeaders();return t?t.split(`\r
`).reduce((n,r)=>{const[s,i]=r.split(": ");return n[s.toLowerCase()]=i,n},{}):{}}function eI(e){const t=[];try{return[e.responseText]}catch(n){t.push(n)}try{return tI(e.response,e.responseType)}catch(n){t.push(n)}return ae&&T.warn("[Replay] Failed to get xhr response body",...t),[void 0]}function tI(e,t){try{if(typeof e=="string")return[e];if(e instanceof Document)return[e.body.outerHTML];if(t==="json"&&e&&typeof e=="object")return[JSON.stringify(e)];if(!e)return[void 0]}catch{return ae&&T.warn("[Replay] Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return ae&&T.info("[Replay] Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function nI(e,t,n){try{const r=t==="json"&&e&&typeof e=="object"?JSON.stringify(e):e;return pl(r,n)}catch{return}}function rI(e){const t=se();try{const n=new TextEncoder,{networkDetailAllowUrls:r,networkDetailDenyUrls:s,networkCaptureBodies:i,networkRequestHeaders:o,networkResponseHeaders:a}=e.getOptions(),l={replay:e,textEncoder:n,networkDetailAllowUrls:r,networkDetailDenyUrls:s,networkCaptureBodies:i,networkRequestHeaders:o,networkResponseHeaders:a};t&&t.on?t.on("beforeAddBreadcrumb",(u,f)=>sI(l,u,f)):(Hd(LN(e)),Wd(ON(e)))}catch{}}function sI(e,t,n){if(t.data)try{iI(t)&&aI(n)&&(QN(t,n,e),XN(t,n,e)),oI(t)&&lI(n)&&(UN(t,n,e),$N(t,n,e))}catch{ae&&T.warn("Error when enriching network breadcrumb")}}function iI(e){return e.category==="xhr"}function oI(e){return e.category==="fetch"}function aI(e){return e&&e.xhr}function lI(e){return e&&e.response}let im=null;function cI(e){return!!e.category}const uI=e=>t=>{if(!e.isEnabled())return;const n=dI(t);n&&Qi(e,n)};function dI(e){const t=e.getLastBreadcrumb&&e.getLastBreadcrumb();return im===t||!t||(im=t,!cI(t)||["fetch","xhr","sentry.event","sentry.transaction"].includes(t.category)||t.category.startsWith("ui."))?null:t.category==="console"?fI(t):qt(t)}function fI(e){const t=e.data&&e.data.arguments;if(!Array.isArray(t)||t.length===0)return qt(e);let n=!1;const r=t.map(s=>{if(!s)return s;if(typeof s=="string")return s.length>Io?(n=!0,`${s.slice(0,Io)}`):s;if(typeof s=="object")try{const i=Wt(s,7);return JSON.stringify(i).length>Io?(n=!0,`${JSON.stringify(i,null,2).slice(0,Io)}`):i}catch{}return s});return qt({...e,data:{...e.data,arguments:r,...n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}function pI(e){const t=ht(),n=se();t.addScopeListener(uI(e)),ny(WT(e)),el(jN(e)),rI(e);const r=NN(e,!om(n));n&&n.addEventProcessor?n.addEventProcessor(r):nb(r),om(n)&&(n.on("beforeSendEvent",kN(e)),n.on("afterSendEvent",Pv(e)),n.on("createDsc",s=>{const i=e.getSessionId();i&&e.isEnabled()&&e.recordingMode==="session"&&e.checkAndHandleExpiredSession()&&(s.replay_id=i)}),n.on("startTransaction",s=>{e.lastTransaction=s}),n.on("finishTransaction",s=>{e.lastTransaction=s}),n.on("beforeSendFeedback",(s,i)=>{const o=e.getSessionId();i&&i.includeReplay&&e.isEnabled()&&o&&s.contexts&&s.contexts.feedback&&(s.contexts.feedback.replay_id=o)}))}function om(e){return!!(e&&e.on)}async function hI(e){try{return Promise.all(dl(e,[mI(ce.performance.memory)]))}catch{return[]}}function mI(e){const{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}=e,s=Date.now()/1e3;return{type:"memory",name:"memory",start:s,end:s,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}}}}function gI(e,t,n){let r,s,i;const o=n&&n.maxWait?Math.max(n.maxWait,t):0;function a(){return l(),r=e(),r}function l(){s!==void 0&&clearTimeout(s),i!==void 0&&clearTimeout(i),s=i=void 0}function u(){return s!==void 0||i!==void 0?a():r}function f(){return s&&clearTimeout(s),s=setTimeout(a,t),o&&i===void 0&&(i=setTimeout(a,o)),r}return f.cancel=l,f.flush=u,f}function yI(e){let t=!1;return(n,r)=>{if(!e.checkAndHandleExpiredSession()){ae&&T.warn("[Replay] Received replay event after session expired.");return}const s=r||!t;t=!0,e.clickDetector&&$T(e.clickDetector,n),e.addUpdate(()=>{if(e.recordingMode==="buffer"&&s&&e.setInitialState(),!vf(e,n,s))return!0;if(!s)return!1;if(xI(e,s),e.session&&e.session.previousSessionId)return!0;if(e.recordingMode==="buffer"&&e.session&&e.eventBuffer){const i=e.eventBuffer.getEarliestTimestamp();i&&(Ke(`[Replay] Updating session start time to earliest event in buffer to ${new Date(i)}`,e.getOptions()._experiments.traceInternals),e.session.started=i,e.getOptions().stickySession&&yf(e.session))}return e.recordingMode==="session"&&e.flush(),!0})}}function vI(e){const t=e.getOptions();return{type:Y.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:e.eventBuffer?e.eventBuffer.type==="worker":!1,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}function xI(e,t){!t||!e.session||e.session.segmentId!==0||vf(e,vI(e),!1)}function _I(e,t,n,r){return Zn(uy(e,Yd(e),r,n),[[{type:"replay_event"},e],[{type:"replay_recording",length:typeof t=="string"?new TextEncoder().encode(t).length:t.length},t]])}function wI({recordingData:e,headers:t}){let n;const r=`${JSON.stringify(t)}
`;if(typeof e=="string")n=`${r}${e}`;else{const i=new TextEncoder().encode(r);n=new Uint8Array(i.length+e.length),n.set(i),n.set(e,i.length)}return n}async function SI({client:e,scope:t,replayId:n,event:r}){const s=typeof e._integrations=="object"&&e._integrations!==null&&!Array.isArray(e._integrations)?Object.keys(e._integrations):void 0,i={event_id:n,integrations:s};e.emit&&e.emit("preprocessEvent",r,i);const o=await gy(e.getOptions(),r,i,t,e,er());if(!o)return null;o.platform=o.platform||"javascript";const a=e.getSdkMetadata&&e.getSdkMetadata(),{name:l,version:u}=a&&a.sdk||{};return o.sdk={...o.sdk,name:l||"sentry.javascript.unknown",version:u||"0.0.0"},o}async function kI({recordingData:e,replayId:t,segmentId:n,eventContext:r,timestamp:s,session:i}){const o=wI({recordingData:e,headers:{segment_id:n}}),{urls:a,errorIds:l,traceIds:u,initialTimestamp:f}=r,d=se(),p=ht(),g=d&&d.getTransport(),y=d&&d.getDsn();if(!d||!g||!y||!i.sampled)return;const x={type:aC,replay_start_timestamp:f/1e3,timestamp:s/1e3,error_ids:l,trace_ids:u,urls:a,replay_id:t,segment_id:n,replay_type:i.sampled},_=await SI({scope:p,client:d,replayId:t,event:x});if(!_){d.recordDroppedEvent("event_processor","replay",x),Ke("An event processor returned `null`, will not send event.");return}delete _.sdkProcessingMetadata;const h=_I(_,o,y,d.getOptions().tunnel);let m;try{m=await g.send(h)}catch(w){const b=new Error(af);try{b.cause=w}catch{}throw b}if(!m)return m;if(typeof m.statusCode=="number"&&(m.statusCode<200||m.statusCode>=300))throw new zv(m.statusCode);const v=fy({},m);if(dy(v,"replay"))throw new Bv(v);return m}class zv extends Error{constructor(t){super(`Transport returned status code ${t}`)}}class Bv extends Error{constructor(t){super("Rate limit hit"),this.rateLimits=t}}async function Hv(e,t={count:0,interval:pC}){const{recordingData:n,options:r}=e;if(n.length)try{return await kI(e),!0}catch(s){if(s instanceof zv||s instanceof Bv)throw s;if(pk("Replays",{_retryCount:t.count}),ae&&r._experiments&&r._experiments.captureExceptions&&sl(s),t.count>=hC){const i=new Error(`${af} - max retries exceeded`);try{i.cause=s}catch{}throw i}return t.interval*=++t.count,new Promise((i,o)=>{setTimeout(async()=>{try{await Hv(e,t),i(!0)}catch(a){o(a)}},t.interval)})}}const Wv="__THROTTLED",bI="__SKIPPED";function EI(e,t,n){const r=new Map,s=a=>{const l=a-n;r.forEach((u,f)=>{f<l&&r.delete(f)})},i=()=>[...r.values()].reduce((a,l)=>a+l,0);let o=!1;return(...a)=>{const l=Math.floor(Date.now()/1e3);if(s(l),i()>=t){const f=o;return o=!0,f?bI:Wv}o=!1;const u=r.get(l)||0;return r.set(l,u+1),e(...a)}}class En{constructor({options:t,recordingOptions:n}){En.prototype.__init.call(this),En.prototype.__init2.call(this),En.prototype.__init3.call(this),En.prototype.__init4.call(this),En.prototype.__init5.call(this),En.prototype.__init6.call(this),this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:lC,sessionIdleExpire:cC},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=n,this._options=t,this._debouncedFlush=gI(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=EI((o,a)=>yN(this,o,a),300,5);const{slowClickTimeout:r,slowClickIgnoreSelectors:s}=this.getOptions(),i=r?{threshold:Math.min(mC,r),timeout:r,scrollTimeout:gC,ignoreSelector:s?s.join(","):""}:void 0;i&&(this.clickDetector=new OT(this,i))}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}initializeSampling(t){const{errorSampleRate:n,sessionSampleRate:r}=this._options;if(!(n<=0&&r<=0)){if(this._initializeSessionForSampling(t),!this.session){this._handleException(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",ls(`[Replay] Starting replay in ${this.recordingMode} mode`,this._options._experiments.traceInternals),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session")throw new Error("Replay recording is already in progress");if(this._isEnabled&&this.recordingMode==="buffer")throw new Error("Replay buffering is in progress, call `flush()` to save the replay");ls("[Replay] Starting replay in session mode",this._options._experiments.traceInternals),this._updateUserActivity();const t=fc({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=t,this._initializeRecording()}startBuffering(){if(this._isEnabled)throw new Error("Replay recording is already in progress");ls("[Replay] Starting replay in buffer mode",this._options._experiments.traceInternals);const t=fc({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=t,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const t=this._canvas;this._stopRecording=Bn({...this._recordingOptions,...this.recordingMode==="buffer"&&{checkoutEveryNms:fC},emit:yI(this),onMutation:this._onMutationHandler,...t?{recordCanvas:t.recordCanvas,getCanvasManager:t.getCanvasManager,sampling:t.sampling,dataURLOptions:t.dataURLOptions}:{}})}catch(t){this._handleException(t)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(t){return this._handleException(t),!1}}async stop({forceFlush:t=!1,reason:n}={}){if(this._isEnabled){this._isEnabled=!1;try{Ke(`[Replay] Stopping Replay${n?` triggered by ${n}`:""}`,this._options._experiments.traceInternals),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),t&&await this._flush({force:!0}),this.eventBuffer&&this.eventBuffer.destroy(),this.eventBuffer=null,fN(this)}catch(r){this._handleException(r)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),Ke("[Replay] Pausing replay",this._options._experiments.traceInternals))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),Ke("[Replay] Resuming replay",this._options._experiments.traceInternals))}async sendBufferedReplayOrFlush({continueRecording:t=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();const n=Date.now();Ke("[Replay] Converting buffer to session",this._options._experiments.traceInternals),await this.flushImmediate();const r=this.stopRecording();!t||!r||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this._updateUserActivity(n),this._updateSessionActivity(n),this._maybeSaveSession()),this.startRecording())}addUpdate(t){const n=t();this.recordingMode!=="buffer"&&n!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session&&this.session.id}checkAndHandleExpiredSession(){if(this._lastActivity&&Au(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){const t=`${ce.location.pathname}${ce.location.hash}${ce.location.search}`,n=`${ce.location.origin}${t}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=n,this._context.initialTimestamp=Date.now(),this._context.urls.push(n)}throttledAddEvent(t,n){const r=this._throttledAddEvent(t,n);if(r===Wv){const s=qt({category:"replay.throttled"});this.addUpdate(()=>!vf(this,{type:IT,timestamp:s.timestamp||0,data:{tag:"breadcrumb",payload:s,metric:!0}}))}return r}getCurrentRoute(){const t=this.lastTransaction||ht().getTransaction(),r=(t&&Te(t).data||{})[ln];if(!(!t||!r||!["route","custom"].includes(r)))return Te(t).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=cN({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_handleException(t){ae&&T.error("[Replay]",t),ae&&this._options._experiments&&this._options._experiments.captureExceptions&&sl(t)}_initializeSessionForSampling(t){const n=this._options.errorSampleRate>0,r=fc({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals,previousSessionId:t},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:n});this.session=r}_checkSession(){if(!this.session)return!1;const t=this.session;return Rv(t,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(t),!1):!0}async _refreshSession(t){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(t.id))}_addListeners(){try{ce.document.addEventListener("visibilitychange",this._handleVisibilityChange),ce.addEventListener("blur",this._handleWindowBlur),ce.addEventListener("focus",this._handleWindowFocus),ce.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(pI(this),this._hasInitializedCoreListeners=!0)}catch(t){this._handleException(t)}this._performanceCleanupCallback=rN(this)}_removeListeners(){try{ce.document.removeEventListener("visibilitychange",this._handleVisibilityChange),ce.removeEventListener("blur",this._handleWindowBlur),ce.removeEventListener("focus",this._handleWindowFocus),ce.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(t){this._handleException(t)}}__init(){this._handleVisibilityChange=()=>{ce.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()}}__init2(){this._handleWindowBlur=()=>{const t=qt({category:"ui.blur"});this._doChangeToBackgroundTasks(t)}}__init3(){this._handleWindowFocus=()=>{const t=qt({category:"ui.focus"});this._doChangeToForegroundTasks(t)}}__init4(){this._handleKeyboardEvent=t=>{qT(this,t)}}_doChangeToBackgroundTasks(t){!this.session||jv(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(t&&this._createCustomBreadcrumb(t),this.conditionalFlush())}_doChangeToForegroundTasks(t){if(!this.session)return;if(!this.checkAndHandleExpiredSession()){Ke("[Replay] Document has become active, but session has expired");return}t&&this._createCustomBreadcrumb(t)}_updateUserActivity(t=Date.now()){this._lastActivity=t}_updateSessionActivity(t=Date.now()){this.session&&(this.session.lastActivity=t,this._maybeSaveSession())}_createCustomBreadcrumb(t){this.addUpdate(()=>{this.throttledAddEvent({type:Y.Custom,timestamp:t.timestamp||0,data:{tag:"breadcrumb",payload:t}})})}_addPerformanceEntries(){const t=QT(this.performanceEntries).concat(this.replayPerformanceEntries);return this.performanceEntries=[],this.replayPerformanceEntries=[],Promise.all(dl(this,t))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:t,eventBuffer:n}=this;if(!t||!n||t.segmentId)return;const r=n.getEarliestTimestamp();r&&r<this._context.initialTimestamp&&(this._context.initialTimestamp=r)}_popEventContext(){const t={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),t}async _runFlush(){const t=this.getSessionId();if(!this.session||!this.eventBuffer||!t){ae&&T.error("[Replay] No session or eventBuffer found to flush.");return}if(await this._addPerformanceEntries(),!(!this.eventBuffer||!this.eventBuffer.hasEvents)&&(await hI(this),!!this.eventBuffer&&t===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const n=Date.now();if(n-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const r=this._popEventContext(),s=this.session.segmentId++;this._maybeSaveSession();const i=await this.eventBuffer.finish();await Hv({replayId:t,recordingData:i,segmentId:s,eventContext:r,session:this.session,options:this.getOptions(),timestamp:n})}catch(n){this._handleException(n),this.stop({reason:"sendReplay"});const r=se();r&&r.recordDroppedEvent("send_error","replay")}}__init5(){this._flush=async({force:t=!1}={})=>{if(!this._isEnabled&&!t)return;if(!this.checkAndHandleExpiredSession()){ae&&T.error("[Replay] Attempting to finish replay event after session expired.");return}if(!this.session)return;const n=this.session.started,s=Date.now()-n;this._debouncedFlush.cancel();const i=s<this._options.minReplayDuration,o=s>this._options.maxReplayDuration+5e3;if(i||o){Ke(`[Replay] Session duration (${Math.floor(s/1e3)}s) is too ${i?"short":"long"}, not sending replay.`,this._options._experiments.traceInternals),i&&this._debouncedFlush();return}const a=this.eventBuffer;if(a&&this.session.segmentId===0&&!a.hasCheckout&&Ke("[Replay] Flushing initial segment without checkout.",this._options._experiments.traceInternals),!this._flushLock){this._flushLock=this._runFlush(),await this._flushLock,this._flushLock=void 0;return}try{await this._flushLock}catch(l){ae&&T.error(l)}finally{this._debouncedFlush()}}}_maybeSaveSession(){this.session&&this._options.stickySession&&yf(this.session)}__init6(){this._onMutationHandler=t=>{const n=t.length,r=this._options.mutationLimit,s=this._options.mutationBreadcrumbLimit,i=r&&n>r;if(n>s||i){const o=qt({category:"replay.mutations",data:{count:n,limit:i}});this._createCustomBreadcrumb(o)}return i?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}}}function Gs(e,t,n,r){const s=typeof r=="string"?r.split(","):[],i=[...e,...s,...t];return typeof n<"u"&&(typeof n=="string"&&i.push(`.${n}`),xr(()=>{console.warn("[Replay] You are using a deprecated configuration item for privacy. Read the documentation on how to use the new privacy configuration.")})),i.join(",")}function CI({mask:e,unmask:t,block:n,unblock:r,ignore:s,blockClass:i,blockSelector:o,maskTextClass:a,maskTextSelector:l,ignoreClass:u}){const f=['base[href="/"]'],d=Gs(e,[".sentry-mask","[data-sentry-mask]"],a,l),p=Gs(t,[".sentry-unmask","[data-sentry-unmask]"]),g={maskTextSelector:d,unmaskTextSelector:p,blockSelector:Gs(n,[".sentry-block","[data-sentry-block]",...f],i,o),unblockSelector:Gs(r,[".sentry-unblock","[data-sentry-unblock]"]),ignoreSelector:Gs(s,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'],u)};return i instanceof RegExp&&(g.blockClass=i),a instanceof RegExp&&(g.maskTextClass=a),g}function TI({el:e,key:t,maskAttributes:n,maskAllText:r,privacyOptions:s,value:i}){return!r||s.unmaskTextSelector&&e.matches(s.unmaskTextSelector)?i:n.includes(t)||t==="value"&&e.tagName==="INPUT"&&["submit","button"].includes(e.getAttribute("type")||"")?i.replace(/[\S]/g,"*"):i}const am='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',NI=["content-length","content-type","accept"];let lm=!1;const II=e=>new hl(e);class hl{static __initStatic(){this.id="Replay"}constructor({flushMinDelay:t=uC,flushMaxDelay:n=dC,minReplayDuration:r=yC,maxReplayDuration:s=Bh,stickySession:i=!0,useCompression:o=!0,workerUrl:a,_experiments:l={},sessionSampleRate:u,errorSampleRate:f,maskAllText:d=!0,maskAllInputs:p=!0,blockAllMedia:g=!0,mutationBreadcrumbLimit:y=750,mutationLimit:x=1e4,slowClickTimeout:_=7e3,slowClickIgnoreSelectors:h=[],networkDetailAllowUrls:m=[],networkDetailDenyUrls:v=[],networkCaptureBodies:w=!0,networkRequestHeaders:b=[],networkResponseHeaders:C=[],mask:k=[],maskAttributes:j=["title","placeholder"],unmask:O=[],block:I=[],unblock:A=[],ignore:G=[],maskFn:U,beforeAddRecordingEvent:z,beforeErrorSampling:M,blockClass:P,blockSelector:B,maskInputOptions:S,maskTextClass:E,maskTextSelector:R,ignoreClass:H}={}){this.name=hl.id;const W=CI({mask:k,unmask:O,block:I,unblock:A,ignore:G,blockClass:P,blockSelector:B,maskTextClass:E,maskTextSelector:R,ignoreClass:H});if(this._recordingOptions={maskAllInputs:p,maskAllText:d,maskInputOptions:{...S||{},password:!0},maskTextFn:U,maskInputFn:U,maskAttributeFn:(re,we,Ge)=>TI({maskAttributes:j,maskAllText:d,privacyOptions:W,key:re,value:we,el:Ge}),...W,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:re=>{try{re.__rrweb__=!0}catch{}}},this._initialOptions={flushMinDelay:t,flushMaxDelay:n,minReplayDuration:Math.min(r,vC),maxReplayDuration:Math.min(s,Bh),stickySession:i,sessionSampleRate:u,errorSampleRate:f,useCompression:o,workerUrl:a,blockAllMedia:g,maskAllInputs:p,maskAllText:d,mutationBreadcrumbLimit:y,mutationLimit:x,slowClickTimeout:_,slowClickIgnoreSelectors:h,networkDetailAllowUrls:m,networkDetailDenyUrls:v,networkCaptureBodies:w,networkRequestHeaders:cm(b),networkResponseHeaders:cm(C),beforeAddRecordingEvent:z,beforeErrorSampling:M,_experiments:l},typeof u=="number"&&(console.warn(`[Replay] You are passing \`sessionSampleRate\` to the Replay integration.
This option is deprecated and will be removed soon.
Instead, configure \`replaysSessionSampleRate\` directly in the SDK init options, e.g.:
Sentry.init({ replaysSessionSampleRate: ${u} })`),this._initialOptions.sessionSampleRate=u),typeof f=="number"&&(console.warn(`[Replay] You are passing \`errorSampleRate\` to the Replay integration.
This option is deprecated and will be removed soon.
Instead, configure \`replaysOnErrorSampleRate\` directly in the SDK init options, e.g.:
Sentry.init({ replaysOnErrorSampleRate: ${f} })`),this._initialOptions.errorSampleRate=f),this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${am}`:am),this._isInitialized&&ah())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return lm}set _isInitialized(t){lm=t}setupOnce(){ah()&&(this._setup(),setTimeout(()=>this._initialize()))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(t){return!this._replay||!this._replay.isEnabled()?Promise.resolve():this._replay.sendBufferedReplayOrFlush(t)}getReplayId(){if(!(!this._replay||!this._replay.isEnabled()))return this._replay.getSessionId()}_initialize(){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(),this._replay.initializeSampling())}_setup(){const t=jI(this._initialOptions);this._replay=new En({options:t,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(){try{const n=se().getIntegrationByName("ReplayCanvas");if(!n)return;this._replay._canvas=n.getOptions()}catch{}}}hl.__initStatic();function jI(e){const t=se(),n=t&&t.getOptions(),r={sessionSampleRate:0,errorSampleRate:0,...Qe(e)};return n?(e.sessionSampleRate==null&&e.errorSampleRate==null&&n.replaysSessionSampleRate==null&&n.replaysOnErrorSampleRate==null&&xr(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),typeof n.replaysSessionSampleRate=="number"&&(r.sessionSampleRate=n.replaysSessionSampleRate),typeof n.replaysOnErrorSampleRate=="number"&&(r.errorSampleRate=n.replaysOnErrorSampleRate),r):(xr(()=>{console.warn("SDK client is not available.")}),r)}function cm(e){return[...NI,...e.map(t=>t.toLowerCase())]}function RI(e){const t={...e};Fy(t,"react"),iC(t)}var Vv={exports:{}},oe={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var De=typeof Symbol=="function"&&Symbol.for,_f=De?Symbol.for("react.element"):60103,wf=De?Symbol.for("react.portal"):60106,ml=De?Symbol.for("react.fragment"):60107,gl=De?Symbol.for("react.strict_mode"):60108,yl=De?Symbol.for("react.profiler"):60114,vl=De?Symbol.for("react.provider"):60109,xl=De?Symbol.for("react.context"):60110,Sf=De?Symbol.for("react.async_mode"):60111,_l=De?Symbol.for("react.concurrent_mode"):60111,wl=De?Symbol.for("react.forward_ref"):60112,Sl=De?Symbol.for("react.suspense"):60113,MI=De?Symbol.for("react.suspense_list"):60120,kl=De?Symbol.for("react.memo"):60115,bl=De?Symbol.for("react.lazy"):60116,LI=De?Symbol.for("react.block"):60121,PI=De?Symbol.for("react.fundamental"):60117,OI=De?Symbol.for("react.responder"):60118,AI=De?Symbol.for("react.scope"):60119;function mt(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case _f:switch(e=e.type,e){case Sf:case _l:case ml:case yl:case gl:case Sl:return e;default:switch(e=e&&e.$$typeof,e){case xl:case wl:case bl:case kl:case vl:return e;default:return t}}case wf:return t}}}function Gv(e){return mt(e)===_l}oe.AsyncMode=Sf;oe.ConcurrentMode=_l;oe.ContextConsumer=xl;oe.ContextProvider=vl;oe.Element=_f;oe.ForwardRef=wl;oe.Fragment=ml;oe.Lazy=bl;oe.Memo=kl;oe.Portal=wf;oe.Profiler=yl;oe.StrictMode=gl;oe.Suspense=Sl;oe.isAsyncMode=function(e){return Gv(e)||mt(e)===Sf};oe.isConcurrentMode=Gv;oe.isContextConsumer=function(e){return mt(e)===xl};oe.isContextProvider=function(e){return mt(e)===vl};oe.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===_f};oe.isForwardRef=function(e){return mt(e)===wl};oe.isFragment=function(e){return mt(e)===ml};oe.isLazy=function(e){return mt(e)===bl};oe.isMemo=function(e){return mt(e)===kl};oe.isPortal=function(e){return mt(e)===wf};oe.isProfiler=function(e){return mt(e)===yl};oe.isStrictMode=function(e){return mt(e)===gl};oe.isSuspense=function(e){return mt(e)===Sl};oe.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===ml||e===_l||e===yl||e===gl||e===Sl||e===MI||typeof e=="object"&&e!==null&&(e.$$typeof===bl||e.$$typeof===kl||e.$$typeof===vl||e.$$typeof===xl||e.$$typeof===wl||e.$$typeof===PI||e.$$typeof===OI||e.$$typeof===AI||e.$$typeof===LI)};oe.typeOf=mt;Vv.exports=oe;var DI=Vv.exports,Yv=DI,FI={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},$I={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},qv={};qv[Yv.ForwardRef]=FI;qv[Yv.Memo]=$I;const UI=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function zI(e){const t=e.match(/^([^.]+)/);return t!==null&&parseInt(t[0])>=17}const um={componentStack:null,error:null,eventId:null};function BI(e,t){const n=new WeakMap;function r(s,i){if(!n.has(s)){if(s.cause)return n.set(s,!0),r(s.cause,i);s.cause=i}}r(e,t)}class kf extends D.Component{constructor(t){super(t),kf.prototype.__init.call(this),this.state=um,this._openFallbackReportDialog=!0;const n=se();n&&n.on&&t.showDialog&&(this._openFallbackReportDialog=!1,n.on("afterSendEvent",r=>{!r.type&&r.event_id===this._lastEventId&&Uh({...t.dialogOptions,eventId:this._lastEventId})}))}componentDidCatch(t,{componentStack:n}){const{beforeCapture:r,onError:s,showDialog:i,dialogOptions:o}=this.props;vy(a=>{if(zI(D.version)&&Dd(t)){const u=new Error(t.message);u.name=`React ErrorBoundary ${t.name}`,u.stack=n,BI(t,u)}r&&r(a,t,n);const l=sl(t,{captureContext:{contexts:{react:{componentStack:n}}},mechanism:{handled:!!this.props.fallback}});s&&s(t,n,l),i&&(this._lastEventId=l,this._openFallbackReportDialog&&Uh({...o,eventId:l})),this.setState({error:t,componentStack:n,eventId:l})})}componentDidMount(){const{onMount:t}=this.props;t&&t()}componentWillUnmount(){const{error:t,componentStack:n,eventId:r}=this.state,{onUnmount:s}=this.props;s&&s(t,n,r)}__init(){this.resetErrorBoundary=()=>{const{onReset:t}=this.props,{error:n,componentStack:r,eventId:s}=this.state;t&&t(n,r,s),this.setState(um)}}render(){const{fallback:t,children:n}=this.props,r=this.state;if(r.error){let s;return typeof t=="function"?s=t({error:r.error,componentStack:r.componentStack,resetError:this.resetErrorBoundary,eventId:r.eventId}):s=t,D.isValidElement(s)?s:(t&&UI&&T.warn("fallback did not produce a valid ReactElement"),null)}return typeof n=="function"?n():n}}var Kv={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},dm=N.createContext&&N.createContext(Kv),Wn=globalThis&&globalThis.__assign||function(){return Wn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Wn.apply(this,arguments)},HI=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};function Xv(e){return e&&e.map(function(t,n){return N.createElement(t.tag,Wn({key:n},t.attr),Xv(t.child))})}function de(e){return function(t){return N.createElement(WI,Wn({attr:Wn({},e.attr)},t),Xv(e.child))}}function WI(e){var t=function(n){var r=e.attr,s=e.size,i=e.title,o=HI(e,["attr","size","title"]),a=s||n.size||"1em",l;return n.className&&(l=n.className),e.className&&(l=(l?l+" ":"")+e.className),N.createElement("svg",Wn({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:Wn(Wn({color:e.color||n.color},n.style),e.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),i&&N.createElement("title",null,i),e.children)};return dm!==void 0?N.createElement(dm.Consumer,null,function(n){return t(n)}):t(Kv)}function Es(e){return de({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"}},{tag:"circle",attr:{cx:"12",cy:"13",r:"4"}}]})(e)}function VI(e){return de({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"}}]})(e)}function GI(e){return de({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"}}]})(e)}function YI(e){return de({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"}}]})(e)}function qI(e){return de({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"}}]})(e)}function KI(e){return de({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"polygon",attr:{points:"16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76"}}]})(e)}function XI(e){return de({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}},{tag:"path",attr:{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"}}]})(e)}function QI(e){return de({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"}}]})(e)}function JI(e){return de({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"}},{tag:"path",attr:{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"}}]})(e)}function La(e){return de({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"}}]})(e)}function Qv(e){return de({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"}}]})(e)}function bf(e){return de({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}},{tag:"circle",attr:{cx:"8.5",cy:"8.5",r:"1.5"}},{tag:"polyline",attr:{points:"21 15 16 10 5 21"}}]})(e)}function ZI(e){return de({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}},{tag:"path",attr:{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"}}]})(e)}function mn(e){return de({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}},{tag:"circle",attr:{cx:"12",cy:"10",r:"3"}}]})(e)}function ej(e){return de({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"}}]})(e)}function Jv(e){return de({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"}}]})(e)}function tj(e){return de({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"16"}},{tag:"line",attr:{x1:"8",y1:"12",x2:"16",y2:"12"}}]})(e)}function nj(e){return de({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"17 1 21 5 17 9"}},{tag:"path",attr:{d:"M3 11V9a4 4 0 0 1 4-4h14"}},{tag:"polyline",attr:{points:"7 23 3 19 7 15"}},{tag:"path",attr:{d:"M21 13v2a4 4 0 0 1-4 4H3"}}]})(e)}function Ef(e){return de({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"}},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}}]})(e)}function Zv(e){return de({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"22",y1:"2",x2:"11",y2:"13"}},{tag:"polygon",attr:{points:"22 2 15 22 11 13 2 9 22 2"}}]})(e)}function ex(e){return de({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"18",cy:"5",r:"3"}},{tag:"circle",attr:{cx:"6",cy:"12",r:"3"}},{tag:"circle",attr:{cx:"18",cy:"19",r:"3"}},{tag:"line",attr:{x1:"8.59",y1:"13.51",x2:"15.42",y2:"17.49"}},{tag:"line",attr:{x1:"15.41",y1:"6.51",x2:"8.59",y2:"10.49"}}]})(e)}function tx(e){return de({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"}}]})(e)}function rj(e){return de({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"}},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"}},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"}}]})(e)}function wt(e){return de({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"}},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"}}]})(e)}function sj(e){return de({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"}}]})(e)}function $u(e){return de({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M923 283.6a260.04 260.04 0 0 0-56.9-82.8 264.4 264.4 0 0 0-84-55.5A265.34 265.34 0 0 0 679.7 125c-49.3 0-97.4 13.5-139.2 39-10 6.1-19.5 12.8-28.5 20.1-9-7.3-18.5-14-28.5-20.1-41.8-25.5-89.9-39-139.2-39-35.5 0-69.9 6.8-102.4 20.3-31.4 13-59.7 31.7-84 55.5a258.44 258.44 0 0 0-56.9 82.8c-13.9 32.3-21 66.6-21 101.9 0 33.3 6.8 68 20.3 103.3 11.3 29.5 27.5 60.1 48.2 91 32.8 48.9 77.9 99.9 133.9 151.6 92.8 85.7 184.7 144.9 188.6 147.3l23.7 15.2c10.5 6.7 24 6.7 34.5 0l23.7-15.2c3.9-2.5 95.7-61.6 188.6-147.3 56-51.7 101.1-102.7 133.9-151.6 20.7-30.9 37-61.5 48.2-91 13.5-35.3 20.3-70 20.3-103.3.1-35.3-7-69.6-20.9-101.9z"}}]})(e)}function ij({activeTab:e,onLocationChange:t}){const n=yn(),[r,s]=N.useState(!1),[i,o]=N.useState(""),a=[{name:"London",flag:"",posts:12},{name:"New York",flag:"",posts:8},{name:"Paris",flag:"",posts:15},{name:"Tokyo",flag:"",posts:6},{name:"Sydney",flag:"",posts:9},{name:"Berlin",flag:"",posts:11}],l=d=>{d.preventDefault(),i.trim()&&(t==null||t(i.trim()),window.dispatchEvent(new CustomEvent("locationChange",{detail:{location:i.trim()}})),s(!1),o(""))},u=d=>{t==null||t(d),window.dispatchEvent(new CustomEvent("locationChange",{detail:{location:d}})),s(!1)},f=()=>{s(!0)};return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"sticky top-0 z-40 bg-white/80 dark:bg-gray-950/80 backdrop-blur border-b border-gray-200 dark:border-gray-800",children:c.jsxs("div",{className:"mx-auto max-w-md px-4 h-11 flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"font-bold text-lg bg-gradient-to-tr from-green-500 via-blue-500 to-blue-600 bg-clip-text text-transparent",children:"Gazetteer"}),c.jsxs("button",{onClick:f,className:"flex items-center gap-2 px-3 py-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors","aria-label":"Discover new locations",children:[c.jsx("div",{className:"relative w-6 h-6",children:c.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-tr from-green-500 via-blue-500 to-blue-600 p-0.5",children:c.jsx("div",{className:"w-full h-full rounded-full bg-gray-950 dark:bg-gray-950 flex items-center justify-center",children:c.jsx(KI,{className:"w-3 h-3 text-white"})})})}),c.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Discover"})]})]}),c.jsxs("button",{onClick:()=>n("/stories"),className:"flex items-center gap-2 px-3 py-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors","aria-label":"View Stories",title:"Stories",children:[c.jsx("div",{className:"relative w-6 h-6",children:c.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-tr from-green-500 via-blue-500 to-blue-600 p-0.5",children:c.jsx("div",{className:"w-full h-full rounded-full bg-gray-950 dark:bg-gray-950 flex items-center justify-center",children:c.jsx(mn,{className:"w-3 h-3 text-white"})})})}),c.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Stories"})]})]})}),r&&c.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 backdrop-blur-sm animate-in fade-in duration-300",onClick:()=>s(!1),children:c.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-white dark:bg-gray-900 rounded-t-2xl shadow-2xl border-t border-gray-200 dark:border-gray-700 p-6 max-h-[70vh] overflow-y-auto animate-in slide-in-from-bottom duration-300",onClick:d=>d.stopPropagation(),children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:"Discover Locations"}),c.jsx("button",{onClick:()=>s(!1),className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:c.jsx(wt,{className:"w-5 h-5 text-gray-500"})})]}),c.jsx("form",{onSubmit:l,className:"mb-6",children:c.jsxs("div",{className:"relative",children:[c.jsx(Ef,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),c.jsx("input",{type:"text",value:i,onChange:d=>o(d.target.value),placeholder:"Search for any location...",className:"w-full pl-10 pr-4 py-3 text-gray-900 dark:text-gray-100 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl focus:ring-2 focus:ring-brand-500 focus:border-transparent placeholder-gray-500 dark:placeholder-gray-400",autoFocus:!0})]})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"Popular Locations"}),c.jsx("div",{className:"grid grid-cols-2 gap-3",children:a.map(d=>c.jsxs("button",{onClick:()=>u(d.name),className:"flex items-center gap-3 p-3 rounded-xl bg-gray-50 dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors text-left",children:[c.jsx("span",{className:"text-2xl",children:d.flag}),c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:d.name}),c.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[d.posts," posts"]})]})]},d.name))})]})]})})]})}const nx=N.createContext(null);function oj({children:e}){const[t,n]=N.useState(null);N.useEffect(()=>{var i;try{const o=localStorage.getItem("user");if(!o){const l={id:"test-user",name:"Test User",email:"test@example.com",password:"",age:25,interests:["Technology","Travel","Food"],local:"Finglas",regional:"Dublin",national:"Ireland",handle:"TestUser@Dublin",avatarUrl:void 0};n(l),localStorage.setItem("user",JSON.stringify(l));return}const a=JSON.parse(o);if(a&&!a.local){const l={id:a.id||((i=a.name)==null?void 0:i.toLowerCase())||"me",name:a.name||"Me",email:a.email||"",password:"",age:a.age||18,interests:a.interests||[],local:"",regional:"",national:"",handle:`${a.name||"User"}@Unknown`,avatarUrl:a.avatarUrl||void 0};n(l)}else n(a)}catch(o){console.error("Error loading user from localStorage:",o)}},[]);const r=i=>{const o={id:i.name.trim().toLowerCase()||"me",name:i.name.trim()||"Me",email:i.email||"",password:i.password||"",age:i.age||18,interests:i.interests||[],local:i.local||"",regional:i.regional||"",national:i.national||"",handle:i.handle||`${i.name.trim()}@Unknown`,avatarUrl:i.avatarUrl||void 0};n(o),localStorage.setItem("user",JSON.stringify(o)),ph({id:o.id,username:o.name})},s=()=>{n(null),localStorage.removeItem("user"),ph(null)};return c.jsx(nx.Provider,{value:{user:t,login:r,logout:s},children:e})}function $t(){const e=N.useContext(nx);if(!e)throw new Error("useAuth must be used within AuthProvider");return e}function rx(){const[e,t]=D.useState(navigator.onLine);return D.useEffect(()=>{const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n),window.addEventListener("offline",r),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}},[]),e}const aj=[{id:"1",userHandle:"Username@Dublin",locationLabel:"Story location",tags:["Text","text","text","text","text"],mediaUrl:"https://images.unsplash.com/photo-1529626455594-4ff0802cfb7e?q=80&w=800",stats:{likes:14,views:42,comments:3,shares:2,reclips:1},isBookmarked:!1,isFollowing:!1,userLiked:!1},{id:"2",userHandle:"Alice@Finglas",locationLabel:"Near Phoenix Park",tags:["Food","cafe","brunch","city","friends"],mediaUrl:"https://images.unsplash.com/photo-1492684223066-81342ee5ff30?q=80&w=800",stats:{likes:87,views:534,comments:12,shares:8,reclips:5},isBookmarked:!0,isFollowing:!1,userLiked:!0},{id:"3",userHandle:"Bob@Ireland",locationLabel:"Seaside",tags:["Travel","sea","wind","walk","sun"],mediaUrl:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?q=80&w=800",stats:{likes:12,views:150,comments:1,shares:0,reclips:0},isBookmarked:!1,isFollowing:!1,userLiked:!1},{id:"4",userHandle:"Sarah@NewYork",locationLabel:"Central Park",tags:["City","park","nature","urban","green"],mediaUrl:"https://images.unsplash.com/photo-1494522358652-f30e61a0b1b0?q=80&w=800",stats:{likes:45,views:234,comments:8,shares:3,reclips:2},isBookmarked:!1,isFollowing:!1,userLiked:!1},{id:"5",userHandle:"Mike@London",locationLabel:"Thames River",tags:["River","bridge","architecture","history","water"],mediaUrl:"https://images.unsplash.com/photo-1513635269975-59663e0ac1ad?q=80&w=800",stats:{likes:67,views:345,comments:15,shares:4,reclips:3},isBookmarked:!1,isFollowing:!1,userLiked:!1},{id:"6",userHandle:"Emma@Paris",locationLabel:"Eiffel Tower",tags:["Landmark","tower","architecture","france","city"],mediaUrl:"https://images.unsplash.com/photo-1511739001486-6bfe10ce785f?q=80&w=800",stats:{likes:89,views:456,comments:22,shares:6,reclips:4},isBookmarked:!1,isFollowing:!1,userLiked:!1},{id:"7",userHandle:"John@Tokyo",locationLabel:"Shibuya Crossing",tags:["City","crossing","neon","busy","urban"],mediaUrl:"https://images.unsplash.com/photo-1540959733332-eab4deabeeaf?q=80&w=800",stats:{likes:34,views:178,comments:6,shares:1,reclips:0},isBookmarked:!1,isFollowing:!1,userLiked:!1},{id:"8",userHandle:"Lisa@Sydney",locationLabel:"Opera House",tags:["Architecture","opera","harbor","australia","landmark"],mediaUrl:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?q=80&w=800",stats:{likes:56,views:289,comments:11,shares:2,reclips:1},isBookmarked:!1,isFollowing:!1,userLiked:!1}];let ge=[],fm=!1;if(fm)console.log("Posts array already initialized, length:",ge.length);else{console.log("Initializing posts array..."),ge=aj.map((t,n)=>({...t,id:`post-${t.id}-${n}-${Date.now()}-${Math.random().toString(36).substr(2,9)}`})),fm=!0,console.log("Initial posts loaded:",ge.length),console.log("Initial post IDs:",ge.map(t=>t.id)),console.log("Posts array created at:",new Date().toISOString()),console.log("Posts array reference ID:",Math.random().toString(36).substr(2,9));const e=ge.filter((t,n)=>ge.findIndex(r=>r.id===t.id)!==n);e.length>0?console.error("DUPLICATE IDs FOUND:",e.map(t=>t.id)):console.log("No duplicate IDs found in initial posts")}let Ji=[{id:"comment-1",postId:"1",userHandle:"Alice@Dublin",text:"This looks amazing! Where is this taken?",createdAt:Date.now()-36e5,likes:3,userLiked:!1,replies:[{id:"reply-1",postId:"1",userHandle:"Bob@Finglas",text:"It's at Phoenix Park! Great spot for photos.",createdAt:Date.now()-3e6,likes:1,userLiked:!1,parentId:"comment-1"},{id:"reply-2",postId:"1",userHandle:"Charlie@Ireland",text:"I was there last week, beautiful place!",createdAt:Date.now()-24e5,likes:0,userLiked:!1,parentId:"comment-1"}],replyCount:2},{id:"comment-2",postId:"1",userHandle:"Bob@Finglas",text:"Great shot! ",createdAt:Date.now()-18e5,likes:1,userLiked:!1,replies:[],replyCount:0},{id:"comment-3",postId:"2",userHandle:"Charlie@Ireland",text:"That brunch looks delicious! What cafe is this?",createdAt:Date.now()-72e5,likes:0,userLiked:!1,replies:[{id:"reply-3",postId:"2",userHandle:"Alice@Dublin",text:"It's The Fumbally! Best brunch in Dublin.",createdAt:Date.now()-6e6,likes:2,userLiked:!1,parentId:"comment-3"}],replyCount:1}];const pc={};function El(e){return pc[e]||(pc[e]={likes:{},bookmarks:{},follows:{}}),pc[e]}const Et=(e=250)=>new Promise(t=>setTimeout(t,e));function Nr(e,t){const n=El(e);return{...t,userLiked:!!n.likes[t.id],isBookmarked:!!n.bookmarks[t.id],isFollowing:!!n.follows[t.userHandle]}}async function lj(e,t,n=5,r="me",s="",i="",o=""){try{await Et();const a=e.toLowerCase();console.log("fetchPostsPage called with posts array length:",ge.length),console.log("Current posts IDs:",ge.map(p=>p.id)),console.log("Fetching posts for tab:",a,"with user data:",{userId:r,userLocal:s,userRegional:i,userNational:o,totalPosts:ge.length});const l=ge.filter(p=>{if(a==="following")return El(r).follows[p.userHandle]===!0;if(!["finglas","dublin","ireland","following"].includes(a))return p.userHandle.toLowerCase().includes(a);if(a==="finglas")return p.userHandle.toLowerCase().includes("finglas")||s==="Finglas"&&p.userHandle.toLowerCase().includes("finglas");if(a==="dublin"){const y=p.userHandle.toLowerCase().includes("dublin"),x=i==="Dublin",_=y||x;return _&&console.log("Dublin post found:",{userHandle:p.userHandle,handleContainsDublin:y,userRegionalDublin:x,text:p.text,mediaUrl:p.mediaUrl}),_}return a==="ireland"?p.userHandle.toLowerCase().includes("ireland")||o==="Ireland"&&p.userHandle.toLowerCase().includes("ireland"):p.userHandle.toLowerCase().includes(a)});console.log("Filtered posts for",a,":",l.length,"posts"),console.log("All posts:",ge.map(p=>({userHandle:p.userHandle,text:p.text,mediaUrl:p.mediaUrl}))),console.log("Filtered posts:",l.map(p=>({userHandle:p.userHandle,text:p.text,mediaUrl:p.mediaUrl})));const u=t??0,f=l.slice(u,u+n).map(p=>Nr(r,p)),d=u+f.length<l.length?u+f.length:null;return console.log("Returning page with:",{itemsCount:f.length,nextCursor:d}),{items:f,nextCursor:d}}catch(a){throw console.error("Error in fetchPostsPage:",a),a}}async function pm(e,t){await Et(150);const n=El(e),r=ge.find(i=>i.id===t),s=!!n.likes[t];return n.likes[t]=!s,r.stats.likes+=s?-1:1,Nr(e,r)}async function hm(e,t){await Et(150);const n=ge.find(s=>s.id===t),r=El(e);return r.follows[n.userHandle]=!r.follows[n.userHandle],Nr(e,n)}async function mm(e,t){await Et(100);const n=ge.find(r=>r.id===t);return n?(n.stats.views+=1,Nr(e,n)):(console.error("Post not found for incrementViews:",t),console.log("Available post IDs:",ge.map(r=>r.id)),{id:t,userHandle:"Unknown",locationLabel:"Unknown Location",tags:[],mediaUrl:"",stats:{likes:0,views:0,comments:0,shares:0,reclips:0},isBookmarked:!1,isFollowing:!1,userLiked:!1})}async function cj(e,t){await Et(100);const n=ge.find(r=>r.id===t);if(!n)throw console.error("Post not found for incrementShares:",t),new Error(`Post with id ${t} not found`);return n.stats.shares+=1,Nr(e,n)}async function gm(e,t,n){await Et(200);const r=ge.find(i=>i.id===t);if(!r)throw console.error("Original post not found for reclipPost:",t),new Error(`Original post with id ${t} not found`);r.stats.reclips+=1;const s={...r,id:`reclip-${e}-${t}-${Date.now()}`,userHandle:n,isReclipped:!0,originalPostId:t,reclippedBy:e,isBookmarked:!1,isFollowing:!1,userLiked:!1,stats:{...r.stats}};return ge.push(s),Nr(e,s)}async function uj(e){return await Et(200),Ji.filter(t=>t.postId===e)}async function sx(e,t,n){await Et(300);const r={id:crypto.randomUUID(),postId:e,userHandle:t,text:n,createdAt:Date.now(),likes:0,userLiked:!1};Ji.push(r);const s=ge.find(i=>i.id===e);return s&&(s.stats.comments+=1),r}async function dj(e){await Et(100);const t=Ji.find(n=>n.id===e);if(!t)throw new Error("Comment not found");return t.userLiked=!t.userLiked,t.likes+=t.userLiked?1:-1,t}async function fj(e,t){await Et(100);const n=Ji.find(s=>s.id===e);if(!n||!n.replies)throw new Error("Parent comment or replies not found");const r=n.replies.find(s=>s.id===t);if(!r)throw new Error("Reply not found");return r.userLiked=!r.userLiked,r.likes+=r.userLiked?1:-1,n}async function pj(e,t,n,r){await Et(300);const s={id:crypto.randomUUID(),postId:e,userHandle:n,text:r,createdAt:Date.now(),likes:0,userLiked:!1,parentId:t},i=Ji.find(o=>o.id===t);return i&&(i.replies||(i.replies=[]),i.replies.push(s),i.replyCount=(i.replyCount||0)+1),s}async function hj(e,t,n,r,s,i,o,a){await Et(500),console.log("Creating post with:",{userId:e,userHandle:t,text:n,location:r,imageUrl:s,mediaType:i,imageText:o,caption:a});const l={id:`${crypto.randomUUID()}-${Date.now()}`,userHandle:t,locationLabel:r||"Unknown Location",tags:[],mediaUrl:s||"",mediaType:i||void 0,text:n||void 0,imageText:o||void 0,caption:a||void 0,stats:{likes:0,views:0,comments:0,shares:0,reclips:0},isBookmarked:!1,isFollowing:!1,userLiked:!1};return ge.unshift(l),console.log("Post created and added to posts array. Total posts:",ge.length),console.log("New post:",l),console.log("All post IDs:",ge.map(u=>u.id)),console.log("Posts array length before createPost:",ge.length),console.log("Posts array length after createPost:",ge.length),Nr(e,l)}function Zi(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function mj(e,t){let n;const r=()=>{if(n)return n;const s=indexedDB.open(e);return s.onupgradeneeded=()=>s.result.createObjectStore(t),n=Zi(s),n.then(i=>{i.onclose=()=>n=void 0},()=>{}),n};return(s,i)=>r().then(o=>i(o.transaction(t,s).objectStore(t)))}let hc;function Cl(){return hc||(hc=mj("keyval-store","keyval")),hc}function gj(e,t=Cl()){return t("readonly",n=>Zi(n.get(e)))}function yj(e,t,n=Cl()){return n("readwrite",r=>(r.put(t,e),Zi(r.transaction)))}function vj(e,t,n=Cl()){return n("readwrite",r=>new Promise((s,i)=>{r.get(e).onsuccess=function(){try{r.put(t(this.result),e),s(Zi(r.transaction))}catch(o){i(o)}}}))}function xj(e,t=Cl()){return t("readwrite",n=>(n.delete(e),Zi(n.transaction)))}const Uu={get:gj,set:yj,del:xj,update:vj},zu="mutations";async function Ln(e){const t={...e,id:crypto.randomUUID(),at:Date.now()};await Uu.update(zu,(n=[])=>[...n,t])}async function _j(e){let t=await Uu.get(zu)??[];for(const n of t)try{await e(n),t=t.filter(r=>r.id!==n.id),await Uu.set(zu,t)}catch{break}}function St({src:e,name:t,size:n="md",className:r=""}){const i=(l=>{const u=l.trim().split(" ");return u.length===1?u[0].charAt(0).toUpperCase():(u[0].charAt(0)+u[u.length-1].charAt(0)).toUpperCase()})(t),a={sm:"w-8 h-8 text-xs",md:"w-10 h-10 text-sm",lg:"w-12 h-12 text-base",xl:"w-16 h-16 text-lg"}[n];return c.jsxs("div",{className:`${a} ${r} rounded-full overflow-hidden flex items-center justify-center relative`,children:[e?c.jsx("img",{src:e,alt:`${t}'s profile picture`,className:"w-full h-full object-cover",onError:l=>{l.target.style.display="none"}}):null,c.jsx("div",{className:`absolute inset-0 rounded-full flex items-center justify-center font-bold text-white ${e?"opacity-0":"opacity-100"} transition-opacity duration-200`,style:{background:"linear-gradient(135deg, #10b981 0%, #3b82f6 50%, #1d4ed8 100%)",boxShadow:"0 2px 8px rgba(16, 185, 129, 0.3)"},children:i})]})}function ym(e){const n=Date.now()-e,r=Math.floor(n/6e4),s=Math.floor(n/36e5),i=Math.floor(n/864e5);return r<1?"now":r<60?`${r}m`:s<24?`${s}h`:`${i}d`}function wj({comment:e,onLikeComment:t,onLikeReply:n,onReply:r,userId:s,postId:i}){var j;const{user:o}=$t(),[a,l]=N.useState(e.userLiked),[u,f]=N.useState(e.likes),[d,p]=N.useState(!1),[g,y]=N.useState(!1),[x,_]=N.useState(!1),[h,m]=N.useState(""),[v,w]=N.useState(!1);N.useEffect(()=>{l(e.userLiked),f(e.likes)},[e.userLiked,e.likes]);const b=async()=>{if(!(!h.trim()||v)){w(!0);try{await r(e.id,h.trim()),m(""),_(!1)}catch(O){console.error("Failed to add reply:",O)}finally{w(!1)}}},C=e.replyCount||0,k=C>0;return c.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700 pb-4 mb-4",children:c.jsx("div",{className:"flex items-start justify-between",children:c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx(St,{src:(o==null?void 0:o.handle)===e.userHandle?o==null?void 0:o.avatarUrl:void 0,name:((j=e.userHandle)==null?void 0:j.split("@")[0])||"User",size:"sm"}),c.jsx("span",{className:"font-medium text-sm",children:e.userHandle}),c.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:ym(e.createdAt)})]}),c.jsx("p",{className:"text-sm text-gray-800 dark:text-gray-200 mb-3",children:e.text}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("button",{onClick:()=>t(e.id),disabled:d,className:"flex items-center gap-1 px-2 py-1 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors disabled:opacity-50","aria-pressed":a,"aria-label":a?"Unlike comment":"Like comment",children:[a?c.jsx($u,{className:"text-red-500",size:16}):c.jsx(La,{size:16}),c.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:u})]}),c.jsx("button",{onClick:()=>_(!x),className:"text-xs text-gray-600 dark:text-gray-400 hover:text-brand-600 dark:hover:text-brand-400 transition-colors",children:"Reply"})]}),x&&c.jsx("div",{className:"mt-3 ml-4",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"text",value:h,onChange:O=>m(O.target.value),placeholder:"Write a reply...",className:"flex-1 px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-brand-500 focus:border-transparent text-sm",disabled:v}),c.jsx("button",{onClick:b,disabled:!h.trim()||v,className:"p-2 rounded-lg bg-brand-600 text-white disabled:opacity-50 disabled:cursor-not-allowed hover:bg-brand-700 transition-colors",children:c.jsx(Zv,{size:14})})]})}),k&&c.jsxs("div",{className:"mt-3 ml-4",children:[c.jsxs("button",{onClick:()=>y(!g),className:"flex items-center gap-1 text-xs text-gray-600 dark:text-gray-400 hover:text-brand-600 dark:hover:text-brand-400 transition-colors",children:[g?c.jsx(qI,{size:14}):c.jsx(VI,{size:14}),"View ",C," ",C===1?"reply":"replies"]}),g&&e.replies&&c.jsx("div",{className:"mt-2 space-y-3",children:e.replies.map(O=>{var I;return c.jsxs("div",{className:"border-l-2 border-gray-200 dark:border-gray-700 pl-3",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx(St,{src:(o==null?void 0:o.handle)===O.userHandle?o==null?void 0:o.avatarUrl:void 0,name:((I=O.userHandle)==null?void 0:I.split("@")[0])||"User",size:"sm"}),c.jsx("span",{className:"font-medium text-xs",children:O.userHandle}),c.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:ym(O.createdAt)})]}),c.jsx("p",{className:"text-xs text-gray-800 dark:text-gray-200 mb-2",children:O.text}),c.jsxs("button",{onClick:()=>n(e.id,O.id),className:"flex items-center gap-1 px-1 py-1 rounded hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:[O.userLiked?c.jsx($u,{className:"text-red-500",size:12}):c.jsx(La,{size:12}),c.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:O.likes})]})]},O.id)})})]})]})})})}function Sj({placeholder:e,onSubmit:t,isLoading:n}){const{user:r}=$t(),[s,i]=N.useState(""),o=a=>{a.preventDefault(),s.trim()&&!n&&(t(s.trim()),i(""))};return c.jsxs("form",{onSubmit:o,className:"flex items-center gap-2 p-3 border-t border-gray-200 dark:border-gray-700",children:[c.jsx(St,{src:r==null?void 0:r.avatarUrl,name:(r==null?void 0:r.name)||"User",size:"sm"}),c.jsx("input",{type:"text",value:s,onChange:a=>i(a.target.value),placeholder:e,className:"flex-1 px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-brand-500 focus:border-transparent",disabled:n}),c.jsx("button",{type:"submit",disabled:!s.trim()||n,className:"p-2 rounded-lg bg-brand-600 text-white disabled:opacity-50 disabled:cursor-not-allowed hover:bg-brand-700 transition-colors",children:c.jsx(Zv,{size:16})})]})}function kj({postId:e,isOpen:t,onClose:n}){const{user:r}=$t(),s=rx(),[i,o]=N.useState([]),[a,l]=N.useState(!1),[u,f]=N.useState(!1);N.useEffect(()=>{t&&d()},[t,e]);const d=async()=>{l(!0);try{const _=await uj(e);o(_)}catch(_){console.error("Failed to load comments:",_)}finally{l(!1)}},p=async _=>{if(r){f(!0);try{if(!s){await Ln({type:"comment",postId:e,userId:r.id,text:_});return}const h=await sx(e,r.handle||"darraghdublin",_);o(m=>[...m,h]),window.dispatchEvent(new CustomEvent(`commentAdded-${e}`))}catch(h){console.error("Failed to add comment:",h)}finally{f(!1)}}},g=async _=>{if(r)try{if(!s){await Ln({type:"commentLike",commentId:_,userId:r.id});return}const h=await dj(_);o(m=>m.map(v=>v.id===_?h:v))}catch(h){console.error("Failed to like comment:",h)}},y=async(_,h)=>{if(r)try{if(!s){await Ln({type:"replyLike",parentCommentId:_,replyId:h,userId:r.id});return}const m=await fj(_,h);o(v=>v.map(w=>w.id===_?m:w))}catch(m){console.error("Failed to like reply:",m)}},x=async(_,h)=>{if(r)try{if(!s){await Ln({type:"reply",postId:e,parentId:_,userId:r.id,text:h});return}const m=await pj(e,_,r.handle||"darraghdublin",h);o(v=>v.map(w=>{var b;return w.id===_?((b=w.replies)==null?void 0:b.find(k=>k.id===m.id))?w:{...w,replies:[...w.replies||[],m],replyCount:(w.replyCount||0)+1}:w})),window.dispatchEvent(new CustomEvent(`commentAdded-${e}`))}catch(m){console.error("Failed to add reply:",m)}};return t?c.jsxs("div",{className:"fixed inset-0 z-50 flex items-end md:items-center justify-center",children:[c.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:n}),c.jsxs("div",{className:"relative bg-white dark:bg-gray-950 w-full max-w-md h-[80vh] md:h-[70vh] rounded-t-2xl md:rounded-2xl shadow-xl flex flex-col",children:[c.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[c.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Comments"}),c.jsx("button",{onClick:n,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors","aria-label":"Close comments",children:c.jsx(wt,{size:20})})]}),c.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:a?c.jsx("div",{className:"flex items-center justify-center py-8",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-600"})}):i.length===0?c.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[c.jsx(Jv,{size:48,className:"mx-auto mb-4 opacity-50"}),c.jsx("p",{children:"No comments yet"}),c.jsx("p",{className:"text-sm",children:"Be the first to comment!"})]}):c.jsx("div",{className:"space-y-4",children:i.map(_=>c.jsx(wj,{comment:_,onLikeComment:g,onLikeReply:y,onReply:x,userId:(r==null?void 0:r.id)||"",postId:e},_.id))})}),c.jsx(Sj,{placeholder:"Write a comment...",onSubmit:p,isLoading:u}),!s&&c.jsx("div",{className:"px-4 py-2 bg-amber-50 dark:bg-amber-950 text-amber-900 dark:text-amber-200 text-xs border-t border-amber-200 dark:border-amber-800",children:"You're offline. Comments will sync when back online."})]})]}):null}const bj=({isOpen:e,onClose:t,post:n})=>{const[r,s]=D.useState(!1);if(!e)return null;const i=`${window.location.origin}/post/${n.id}`,a=`${n.text?n.text.substring(0,100)+(n.text.length>100?"...":""):"Check out this post"} by ${n.userHandle}`,l=async()=>{try{await navigator.clipboard.writeText(i),s(!0),setTimeout(()=>s(!1),2e3)}catch(d){console.error("Failed to copy link:",d)}},u=d=>{const p=encodeURIComponent(i),g=encodeURIComponent(a);let y="";switch(d){case"whatsapp":y=`https://wa.me/?text=${g}%20${p}`;break;case"facebook":y=`https://www.facebook.com/sharer/sharer.php?u=${p}`;break;case"twitter":y=`https://twitter.com/intent/tweet?text=${g}&url=${p}`;break;case"gmail":y=`mailto:?subject=${g}&body=${g}%0A%0A${p}`;break;case"linkedin":y=`https://www.linkedin.com/sharing/share-offsite/?url=${p}`;break;default:return}window.open(y,"_blank","width=600,height=400")},f=[{id:"copy",name:"Copy Link",icon:c.jsx(XI,{className:"w-6 h-6"}),color:"bg-gray-100 hover:bg-gray-200 text-gray-800",action:l},{id:"whatsapp",name:"WhatsApp",icon:c.jsx("div",{className:"w-6 h-6 bg-green-500 rounded flex items-center justify-center",children:c.jsx("span",{className:"text-white text-xs font-bold",children:"W"})}),color:"bg-green-50 hover:bg-green-100 text-green-800",action:()=>u("whatsapp")},{id:"facebook",name:"Facebook",icon:c.jsx("div",{className:"w-6 h-6 bg-blue-600 rounded flex items-center justify-center",children:c.jsx("span",{className:"text-white text-xs font-bold",children:"f"})}),color:"bg-blue-50 hover:bg-blue-100 text-blue-800",action:()=>u("facebook")},{id:"twitter",name:"X (Twitter)",icon:c.jsx("div",{className:"w-6 h-6 bg-black rounded flex items-center justify-center",children:c.jsx("span",{className:"text-white text-xs font-bold",children:"X"})}),color:"bg-gray-50 hover:bg-gray-100 text-gray-800",action:()=>u("twitter")},{id:"gmail",name:"Gmail",icon:c.jsx("div",{className:"w-6 h-6 bg-red-500 rounded flex items-center justify-center",children:c.jsx("span",{className:"text-white text-xs font-bold",children:"G"})}),color:"bg-red-50 hover:bg-red-100 text-red-800",action:()=>u("gmail")},{id:"linkedin",name:"LinkedIn",icon:c.jsx("div",{className:"w-6 h-6 bg-blue-700 rounded flex items-center justify-center",children:c.jsx("span",{className:"text-white text-xs font-bold",children:"in"})}),color:"bg-blue-50 hover:bg-blue-100 text-blue-800",action:()=>u("linkedin")}];return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-end justify-center z-50",children:c.jsxs("div",{className:"bg-white dark:bg-gray-900 w-full max-w-md rounded-t-3xl shadow-2xl transform transition-transform duration-300 ease-out",children:[c.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center",children:c.jsx(ex,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Share Post"}),c.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Share this post with others"})]})]}),c.jsx("button",{onClick:t,className:"w-8 h-8 rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:c.jsx(wt,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})})]}),c.jsxs("div",{className:"p-6",children:[c.jsx("div",{className:"grid grid-cols-2 gap-4",children:f.map(d=>c.jsxs("button",{onClick:d.action,className:`flex items-center gap-3 p-4 rounded-xl transition-all duration-200 hover:scale-105 ${d.color}`,children:[d.icon,c.jsx("span",{className:"font-medium",children:d.name}),d.id==="copy"&&r&&c.jsx("span",{className:"text-xs text-green-600 ml-auto",children:"Copied!"})]},d.id))}),c.jsx("div",{className:"mt-6 p-4 bg-gray-50 dark:bg-gray-800 rounded-xl",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-semibold text-sm",children:n.userHandle.charAt(0).toUpperCase()}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx("span",{className:"font-semibold text-gray-900 dark:text-white text-sm",children:n.userHandle}),c.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:n.locationLabel})]}),n.text&&c.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 line-clamp-2",children:n.text}),c.jsxs("div",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400",children:[c.jsx(ZI,{className:"w-3 h-3 inline mr-1"}),i]})]})]})})]})]})})};function Ej({isOpen:e,onClose:t,onNavigate:n}){const{user:r}=$t();if(!e)return null;const s=i=>{n(i),t()};return c.jsx("div",{className:"fixed inset-0 z-50 bg-black/60 backdrop-blur-sm flex items-end animate-in fade-in duration-200",onClick:t,children:c.jsxs("div",{className:"w-full bg-white dark:bg-gray-950 rounded-t-3xl animate-in slide-in-from-bottom duration-300",onClick:i=>i.stopPropagation(),children:[c.jsxs("div",{className:"px-4 pt-4 pb-2",children:[c.jsx("div",{className:"h-1 w-12 bg-gray-300 dark:bg-gray-700 rounded-full mx-auto mb-4"}),c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:"Create"}),c.jsx("button",{onClick:t,className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:c.jsx(wt,{className:"w-6 h-6 text-gray-600 dark:text-gray-400"})})]})]}),c.jsxs("div",{className:"px-4 pb-6 space-y-3",children:[c.jsxs("button",{onClick:()=>s("/clip"),className:"w-full flex items-center gap-4 p-4 rounded-xl bg-gray-50 dark:bg-gray-900 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:[c.jsx("div",{className:"w-14 h-14 rounded-full bg-gradient-to-tr from-green-500 via-blue-500 to-blue-600 p-0.5",children:c.jsx("div",{className:"w-full h-full rounded-full bg-gray-950 flex items-center justify-center",children:c.jsx(Es,{className:"w-6 h-6 text-white"})})}),c.jsxs("div",{className:"flex-1 text-left",children:[c.jsx("div",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Create Story"}),c.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Share a photo or video that disappears after 24 hours"})]})]}),c.jsxs("button",{onClick:()=>s("/create"),className:"w-full flex items-center gap-4 p-4 rounded-xl bg-gray-50 dark:bg-gray-900 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:[c.jsx("div",{className:"w-14 h-14 rounded-full bg-gray-200 dark:bg-gray-800 flex items-center justify-center",children:c.jsx(bf,{className:"w-6 h-6 text-gray-700 dark:text-gray-300"})}),c.jsxs("div",{className:"flex-1 text-left",children:[c.jsx("div",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Create Post"}),c.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Share to your newsfeed with text, photos, or videos"})]})]}),c.jsx("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-800",children:c.jsxs("div",{className:"flex items-center gap-3 px-2 py-2",children:[c.jsx(St,{src:r==null?void 0:r.avatarUrl,name:(r==null?void 0:r.name)||"User",size:"sm"}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:(r==null?void 0:r.name)||"User"}),c.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:["@",(r==null?void 0:r.handle)||"user"]})]})]})})]})]})})}function Cj({onCreateClick:e}){const t=yn(),n=Qa(),r=(s,i,o,a)=>{const l=n.pathname===s;return c.jsxs("button",{onClick:a||(()=>t(s)),className:`flex flex-col items-center justify-center flex-1 py-2 ${l?"text-brand-600 font-semibold":"text-gray-500"} transition-colors`,"aria-current":l?"page":void 0,title:i,children:[o,c.jsx("span",{className:"text-xs mt-1",children:i})]})};return c.jsx("nav",{"aria-label":"Primary navigation",className:"fixed bottom-0 inset-x-0 bg-white dark:bg-gray-950 border-t border-gray-200 dark:border-gray-800 z-40 pb-safe",children:c.jsxs("div",{className:"mx-auto max-w-md flex",children:[r("/feed","Home",c.jsx(Qv,{size:22})),r("/boost","Boost",c.jsx(sj,{size:22})),r("/create","Create",c.jsx(tj,{size:22}),e),r("/search","Search",c.jsx(Ef,{size:22})),r("/profile","Profile",c.jsx(tx,{size:22}))]})})}function ix(){const e=yn(),[t,n]=N.useState("Dublin"),[r,s]=N.useState(null),[i,o]=N.useState(!1),a=r||t;return c.jsxs(c.Fragment,{children:[c.jsxs("main",{id:"main",className:"mx-auto max-w-md min-h-screen pb-[calc(64px+theme(spacing.safe))] md:shadow-card md:rounded-2xl md:border md:border-gray-200 md:dark:border-gray-800 md:bg-white md:dark:bg-gray-950",children:[c.jsx(ij,{activeTab:a,onLocationChange:s}),c.jsx(Mw,{context:{activeTab:t,setActiveTab:n,customLocation:r,setCustomLocation:s}}),c.jsx(Cj,{onCreateClick:()=>o(!0)})]}),c.jsx(Ej,{isOpen:i,onClose:()=>o(!1),onNavigate:l=>e(l)})]})}function Tj(e){const t=["Finglas","Dublin","Ireland","Following"];return c.jsx("div",{role:"tablist","aria-label":"Locations",className:"grid grid-cols-4 gap-2 px-3",children:t.map(n=>{const r=e.active===n,s=`tab-${n}`,i=`panel-${n}`;return c.jsx("button",{id:s,role:"tab","aria-selected":r,"aria-controls":i,tabIndex:r?0:-1,onClick:()=>{var o;e.onChange(n),(o=e.onClearCustom)==null||o.call(e)},className:`rounded-md border text-sm py-2 font-medium transition-transform active:scale-[.98]
              ${r?"bg-gray-900 text-white border-gray-900 dark:bg-white dark:text-gray-900 dark:border-white shadow-sm":"bg-white border-gray-300 text-gray-800 hover:bg-gray-50 dark:bg-gray-900 dark:border-gray-700 dark:text-gray-200 dark:hover:bg-gray-800"}`,children:n},n)})})}function Nj({initial:e,onToggle:t}){const[n,r]=N.useState(e),[s,i]=N.useState(!1);async function o(){if(!s){i(!0),r(a=>!a);try{await t()}finally{i(!1)}}}return c.jsx("button",{onClick:o,disabled:s,"aria-pressed":n,"aria-label":n?"Unfollow user":"Follow user",title:n?"Unfollow":"Follow",className:`px-3 py-2 rounded-lg border text-sm font-medium disabled:opacity-60 transition-transform active:scale-[.98]
        ${n?"bg-gray-100 border-gray-300 text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-200":"bg-white border-gray-300 text-gray-800 dark:bg-gray-900 dark:border-gray-700 dark:text-gray-200"}`,children:n?"Following":"Follow +"})}function Ij({post:e,onFollow:t}){const{user:n}=$t(),r=`post-title-${e.id}`,s=(n==null?void 0:n.handle)===e.userHandle,i=s?n==null?void 0:n.avatarUrl:void 0;return c.jsxs("div",{className:"flex items-start justify-between px-4 mt-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(St,{src:i,name:e.userHandle.split("@")[0],size:"sm"}),c.jsxs("div",{children:[c.jsx("h3",{id:r,className:"font-semibold",children:e.userHandle}),c.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-300 flex items-center gap-1",children:[c.jsx(mn,{className:"w-3 h-3"}),e.locationLabel||"No location set"]})]})]}),!s&&c.jsx(Nj,{initial:e.isFollowing,onToggle:t})]})}function jj({tags:e}){return c.jsx("div",{className:"flex justify-between px-4 text-sm text-gray-600 dark:text-gray-300 mt-3",children:e.slice(0,5).map((t,n)=>c.jsx("span",{children:t},n))})}function Rj({text:e,onDoubleLike:t}){const[n,r]=N.useState(!1),[s,i]=N.useState(!1),o=N.useRef(0),a=N.useRef(!1),l=e.length>100,u=l&&!s?e.substring(0,100)+"...":e,f=["#1e3a8a","#1e40af","#1d4ed8","#2563eb","#3b82f6","#1e293b","#0f172a","#1a202c"],d=e.length%f.length,p=f[d];async function g(){const h=Date.now();if(h-o.current<300){r(!0);try{await t()}finally{setTimeout(()=>r(!1),600)}}o.current=h}function y(h){a.current=!0,g(),setTimeout(()=>{a.current=!1},300)}function x(h){if(a.current){h.preventDefault();return}g()}function _(h){h.stopPropagation(),i(!s)}return c.jsx("div",{className:"mx-4 mt-4 select-none",children:c.jsxs("div",{role:"button",tabIndex:0,"aria-label":"Double tap or press to like",onKeyDown:h=>{(h.key==="Enter"||h.key===" ")&&(h.preventDefault(),t())},onClick:x,onTouchEnd:y,className:"relative p-6 rounded-2xl min-h-[120px] flex items-center justify-center shadow-2xl hover:shadow-3xl transition-all duration-300",style:{background:p,boxShadow:`0 0 30px ${p}40, 0 0 60px ${p}20`},children:[c.jsxs("div",{className:"text-center w-full",children:[c.jsx("div",{className:"text-xl text-white leading-relaxed whitespace-pre-wrap font-bold drop-shadow-lg",children:u}),l&&c.jsx("div",{className:"mt-3 flex justify-center",children:c.jsx("button",{onClick:_,className:"px-4 py-2 bg-black bg-opacity-50 rounded-full text-white text-sm font-medium hover:bg-opacity-70 transition-all duration-200 hover:scale-105","aria-label":s?"Show less":"Show more",children:s?"Show less":"Show more"})})]}),c.jsx("div",{className:`absolute inset-0 flex items-center justify-center pointer-events-none transition-all duration-300 ${n?"opacity-100 scale-100":"opacity-0 scale-50"}`,children:c.jsxs("div",{className:"relative",children:[c.jsx("svg",{className:"w-20 h-20 text-red-500 drop-shadow-lg animate-pulse",viewBox:"0 0 24 24",fill:"currentColor",children:c.jsx("path",{d:"M12 21s-7.5-4.35-9.4-8.86C1.4 8.92 3.49 6 6.6 6c1.72 0 3.23.93 4.08 2.33C11.17 6.93 12.68 6 14.4 6c3.11 0 5.2 2.92 4.99 6.14C19.5 16.65 12 21 12 21z"})}),c.jsxs("div",{className:"absolute inset-0",children:[c.jsx("div",{className:`absolute top-2 left-2 w-4 h-4 text-red-400 transition-all duration-500 ${n?"opacity-100 translate-y-[-20px]":"opacity-0 translate-y-0"}`,children:c.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:c.jsx("path",{d:"M12 21s-7.5-4.35-9.4-8.86C1.4 8.92 3.49 6 6.6 6c1.72 0 3.23.93 4.08 2.33C11.17 6.93 12.68 6 14.4 6c3.11 0 5.2 2.92 4.99 6.14C19.5 16.65 12 21 12 21z"})})}),c.jsx("div",{className:`absolute top-4 right-2 w-3 h-3 text-red-300 transition-all duration-700 delay-100 ${n?"opacity-100 translate-y-[-25px] translate-x-[10px]":"opacity-0 translate-y-0 translate-x-0"}`,children:c.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:c.jsx("path",{d:"M12 21s-7.5-4.35-9.4-8.86C1.4 8.92 3.49 6 6.6 6c1.72 0 3.23.93 4.08 2.33C11.17 6.93 12.68 6 14.4 6c3.11 0 5.2 2.92 4.99 6.14C19.5 16.65 12 21 12 21z"})})}),c.jsx("div",{className:`absolute bottom-2 left-4 w-2 h-2 text-red-200 transition-all duration-600 delay-200 ${n?"opacity-100 translate-y-[-15px] translate-x-[-8px]":"opacity-0 translate-y-0 translate-x-0"}`,children:c.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:c.jsx("path",{d:"M12 21s-7.5-4.35-9.4-8.86C1.4 8.92 3.49 6 6.6 6c1.72 0 3.23.93 4.08 2.33C11.17 6.93 12.68 6 14.4 6c3.11 0 5.2 2.92 4.99 6.14C19.5 16.65 12 21 12 21z"})})}),c.jsx("div",{className:`absolute bottom-4 right-4 w-3 h-3 text-red-400 transition-all duration-500 delay-150 ${n?"opacity-100 translate-y-[-20px] translate-x-[5px]":"opacity-0 translate-y-0 translate-x-0"}`,children:c.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:c.jsx("path",{d:"M12 21s-7.5-4.35-9.4-8.86C1.4 8.92 3.49 6 6.6 6c1.72 0 3.23.93 4.08 2.33C11.17 6.93 12.68 6 14.4 6c3.11 0 5.2 2.92 4.99 6.14C19.5 16.65 12 21 12 21z"})})})]}),c.jsx("div",{className:`absolute inset-0 border-2 border-red-400 rounded-full transition-all duration-1000 ${n?"opacity-0 scale-150":"opacity-100 scale-100"}`}),c.jsx("div",{className:`absolute inset-0 border border-red-300 rounded-full transition-all duration-1200 delay-100 ${n?"opacity-0 scale-200":"opacity-100 scale-100"}`})]})})]})})}function Mj({caption:e}){const[t,n]=N.useState(!1),r=100;if(e.length<=r)return c.jsx("div",{className:"text-gray-900 dark:text-gray-100 text-sm leading-relaxed",children:e});const s=t?e:e.substring(0,r)+"...";return c.jsxs("div",{className:"text-gray-900 dark:text-gray-100 text-sm leading-relaxed",children:[s,c.jsx("button",{onClick:()=>n(!t),className:"mt-2 text-white text-xs font-medium hover:underline focus:outline-none focus:ring-0 focus:border-0 ml-2",children:t?"Show less":"Show more"})]})}function Lj({url:e,mediaType:t,text:n,imageText:r,onDoubleLike:s}){const[i,o]=N.useState(!1),[a,l]=N.useState(!1),[u,f]=N.useState(!0),[d,p]=N.useState(!1),[g,y]=N.useState(!1),[x,_]=N.useState(!0),h=N.useRef(0),m=N.useRef(!1),v=N.useRef(null),w=N.useRef(null),b=()=>{v.current&&(v.current.paused?(v.current.play(),l(!0),y(!1)):(v.current.pause(),l(!1),y(!0)))},C=P=>{P.stopPropagation();const B=Date.now();B-h.current<300?(o(!0),s().finally(()=>{setTimeout(()=>o(!1),600)})):b(),h.current=B},k=P=>{P.stopPropagation();const B=Date.now();B-h.current<300?(o(!0),s().finally(()=>{setTimeout(()=>o(!1),600)})):b(),h.current=B},j=P=>{P.stopPropagation(),v.current&&(v.current.muted=!v.current.muted,_(v.current.muted))};N.useEffect(()=>(t==="video"&&v.current&&(w.current=new IntersectionObserver(P=>{P.forEach(B=>{B.isIntersecting?v.current&&(v.current.play(),l(!0)):v.current&&(v.current.pause(),l(!1),y(!1))})},{threshold:.5}),w.current.observe(v.current)),()=>{w.current&&w.current.disconnect()}),[t]);const O=()=>{f(!1),p(!1)},I=()=>{f(!1),p(!0)},A=()=>{l(!0),y(!1)},G=()=>{l(!1),y(!0)};async function U(){const P=Date.now();if(P-h.current<300){o(!0);try{await s()}finally{setTimeout(()=>o(!1),600)}}h.current=P}function z(P){m.current=!0,U(),setTimeout(()=>{m.current=!1},300)}function M(P){if(m.current){P.preventDefault();return}U()}return n&&!e?c.jsx(Rj,{text:n,onDoubleLike:s}):c.jsx("div",{className:"mx-4 mt-4 select-none",children:c.jsxs("div",{role:"button",tabIndex:0,"aria-label":"Open media. Double tap or press to like",onKeyDown:P=>{(P.key==="Enter"||P.key===" ")&&(P.preventDefault(),s())},onClick:M,onTouchEnd:z,className:"relative w-full aspect-square rounded-2xl ring-1 ring-gray-200/60 dark:ring-gray-700/60 overflow-hidden bg-gray-50 dark:bg-gray-900",children:[t==="video"?c.jsxs(c.Fragment,{children:[c.jsx("video",{ref:v,src:e,className:"absolute inset-0 w-full h-full object-cover",preload:"metadata",playsInline:!0,muted:x,loop:!0,onClick:C,onTouchEnd:k,onLoadedData:O,onError:I,onPlay:A,onPause:G}),u&&c.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-900 bg-opacity-50",children:c.jsx("div",{className:"w-8 h-8 border-2 border-white border-t-transparent rounded-full animate-spin"})}),d&&c.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-900 bg-opacity-75",children:c.jsxs("div",{className:"text-center text-white",children:[c.jsx("div",{className:"text-2xl mb-2",children:""}),c.jsx("div",{className:"text-sm",children:"Failed to load video"})]})}),!u&&!d&&c.jsx("div",{className:`absolute inset-0 flex items-center justify-center transition-opacity duration-300 ${g||!a?"opacity-100":"opacity-0"}`,onClick:C,onTouchEnd:k,children:c.jsx("div",{className:`w-16 h-16 bg-black bg-opacity-60 rounded-full flex items-center justify-center transition-all duration-300 hover:bg-opacity-80 hover:scale-110 active:scale-95 ${a?"hover:animate-[pauseButtonGlow_1.5s_ease-out_infinite]":"animate-[playButtonPulse_2s_ease-in-out_infinite] hover:animate-none"}`,children:a?c.jsxs("div",{className:"relative",children:[c.jsx("svg",{className:"w-8 h-8 text-white transition-all duration-200 hover:scale-110 hover:animate-[iconBounce_0.6s_ease-in-out]",fill:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{d:"M6 4h4v16H6V4zm8 0h4v16h-4V4z"})}),c.jsx("div",{className:"absolute inset-0 w-8 h-8 bg-white opacity-20 rounded-full blur-sm scale-150 animate-ping"})]}):c.jsxs("div",{className:"relative",children:[c.jsx("svg",{className:"w-8 h-8 text-white ml-1 transition-all duration-200 hover:scale-110 hover:animate-[iconBounce_0.6s_ease-in-out]",fill:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{d:"M8 5v14l11-7z"})}),c.jsx("div",{className:"absolute inset-0 w-8 h-8 bg-white opacity-20 rounded-full blur-sm scale-150 animate-ping"})]})})}),!u&&!d&&c.jsx("div",{className:"absolute top-4 right-4",children:c.jsx("button",{onClick:j,className:"w-10 h-10 bg-black bg-opacity-50 rounded-full flex items-center justify-center hover:bg-opacity-70 transition-all duration-200","aria-label":x?"Unmute video":"Mute video",children:x?c.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{d:"M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z"})}):c.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{d:"M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"})})})})]}):c.jsx("img",{src:e,alt:"",loading:"lazy",decoding:"async",className:"absolute inset-0 w-full h-full object-cover",draggable:!1}),r&&t==="image"&&c.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:c.jsx("div",{className:"px-3 py-2 text-lg font-bold drop-shadow-lg",style:{background:"linear-gradient(45deg, #ff6b6b, #4ecdc4, #45b7d1, #96ceb4, #feca57, #ff9ff3)",backgroundSize:"300% 300%",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",animation:"gradientShift 3s ease-in-out infinite"},children:r})}),c.jsx("div",{className:`absolute inset-0 flex items-center justify-center pointer-events-none transition-all duration-300 ${i?"opacity-100 scale-100":"opacity-0 scale-50"}`,children:c.jsxs("div",{className:"relative",children:[c.jsx("svg",{className:"w-20 h-20 text-red-500 drop-shadow-lg animate-pulse",viewBox:"0 0 24 24",fill:"currentColor",children:c.jsx("path",{d:"M12 21s-7.5-4.35-9.4-8.86C1.4 8.92 3.49 6 6.6 6c1.72 0 3.23.93 4.08 2.33C11.17 6.93 12.68 6 14.4 6c3.11 0 5.2 2.92 4.99 6.14C19.5 16.65 12 21 12 21z"})}),c.jsxs("div",{className:"absolute inset-0",children:[c.jsx("div",{className:`absolute top-2 left-2 w-4 h-4 text-red-400 transition-all duration-500 ${i?"opacity-100 translate-y-[-20px]":"opacity-0 translate-y-0"}`,children:c.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:c.jsx("path",{d:"M12 21s-7.5-4.35-9.4-8.86C1.4 8.92 3.49 6 6.6 6c1.72 0 3.23.93 4.08 2.33C11.17 6.93 12.68 6 14.4 6c3.11 0 5.2 2.92 4.99 6.14C19.5 16.65 12 21 12 21z"})})}),c.jsx("div",{className:`absolute top-4 right-2 w-3 h-3 text-red-300 transition-all duration-700 delay-100 ${i?"opacity-100 translate-y-[-25px] translate-x-[10px]":"opacity-0 translate-y-0 translate-x-0"}`,children:c.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:c.jsx("path",{d:"M12 21s-7.5-4.35-9.4-8.86C1.4 8.92 3.49 6 6.6 6c1.72 0 3.23.93 4.08 2.33C11.17 6.93 12.68 6 14.4 6c3.11 0 5.2 2.92 4.99 6.14C19.5 16.65 12 21 12 21z"})})}),c.jsx("div",{className:`absolute bottom-2 left-4 w-2 h-2 text-red-200 transition-all duration-600 delay-200 ${i?"opacity-100 translate-y-[-15px] translate-x-[-8px]":"opacity-0 translate-y-0 translate-x-0"}`,children:c.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:c.jsx("path",{d:"M12 21s-7.5-4.35-9.4-8.86C1.4 8.92 3.49 6 6.6 6c1.72 0 3.23.93 4.08 2.33C11.17 6.93 12.68 6 14.4 6c3.11 0 5.2 2.92 4.99 6.14C19.5 16.65 12 21 12 21z"})})}),c.jsx("div",{className:`absolute bottom-4 right-4 w-3 h-3 text-red-400 transition-all duration-500 delay-150 ${i?"opacity-100 translate-y-[-20px] translate-x-[5px]":"opacity-0 translate-y-0 translate-x-0"}`,children:c.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:c.jsx("path",{d:"M12 21s-7.5-4.35-9.4-8.86C1.4 8.92 3.49 6 6.6 6c1.72 0 3.23.93 4.08 2.33C11.17 6.93 12.68 6 14.4 6c3.11 0 5.2 2.92 4.99 6.14C19.5 16.65 12 21 12 21z"})})})]}),c.jsx("div",{className:`absolute inset-0 border-2 border-red-400 rounded-full transition-all duration-1000 ${i?"opacity-0 scale-150":"opacity-100 scale-100"}`}),c.jsx("div",{className:`absolute inset-0 border border-red-300 rounded-full transition-all duration-1200 delay-100 ${i?"opacity-0 scale-200":"opacity-100 scale-100"}`})]})})]})})}function Pj({post:e,onLike:t,onShare:n,onOpenComments:r,onReclip:s}){const[i,o]=N.useState(e.userLiked),[a,l]=N.useState(e.stats.likes),[u,f]=N.useState(e.stats.views),[d,p]=N.useState(e.stats.comments),[g,y]=N.useState(e.stats.shares),[x,_]=N.useState(e.stats.reclips),[h,m]=N.useState(!1);N.useEffect(()=>{o(e.userLiked),l(e.stats.likes),f(e.stats.views),p(e.stats.comments),y(e.stats.shares),_(e.stats.reclips)},[e.userLiked,e.stats.likes,e.stats.views,e.stats.comments,e.stats.shares,e.stats.reclips]),N.useEffect(()=>{const C=()=>{p(A=>A+1)},k=()=>{f(A=>A+1)},j=()=>{y(A=>A+1)},O=()=>{_(A=>A+1)},I=A=>{o(A.detail.liked),l(A.detail.likes)};return window.addEventListener(`commentAdded-${e.id}`,C),window.addEventListener(`viewAdded-${e.id}`,k),window.addEventListener(`shareAdded-${e.id}`,j),window.addEventListener(`reclipAdded-${e.id}`,O),window.addEventListener(`likeToggled-${e.id}`,I),()=>{window.removeEventListener(`commentAdded-${e.id}`,C),window.removeEventListener(`viewAdded-${e.id}`,k),window.removeEventListener(`shareAdded-${e.id}`,j),window.removeEventListener(`reclipAdded-${e.id}`,O),window.removeEventListener(`likeToggled-${e.id}`,I)}},[e.id]);async function v(){if(!h){m(!0);try{await t()}finally{m(!1)}}}async function w(){if(!h){m(!0);try{await s()}finally{m(!1)}}}async function b(){if(!h){m(!0);try{await n()}finally{m(!1)}}}return c.jsx("div",{className:"px-4 mt-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex flex-col items-center gap-1",children:[c.jsx("button",{className:`flex items-center justify-center w-8 h-8 rounded-full transition-all duration-200 hover:scale-110 active:scale-95 ${i?"bg-red-500 hover:bg-red-600":"bg-gray-800 hover:bg-gray-700 dark:bg-gray-700 dark:hover:bg-gray-600"}`,onClick:v,"aria-pressed":i,"aria-label":i?"Unlike":"Like",title:i?"Unlike":"Like",children:i?c.jsx($u,{className:"text-white w-4 h-4"}):c.jsx(La,{className:"w-4 h-4 text-white"})}),c.jsx("span",{className:"text-xs font-medium text-gray-700 dark:text-gray-200",children:a})]}),c.jsxs("div",{className:"flex flex-col items-center gap-1",children:[c.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-gray-800 dark:bg-gray-700",children:c.jsx(QI,{className:"w-4 h-4 text-white"})}),c.jsx("span",{className:"text-xs font-medium text-gray-700 dark:text-gray-200",children:u})]}),c.jsxs("div",{className:"flex flex-col items-center gap-1",children:[c.jsx("button",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-gray-800 hover:bg-gray-700 dark:bg-gray-700 dark:hover:bg-gray-600 transition-all duration-200 hover:scale-110 active:scale-95",onClick:r,"aria-label":"Comments",title:"Comments",children:c.jsx(Jv,{className:"w-4 h-4 text-white"})}),c.jsx("span",{className:"text-xs font-medium text-gray-700 dark:text-gray-200",children:d})]}),c.jsxs("div",{className:"flex flex-col items-center gap-1",children:[c.jsx("button",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-gray-800 hover:bg-gray-700 dark:bg-gray-700 dark:hover:bg-gray-600 transition-all duration-200 hover:scale-110 active:scale-95",onClick:b,"aria-label":"Share post",title:"Share post",children:c.jsx(ex,{className:"w-4 h-4 text-white"})}),c.jsx("span",{className:"text-xs font-medium text-gray-700 dark:text-gray-200",children:g})]}),c.jsxs("div",{className:"flex flex-col items-center gap-1",children:[c.jsx("button",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-gray-800 hover:bg-gray-700 dark:bg-gray-700 dark:hover:bg-gray-600 transition-all duration-200 hover:scale-110 active:scale-95",onClick:w,"aria-label":"Reclip post",title:"Reclip post",children:c.jsx(nj,{className:"w-4 h-4 text-white"})}),c.jsx("span",{className:"text-xs font-medium text-gray-700 dark:text-gray-200",children:x})]})]})})}const Oj=N.memo(function({post:t,onLike:n,onFollow:r,onShare:s,onOpenComments:i,onView:o,onReclip:a}){const l=`post-title-${t.id}`,[u,f]=N.useState(!1),d=N.useRef(null);return N.useEffect(()=>{if(u)return;const p=new IntersectionObserver(g=>{g.forEach(y=>{y.isIntersecting&&!u&&(f(!0),o())})},{threshold:.5});return d.current&&p.observe(d.current),()=>p.disconnect()},[u,o]),c.jsxs("article",{ref:d,"aria-labelledby":l,className:"pb-4 border-b border-gray-200 dark:border-gray-800 bg-white dark:bg-gray-950 hover-lift",children:[c.jsx(Ij,{post:t,onFollow:r}),c.jsx(jj,{tags:t.tags}),c.jsx(Lj,{url:t.mediaUrl,mediaType:t.mediaType,text:t.text,imageText:t.imageText,onDoubleLike:n}),t.caption&&t.mediaUrl&&c.jsx("div",{className:"px-4 py-3",children:c.jsx(Mj,{caption:t.caption})}),c.jsx(Pj,{post:t,onLike:n,onShare:s,onOpenComments:i,onReclip:a})]})});function ox(){const{user:e}=$t(),t=(e==null?void 0:e.id)??"anon",n=rx(),[r,s]=N.useState("Dublin"),[i,o]=N.useState(null),[a,l]=N.useState([]),[u,f]=N.useState(0),[d,p]=N.useState(!1),[g,y]=N.useState(!1),[x,_]=N.useState(null),[h,m]=N.useState(!1),[v,w]=N.useState(null),[b,C]=N.useState(!1),[k,j]=N.useState(null),O=i||r;N.useEffect(()=>{l([]),f(0),y(!1),O.toLowerCase()},[t,O]),N.useEffect(()=>{const M=P=>{const B=P.detail.location;o(B),l([]),f(0),y(!1),_(null)};return window.addEventListener("locationChange",M),()=>window.removeEventListener("locationChange",M)},[]),N.useEffect(()=>{n&&_j(async M=>{M.type==="like"&&await pm(M.userId,M.postId),M.type==="follow"&&await hm(M.userId,M.postId),M.type==="comment"&&await sx(M.postId,M.userId,M.text),M.type==="view"&&await mm(M.userId,M.postId),M.type==="share"&&await cj(M.userId,M.postId),M.type==="reclip"&&await gm(M.userId,M.postId,M.userHandle)})},[n]);const I=M=>{w(M),m(!0)},A=()=>{m(!1),w(null)};async function G(){if(console.log("loadMore called with:",{loading:d,end:g,cursor:u,currentFilter:O,customLocation:i,active:r}),d||g||u===null){console.log("loadMore early return:",{loading:d,end:g,cursor:u});return}p(!0),_(null);try{console.log("Calling fetchPostsPage with:",{currentFilter:O,cursor:u,userId:t,customLocation:i,active:r});const M=await lj(O,u,5,t,(e==null?void 0:e.local)||"",(e==null?void 0:e.regional)||"",(e==null?void 0:e.national)||"");console.log("fetchPostsPage returned:",{itemsCount:M.items.length,nextCursor:M.nextCursor}),l(P=>{const B=[...P,M.items];return console.log("Setting pages:",{prevLength:P.length,newLength:B.length}),B}),f(M.nextCursor),y(M.nextCursor===null)}catch(M){console.error("loadMore error:",M),_((M==null?void 0:M.message)??"Failed to load posts.")}finally{p(!1)}}N.useEffect(()=>{console.log("Setting up postCreated event listener");const M=()=>{console.log("PostCreated event received - refreshing feed"),console.log("Current filter:",O),console.log("User data:",{userId:t,userLocal:e==null?void 0:e.local,userRegional:e==null?void 0:e.regional,userNational:e==null?void 0:e.national}),l([]),f(0),y(!1),p(!1),_(null),console.log("About to call loadMore from handlePostCreated"),G()};return window.addEventListener("postCreated",M),console.log("postCreated event listener added"),()=>{console.log("Removing postCreated event listener"),window.removeEventListener("postCreated",M)}},[O,t,e]),N.useEffect(()=>{u!==null&&a.length===0&&G()},[u,O]);function U(M,P){console.log("updateOne called for post:",M),l(B=>{const S=B.map(H=>H.map(W=>W.id===M?(console.log("Updating post:",M,"from likes:",W.stats.likes,"to:",P({...W}).stats.likes),P({...W})):W)),E=S.flat(),R=E.filter((H,W)=>E.findIndex(re=>re.id===H.id)!==W);return R.length>0&&console.error("DUPLICATES AFTER UPDATE:",R.map(H=>H.id)),S})}const z=N.useMemo(()=>{const M=a.flat(),P=M.filter((S,E)=>M.findIndex(R=>R.id===S.id)===E),B=M.filter((S,E)=>M.findIndex(R=>R.id===S.id)!==E).map(S=>S.id);return console.log("Flattening pages:",{pagesCount:a.length,totalPosts:M.length,uniquePosts:P.length,postIDs:P.map(S=>S.id),duplicateIDs:B,textPosts:P.filter(S=>S.text&&!S.mediaUrl).length}),B.length>0&&(console.error("DUPLICATE POSTS DETECTED AND REMOVED:",B),console.log("Text posts after deduplication:",P.filter(S=>S.text&&!S.mediaUrl).map(S=>{var E;return{id:S.id,text:((E=S.text)==null?void 0:E.substring(0,50))+"..."}}))),P},[a]);return e?c.jsxs("div",{id:`panel-${r}`,role:"tabpanel","aria-labelledby":`tab-${r}`,className:"pb-2",children:[c.jsx("div",{className:"h-2"}),!n&&c.jsx("div",{className:"mx-3 mt-2 rounded-md bg-amber-50 text-amber-900 dark:bg-amber-950 dark:text-amber-200 border border-amber-200 dark:border-amber-800 px-3 py-2 text-xs",children:"You're offline. Actions will sync when back online."}),i?c.jsx("div",{className:"px-3 py-2",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(mn,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"}),c.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:[i," Feed"]})]}),c.jsxs("button",{onClick:()=>o(null),className:"flex items-center gap-1 px-3 py-1.5 rounded-md bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 text-sm font-medium hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:[c.jsx(Qv,{className:"w-3 h-3"}),"Back to Home Feed"]})]})}):c.jsx(Tj,{active:r,onChange:s,onClearCustom:()=>o(null)}),x&&c.jsx("div",{className:"mx-4 my-3 p-3 rounded-md border border-red-300 bg-red-50 text-red-800 dark:border-red-800 dark:bg-red-950 dark:text-red-200",children:c.jsxs("div",{className:"flex items-center justify-between gap-3",children:[c.jsx("span",{className:"text-sm",children:x}),c.jsx("button",{onClick:()=>{_(null),G()},className:"px-3 py-1.5 rounded bg-red-600 text-white text-sm hover:bg-red-500",children:"Retry"})]})}),z.map(M=>c.jsx(Oj,{post:M,onLike:async()=>{if(console.log("Like button clicked for post:",M.id,"userLiked:",M.userLiked),!n){U(M.id,B=>({...B,userLiked:!B.userLiked})),await Ln({type:"like",postId:M.id,userId:t});return}const P=await pm(t,M.id);U(M.id,B=>({...P})),window.dispatchEvent(new CustomEvent(`likeToggled-${M.id}`,{detail:{liked:P.userLiked,likes:P.stats.likes}})),console.log("Like event dispatched for post:",M.id,"with",{liked:P.userLiked,likes:P.stats.likes})},onFollow:async()=>{if(!n){await Ln({type:"follow",postId:M.id,userId:t});return}U(M.id,P=>({...P,isFollowing:!P.isFollowing})),await hm(t,M.id)},onShare:async()=>{j(M),C(!0)},onOpenComments:()=>I(M.id),onView:async()=>{if(!n){await Ln({type:"view",postId:M.id,userId:t});return}U(M.id,P=>(P.stats.views+=1,P)),await mm(t,M.id),window.dispatchEvent(new CustomEvent(`viewAdded-${M.id}`))},onReclip:async()=>{if(!n){await Ln({type:"reclip",postId:M.id,userId:t,userHandle:(e==null?void 0:e.handle)||"Unknown@Unknown"});return}const P=await gm(t,M.id,(e==null?void 0:e.handle)||"Unknown@Unknown");l(B=>[[P],...B]),window.dispatchEvent(new CustomEvent(`reclipAdded-${M.id}`))}},M.id)),d&&c.jsxs("div",{className:"px-4 py-6 animate-pulse",children:[c.jsx("div",{className:"h-4 w-40 bg-gray-200 dark:bg-gray-800 rounded mb-2"}),c.jsx("div",{className:"h-4 w-24 bg-gray-200 dark:bg-gray-800 rounded mb-4"}),c.jsx("div",{className:"w-full aspect-square bg-gray-200 dark:bg-gray-800 rounded-xl"})]}),g&&z.length===0&&c.jsx("div",{className:"p-8 text-center text-gray-600 dark:text-gray-300",children:O.toLowerCase()==="following"?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-lg font-semibold mb-1",children:"Unlock Your Following News Feed"}),c.jsx("div",{className:"text-gray-600 text-sm",children:"This feed only populates with the accounts you follow. Start tapping Follow to personalize your stream"})]}):i?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"text-lg font-semibold mb-1",children:["No posts from ",i," yet"]}),c.jsxs("div",{className:"text-gray-600 text-sm",children:["Be the first to share something from ",i,"!"]})]}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-lg font-semibold mb-1",children:"No posts yet"}),c.jsx("div",{className:"text-gray-600 text-sm",children:"No posts available for this location"})]})}),g&&z.length>0&&c.jsx("div",{className:"p-4 text-center text-xs text-gray-500 dark:text-gray-400",children:"You're all caught up."}),v&&c.jsx(kj,{postId:v,isOpen:h,onClose:A}),k&&c.jsx(bj,{post:k,isOpen:b,onClose:()=>{C(!1),j(null)}})]}):c.jsxs("div",{className:"p-6",children:[c.jsx("a",{href:"/login",className:"text-brand-600 underline",children:"Sign in"})," to view your feed."]})}ix.FeedPage=ox;const Aj=N.createContext(null);function Dj({children:e}){return N.useEffect(()=>{document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")},[]),c.jsx(Aj.Provider,{value:{theme:"dark"},children:e})}let Ir=[{id:"story-1",userId:"user-1",userHandle:"John@Dublin",mediaUrl:"https://images.unsplash.com/photo-1516321497487-e288fb19713f?w=800",mediaType:"image",text:"Amazing sunset in Dublin! ",createdAt:Date.now()-5e3,expiresAt:Date.now()+24*60*60*1e3-5e3,location:"Dublin",views:0,hasViewed:!1,reactions:[],replies:[],userReaction:void 0},{id:"story-2",userId:"user-1",userHandle:"John@Dublin",mediaUrl:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800",mediaType:"image",text:"Beautiful day for a walk! ",createdAt:Date.now()-3e3,expiresAt:Date.now()+24*60*60*1e3-3e3,location:"Dublin",views:0,hasViewed:!1,reactions:[],replies:[],userReaction:void 0},{id:"story-3",userId:"user-2",userHandle:"Sarah@London",mediaUrl:"https://images.unsplash.com/photo-1517474307977-7c27ca92444a?w=800",mediaType:"image",text:"Love the architecture here! ",createdAt:Date.now()-1e4,expiresAt:Date.now()+24*60*60*1e3-1e4,location:"London",views:0,hasViewed:!1,reactions:[],replies:[],userReaction:void 0},{id:"story-4",userId:"user-3",userHandle:"Mike@Paris",mediaUrl:"https://images.unsplash.com/photo-1502602898536-47ad22581b52?w=800",mediaType:"image",text:"Beautiful morning in Paris! ",createdAt:Date.now()-8e3,expiresAt:Date.now()+24*60*60*1e3-8e3,location:"Paris",views:0,hasViewed:!1,reactions:[],replies:[],userReaction:void 0},{id:"story-5",userId:"user-4",userHandle:"Emma@NewYork",mediaUrl:"https://images.unsplash.com/photo-1496442226666-8d4d0e62e6e9?w=800",mediaType:"image",text:"City never sleeps! ",createdAt:Date.now()-6e3,expiresAt:Date.now()+24*60*60*1e3-6e3,location:"New York",views:0,hasViewed:!1,reactions:[],replies:[],userReaction:void 0}];function jr(e=300){return new Promise(t=>setTimeout(t,e))}async function vm(e){await jr();const t=Date.now();return Ir.filter(s=>s.expiresAt>t).reduce((s,i)=>{const o=s.find(a=>a.userId===i.userId);return o?o.stories.push(i):s.push({userId:i.userId,userHandle:i.userHandle,name:i.userHandle.split("@")[0],stories:[i]}),s},[])}async function Fj(e,t){await jr();const n=Date.now();return Ir.filter(r=>r.userId===t&&r.expiresAt>n).sort((r,s)=>r.createdAt-s.createdAt)}async function $j(e,t,n,r,s,i,o,a){await jr();const l=Date.now(),u=l+24*60*60*1e3,f={id:`story-${Date.now()}`,userId:e,userHandle:t,mediaUrl:n,mediaType:r,text:s,textColor:o,textSize:a,createdAt:l,expiresAt:u,location:i,views:0,hasViewed:!1,reactions:[],replies:[],userReaction:void 0};return Ir.push(f),f}async function Uj(e,t){await jr();const n=Ir.find(r=>r.id===e);n&&!n.hasViewed&&(n.hasViewed=!0,n.views+=1)}async function zj(e){await jr();const t=Ir.find(n=>n.id===e);t&&(t.views+=1)}async function Bj(e,t,n,r){await jr();const s=Ir.find(i=>i.id===e);s&&(s.reactions=s.reactions.filter(i=>i.userId!==t),s.reactions.push({id:`reaction-${Date.now()}`,userId:t,userHandle:n,emoji:r,createdAt:Date.now()}),s.userReaction=r)}async function Hj(e,t,n,r){await jr();const s=Ir.find(i=>i.id===e);s&&s.replies.push({id:`reply-${Date.now()}`,userId:t,userHandle:n,text:r,createdAt:Date.now()})}function Wj(){const{user:e}=$t(),t=yn(),[n,r]=N.useState(null),[s,i]=N.useState(null),[o,a]=N.useState(""),[l,u]=N.useState("white"),[f,d]=N.useState("medium"),[p,g]=N.useState(""),[y,x]=N.useState(!1),_={white:"#FFFFFF",yellow:"#FFD700",red:"#FF0000",blue:"#0080FF",green:"#00FF00",purple:"#8000FF",pink:"#FF00FF",orange:"#FF8000",cyan:"#00FFFF",black:"#000000"},h=b=>{var k;const C=(k=b.target.files)==null?void 0:k[0];if(C){const j=new FileReader;j.onload=O=>{var I;r((I=O.target)==null?void 0:I.result),C.type.startsWith("image/")?i("image"):C.type.startsWith("video/")&&i("video")},j.readAsDataURL(C)}},m=()=>{r(null),i(null),a("")},v=async b=>{if(b.preventDefault(),!(!n||!e)){x(!0);try{const C=n;await $j(e.id,e.handle,C,s,o.trim()||void 0,p.trim()||void 0,l,f),t("/feed")}catch(C){console.error("Error creating story:",C),alert("Failed to create story. Please try again.")}finally{x(!1)}}},w=()=>{t("/feed")};return c.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-950",children:[c.jsx("div",{className:"sticky top-0 z-40 bg-white/80 dark:bg-gray-950/80 backdrop-blur border-b border-gray-200 dark:border-gray-800",children:c.jsxs("div",{className:"mx-auto max-w-md px-4 h-14 flex items-center justify-between",children:[c.jsx("button",{onClick:w,className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:c.jsx(wt,{className:"w-6 h-6 text-gray-600 dark:text-gray-400"})}),c.jsx("h1",{className:"font-bold text-lg text-gray-900 dark:text-gray-100 absolute left-1/2 transform -translate-x-1/2",children:"Create Story"}),c.jsx("div",{className:"w-10"})]})}),c.jsxs("div",{className:"mx-auto max-w-md px-4 py-6",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsx(St,{src:e==null?void 0:e.avatarUrl,name:(e==null?void 0:e.name)||"User",size:"sm"}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:(e==null?void 0:e.name)||"User"}),c.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:(e==null?void 0:e.handle)||"user@location"})]})]}),n?c.jsxs("div",{className:"relative mb-6",children:[s==="image"?c.jsxs("div",{className:"relative",children:[c.jsx("img",{src:n,alt:"Story preview",className:"w-full rounded-2xl"}),o&&c.jsx("div",{className:"absolute bottom-6 left-0 right-0 px-6",children:c.jsx("div",{className:`${f==="small"?"text-sm":f==="large"?"text-2xl":"text-lg"} font-semibold px-4 py-3 rounded-xl`,style:{color:_[l]||l,textShadow:"2px 2px 4px rgba(0,0,0,0.8), -1px -1px 0 rgba(0,0,0,0.8), 1px -1px 0 rgba(0,0,0,0.8), -1px 1px 0 rgba(0,0,0,0.8)"},children:o})})]}):c.jsx("video",{src:n,controls:!0,className:"w-full rounded-2xl"}),c.jsx("button",{onClick:m,className:"absolute top-4 right-4 p-2 bg-black/50 backdrop-blur-sm text-white rounded-full hover:bg-black/70 transition-colors",children:c.jsx(wt,{className:"w-5 h-5"})})]}):c.jsx("div",{className:"mb-6",children:c.jsxs("label",{className:"block",children:[c.jsx("div",{className:"w-full aspect-[9/16] rounded-2xl border-2 border-dashed border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 flex items-center justify-center cursor-pointer hover:border-brand-500 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-tr from-green-500 via-blue-500 to-blue-600 p-0.5 mx-auto mb-3",children:c.jsx("div",{className:"w-full h-full rounded-full bg-gray-950 flex items-center justify-center",children:c.jsx(Es,{className:"w-6 h-6 text-white"})})}),c.jsx("p",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:"Add to Your Story"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Tap to add a photo or video"})]})}),c.jsx("input",{type:"file",accept:"image/*,video/*",onChange:h,className:"hidden"})]})}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Add Text to Your Story"}),c.jsx("textarea",{value:o,onChange:b=>a(b.target.value),placeholder:"Type something...",maxLength:200,className:"w-full h-24 p-3 rounded-xl border border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 resize-none focus:ring-2 focus:ring-brand-500 focus:border-transparent"}),c.jsxs("div",{className:"text-right text-xs text-gray-400 mt-1",children:[o.length,"/200"]})]}),o&&c.jsxs("div",{className:"mb-6 space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Text Color"}),c.jsx("div",{className:"flex gap-2 flex-wrap",children:Object.entries(_).map(([b,C])=>c.jsx("button",{onClick:()=>u(b),className:`w-10 h-10 rounded-full border-2 transition-all ${l===b?"border-gray-900 dark:border-gray-100 scale-110":"border-gray-300 dark:border-gray-600"}`,style:{backgroundColor:C},title:b.charAt(0).toUpperCase()+b.slice(1)},b))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Text Size"}),c.jsx("div",{className:"flex gap-2",children:["small","medium","large"].map(b=>c.jsx("button",{onClick:()=>d(b),className:`flex-1 py-2 rounded-xl border-2 transition-all ${f===b?"border-gray-900 dark:border-gray-100 bg-gray-100 dark:bg-gray-800 font-semibold":"border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:b.charAt(0).toUpperCase()+b.slice(1)},b))})]})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Add Location"}),c.jsxs("div",{className:"relative",children:[c.jsx(mn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),c.jsx("input",{type:"text",value:p,onChange:b=>g(b.target.value),placeholder:"Where are you?",className:"w-full pl-10 pr-4 py-3 rounded-xl border border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-brand-500 focus:border-transparent"})]})]}),c.jsx("div",{className:"rounded-xl bg-gray-50 dark:bg-gray-900 p-4 mb-6",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-tr from-green-500 via-blue-500 to-blue-600 flex items-center justify-center flex-shrink-0",children:c.jsx(bf,{className:"w-4 h-4 text-white"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-gray-900 dark:text-gray-100 mb-1",children:"Your Story"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Your story will be visible for 24 hours. Add photos or videos to share moments with your followers."})]})]})}),c.jsx("button",{onClick:v,disabled:!n||y,className:"w-full py-4 rounded-xl bg-gradient-to-tr from-green-500 via-blue-500 to-blue-600 text-white font-semibold disabled:opacity-50 disabled:cursor-not-allowed hover:opacity-90 transition-opacity shadow-lg",children:y?"Sharing...":"Share Story"})]})]})}function Vj(){const{user:e}=$t(),t=yn(),[n,r]=N.useState(""),[s,i]=N.useState(""),[o,a]=N.useState(null),[l,u]=N.useState(null),[f,d]=N.useState(""),[p,g]=N.useState(!1);N.useEffect(()=>{console.log("CreatePage mounted with user:",e)},[e]);const y=h=>{var v;const m=(v=h.target.files)==null?void 0:v[0];if(m){const w=new FileReader;w.onload=b=>{var C;a((C=b.target)==null?void 0:C.result),m.type.startsWith("image/")?u("image"):m.type.startsWith("video/")&&u("video")},w.readAsDataURL(m)}},x=async h=>{if(h.preventDefault(),!(!n.trim()&&!o)&&e){g(!0);try{console.log("Creating post with user:",{id:e.id,handle:e.handle,regional:e.regional}),await hj(e.id,e.handle,n.trim(),s.trim(),o||void 0,l||void 0,f.trim()||void 0,o?n.trim():void 0),r(""),i(""),a(null),u(null),d(""),t("/feed"),console.log("Post created successfully, dispatching postCreated event"),console.log("Event target:",window),window.dispatchEvent(new CustomEvent("postCreated")),console.log("postCreated event dispatched")}catch(m){console.error("Error creating post:",m),alert("Failed to create post. Please try again.")}finally{g(!1)}}},_=()=>{a(null),u(null),d("")};return c.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-950",children:[c.jsx("div",{className:"sticky top-0 z-40 bg-white/80 dark:bg-gray-950/80 backdrop-blur border-b border-gray-200 dark:border-gray-800",children:c.jsxs("div",{className:"mx-auto max-w-md px-4 h-11 flex items-center justify-between",children:[c.jsx("h1",{className:"font-bold text-lg text-gray-900 dark:text-gray-100",children:"Create Post"}),c.jsx("button",{onClick:x,disabled:!n.trim()&&!o||p,className:"px-4 py-1 bg-brand-500 text-white rounded-full text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed hover:bg-brand-600 transition-colors",children:p?"Posting...":"Post"})]})}),c.jsxs("div",{className:"mx-auto max-w-md px-4 py-6",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsx(St,{src:e==null?void 0:e.avatarUrl,name:(e==null?void 0:e.name)||"User",size:"md"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:(e==null?void 0:e.name)||"User"}),c.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:(e==null?void 0:e.handle)||"user@location"})]})]}),c.jsx("div",{className:"mb-6",children:c.jsxs("div",{className:"rounded-xl border-2 border-dashed p-4 bg-gray-50 dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[c.jsx("textarea",{value:n,onChange:h=>r(h.target.value),placeholder:o?"Write a caption for your post...":"Tap to type",className:"w-full h-32 p-4 text-gray-900 dark:text-gray-100 bg-transparent border-none resize-none placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none",maxLength:500}),c.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-500 dark:text-gray-400",children:[c.jsx("span",{children:o?" Caption":" Post without images! Try it"}),c.jsxs("span",{children:[n.length,"/500"]})]})]})}),!o&&c.jsxs("div",{className:"mb-6",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx(bf,{className:"w-4 h-4 text-gray-500"}),c.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Add Photo or Video"})]}),c.jsx("div",{className:"flex gap-3",children:c.jsxs("label",{className:"flex-1 p-4 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-xl cursor-pointer hover:border-brand-500 hover:bg-brand-50 dark:hover:bg-brand-900/20 transition-colors",children:[c.jsx("input",{type:"file",accept:"image/*,video/*",onChange:y,className:"hidden"}),c.jsxs("div",{className:"text-center",children:[c.jsx(Es,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),c.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Tap to add photo or video"}),c.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"Images & short videos"})]})]})})]}),o&&c.jsxs("div",{className:"relative mb-6",children:[l==="image"?c.jsxs("div",{className:"relative",children:[c.jsx("img",{src:o,alt:"Selected",className:"w-full h-64 object-cover rounded-2xl"}),f&&c.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:c.jsx("div",{className:"bg-black/70 text-white px-3 py-2 rounded-lg text-sm font-medium backdrop-blur-sm",children:f})})]}):l==="video"?c.jsx("video",{src:o,controls:!0,className:"w-full h-64 object-cover rounded-2xl",preload:"metadata"}):null,c.jsx("button",{onClick:_,className:"absolute top-2 right-2 p-2 bg-black/50 text-white rounded-full hover:bg-black/70 transition-colors",children:c.jsx(wt,{className:"w-4 h-4"})})]}),o&&l==="image"&&c.jsxs("div",{className:"mb-6",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx(Es,{className:"w-4 h-4 text-gray-500"}),c.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Add Text to Image"})]}),c.jsx("input",{type:"text",value:f,onChange:h=>d(h.target.value),placeholder:"",className:"w-full p-3 text-gray-900 dark:text-gray-100 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl focus:ring-2 focus:ring-brand-500 focus:border-transparent",maxLength:100}),c.jsxs("div",{className:"text-right text-xs text-gray-400 mt-1",children:[f.length,"/100"]})]}),c.jsxs("div",{className:"mb-6",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx(mn,{className:"w-4 h-4 text-gray-500"}),c.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Story Location"})]}),c.jsx("input",{type:"text",value:s,onChange:h=>i(h.target.value),placeholder:"Where did this happen?",className:"w-full p-3 text-gray-900 dark:text-gray-100 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl focus:ring-2 focus:ring-brand-500 focus:border-transparent placeholder-gray-500 dark:placeholder-gray-400"})]}),c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-xl p-4",children:[c.jsx("h3",{className:"font-medium text-gray-900 dark:text-gray-100 mb-2",children:"Tips for great posts:"}),c.jsxs("ul",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-1",children:[c.jsx("li",{children:" Share what's happening in your local area"}),c.jsx("li",{children:" Add a clear photo or short video to tell your story"}),c.jsx("li",{children:" Include the specific location"}),c.jsx("li",{children:" Keep it authentic and engaging"})]})]})]})]})}function Gj(){const{login:e}=$t(),t=yn(),[n,r]=N.useState(1),[s,i]=N.useState(""),[o,a]=N.useState(""),[l,u]=N.useState(""),[f,d]=N.useState(""),[p,g]=N.useState(""),[y,x]=N.useState(""),[_,h]=N.useState(""),[m,v]=N.useState(""),[w,b]=N.useState([]),[C,k]=N.useState(null),j=["Ballymun","Finglas","Cabra","Phibsborough","Drumcondra","Glasnevin","Coolock","Raheny","Clontarf","Howth"],O=["Dublin","Cork","Galway","Limerick","Waterford","Kilkenny","Sligo","Donegal","Kerry","Mayo"],I=["Ireland","Northern Ireland","UK","USA","Canada","Australia","New Zealand","Germany","France","Spain"],A=["Food & Dining","Sports","Music","Art & Culture","Technology","Travel","Fashion","Photography","Fitness","Gaming","Books","Movies","Nature","Cooking","Dancing"];function G(S){if(S.preventDefault(),!s||!o||!l||!f){alert("Please fill in all location fields");return}r(2)}function U(S){if(S.preventDefault(),!p||!y||!_||!m){alert("Please fill in all account fields");return}if(y!==_){alert("Passwords do not match");return}if(parseInt(m)<13){alert("You must be at least 13 years old");return}r(3)}function z(S){S.preventDefault();const E={name:s.trim(),email:p.trim(),password:y,age:parseInt(m),interests:w,local:o,regional:l,national:f,handle:`${s.trim()}@${o}`,avatarUrl:C};e(E),t("/profile",{replace:!0})}function M(S){var R;const E=(R=S.target.files)==null?void 0:R[0];if(E){const H=new FileReader;H.onload=W=>{var re;k((re=W.target)==null?void 0:re.result)},H.readAsDataURL(E)}}function P(){k(null)}function B(S){b(E=>E.includes(S)?E.filter(R=>R!==S):[...E,S])}return c.jsx("div",{className:"mx-auto max-w-md min-h-screen flex items-center justify-center p-6",children:c.jsxs("form",{onSubmit:n===1?G:n===2?U:z,className:"w-full bg-white dark:bg-gray-950 border border-gray-200 dark:border-gray-800 rounded-xl p-6 space-y-4",children:[c.jsxs("div",{className:"text-center mb-6",children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:"Join Clips"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:n===1?"Connect with your local community":n===2?"Complete your profile":"Add a profile picture"}),c.jsx("div",{className:"flex justify-center mt-3",children:c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("div",{className:`w-3 h-3 rounded-full ${n===1?"bg-brand-600":"bg-gray-300"}`}),c.jsx("div",{className:`w-3 h-3 rounded-full ${n===2?"bg-brand-600":"bg-gray-300"}`}),c.jsx("div",{className:`w-3 h-3 rounded-full ${n===3?"bg-brand-600":"bg-gray-300"}`})]})})]}),n===1&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[c.jsx(tx,{className:"inline w-4 h-4 mr-1"}),"Your Name"]}),c.jsx("input",{value:s,onChange:S=>i(S.target.value),className:"w-full rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 px-3 py-2 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-brand-500 focus:border-transparent",placeholder:"Enter your name",required:!0})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[c.jsx(mn,{className:"inline w-4 h-4 mr-1"}),"Local Area"]}),c.jsxs("select",{value:o,onChange:S=>a(S.target.value),className:"w-full rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 px-3 py-2 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-brand-500 focus:border-transparent",required:!0,children:[c.jsx("option",{value:"",children:"Select your local area"}),j.map(S=>c.jsx("option",{value:S,children:S},S))]})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[c.jsx(mn,{className:"inline w-4 h-4 mr-1"}),"Regional Area"]}),c.jsxs("select",{value:l,onChange:S=>u(S.target.value),className:"w-full rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 px-3 py-2 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-brand-500 focus:border-transparent",required:!0,children:[c.jsx("option",{value:"",children:"Select your regional area"}),O.map(S=>c.jsx("option",{value:S,children:S},S))]})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[c.jsx(JI,{className:"inline w-4 h-4 mr-1"}),"National Area"]}),c.jsxs("select",{value:f,onChange:S=>d(S.target.value),className:"w-full rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 px-3 py-2 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-brand-500 focus:border-transparent",required:!0,children:[c.jsx("option",{value:"",children:"Select your national area"}),I.map(S=>c.jsx("option",{value:S,children:S},S))]})]})]}),n===2&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email Address"}),c.jsx("input",{type:"email",value:p,onChange:S=>g(S.target.value),className:"w-full rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 px-3 py-2 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-brand-500 focus:border-transparent",placeholder:"your@email.com",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Password"}),c.jsx("input",{type:"password",value:y,onChange:S=>x(S.target.value),className:"w-full rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 px-3 py-2 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-brand-500 focus:border-transparent",placeholder:"Create a password",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Confirm Password"}),c.jsx("input",{type:"password",value:_,onChange:S=>h(S.target.value),className:"w-full rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 px-3 py-2 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-brand-500 focus:border-transparent",placeholder:"Confirm your password",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Age"}),c.jsx("input",{type:"number",min:"13",max:"120",value:m,onChange:S=>v(S.target.value),className:"w-full rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 px-3 py-2 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-brand-500 focus:border-transparent",placeholder:"Your age",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Interests (Select up to 5)"}),c.jsx("div",{className:"grid grid-cols-2 gap-2",children:A.map(S=>c.jsx("button",{type:"button",onClick:()=>B(S),className:`p-2 rounded-lg text-sm border transition-colors ${w.includes(S)?"bg-brand-600 text-white border-brand-600":"bg-white dark:bg-gray-900 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-800"}`,disabled:!w.includes(S)&&w.length>=5,children:S},S))})]})]}),n===3&&c.jsx(c.Fragment,{children:c.jsxs("div",{className:"text-center",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"Add a Profile Picture"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-6",children:"Choose a photo that represents you, or skip to use your initials"}),c.jsx("div",{className:"flex justify-center mb-6",children:c.jsx(St,{src:C||void 0,name:s||"User",size:"xl",className:"border-4 border-gray-200 dark:border-gray-700"})}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("label",{className:"block",children:[c.jsx("input",{type:"file",accept:"image/*",onChange:M,className:"hidden"}),c.jsxs("div",{className:"w-full px-4 py-3 bg-brand-600 text-white rounded-lg hover:bg-brand-700 transition-colors cursor-pointer text-center font-medium",children:[c.jsx(Es,{className:"inline w-4 h-4 mr-2"}),"Choose Photo"]})]}),C&&c.jsxs("button",{type:"button",onClick:P,className:"w-full px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors text-center font-medium",children:[c.jsx(wt,{className:"inline w-4 h-4 mr-2"}),"Remove Photo"]}),c.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Your initials will be used if no photo is selected"})]})]})}),c.jsxs("div",{className:"flex space-x-3",children:[(n===2||n===3)&&c.jsx("button",{type:"button",onClick:()=>r(n-1),className:"flex-1 px-4 py-3 rounded-lg bg-gray-500 text-white font-medium hover:bg-gray-600 transition-colors",children:"Back"}),c.jsx("button",{type:"submit",className:"flex-1 px-4 py-3 rounded-lg bg-brand-600 text-white font-medium hover:bg-brand-700 transition-colors",children:n===1||n===2?"Continue":"Join Clips"})]}),c.jsx("div",{className:"text-center text-xs text-gray-500 dark:text-gray-400",children:"By joining, you agree to connect with your local community"}),c.jsx("button",{type:"button",onClick:()=>{localStorage.clear(),window.location.reload()},className:"w-full px-3 py-2 rounded bg-gray-500 text-white text-sm hover:bg-gray-600",children:"Clear Data & Refresh (Debug)"})]})})}function Yj(){const{user:e,logout:t,login:n}=$t(),r=yn(),[s,i]=N.useState(!1),o=async l=>{var f;const u=(f=l.target.files)==null?void 0:f[0];if(console.log("File selected:",u),u){i(!0);try{const d=new FileReader;d.onload=p=>{var x;const g=(x=p.target)==null?void 0:x.result;console.log("New avatar URL:",g);const y={...e,avatarUrl:g};console.log("Updated user:",y),n(y),i(!1)},d.readAsDataURL(u)}catch(d){console.error("Error updating profile picture:",d),i(!1)}}},a=()=>{i(!0);const l={...e,avatarUrl:void 0};n(l),i(!1)};return e?c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-brand-50 to-brand-100 dark:from-gray-900 dark:to-gray-800",children:c.jsxs("div",{className:"max-w-2xl mx-auto p-6",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsxs("div",{className:"relative inline-block mb-4 mx-auto",children:[c.jsxs("label",{className:"cursor-pointer group",children:[c.jsx(St,{src:e.avatarUrl,name:e.name,size:"xl",className:"border-4 border-white dark:border-gray-800 shadow-xl group-hover:shadow-2xl transition-all duration-200"}),c.jsx("div",{className:"absolute inset-0 rounded-full bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-all duration-200 flex items-center justify-center",children:c.jsx(Es,{className:"w-6 h-6 text-white opacity-0 group-hover:opacity-100 transition-opacity duration-200"})}),c.jsx("input",{type:"file",accept:"image/*",onChange:o,className:"hidden",disabled:s})]}),e.avatarUrl&&c.jsx("button",{onClick:a,disabled:s,className:"absolute -top-2 -right-2 w-8 h-8 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600 transition-colors shadow-lg",title:"Remove profile picture",children:c.jsx(wt,{className:"w-4 h-4"})})]}),c.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:e.name}),c.jsxs("p",{className:"text-brand-600 dark:text-brand-400 font-medium",children:["@",e.handle]}),c.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:"Tap your profile picture to change it"})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-6 border border-gray-100 dark:border-gray-700",children:[c.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-4 flex items-center",children:[c.jsx("div",{className:"w-8 h-8 bg-brand-100 dark:bg-brand-900 rounded-lg flex items-center justify-center mr-3",children:c.jsx("svg",{className:"w-4 h-4 text-brand-600 dark:text-brand-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),"Personal Information"]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Email"}),c.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:e.email||"Not provided"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Age"}),c.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:e.age||"Not provided"})]})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Member Since"}),c.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Today"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Status"}),c.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",children:"Active"})]})]})]})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-6 border border-gray-100 dark:border-gray-700",children:[c.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-4 flex items-center",children:[c.jsx("div",{className:"w-8 h-8 bg-brand-100 dark:bg-brand-900 rounded-lg flex items-center justify-center mr-3",children:c.jsxs("svg",{className:"w-4 h-4 text-brand-600 dark:text-brand-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),"Location Settings"]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-700 rounded-xl",children:[c.jsx("div",{className:"w-12 h-12 bg-brand-500 rounded-full flex items-center justify-center mx-auto mb-3",children:c.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),c.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-1",children:"Local"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.local||"Not set"})]}),c.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-700 rounded-xl",children:[c.jsx("div",{className:"w-12 h-12 bg-brand-500 rounded-full flex items-center justify-center mx-auto mb-3",children:c.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 21v-4m0 0V5a2 2 0 012-2h6.5l1 1H21l-3 6 3 6h-8.5l-1-1H5a2 2 0 00-2 2zm9-13.5V9"})})}),c.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-1",children:"Regional"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.regional||"Not set"})]}),c.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-700 rounded-xl",children:[c.jsx("div",{className:"w-12 h-12 bg-brand-500 rounded-full flex items-center justify-center mx-auto mb-3",children:c.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),c.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-1",children:"National"}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.national||"Not set"})]})]})]}),e.interests&&e.interests.length>0&&c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-6 border border-gray-100 dark:border-gray-700",children:[c.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-4 flex items-center",children:[c.jsx("div",{className:"w-8 h-8 bg-brand-100 dark:bg-brand-900 rounded-lg flex items-center justify-center mr-3",children:c.jsx("svg",{className:"w-4 h-4 text-brand-600 dark:text-brand-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})}),"Interests"]}),c.jsx("div",{className:"flex flex-wrap gap-3",children:e.interests.map((l,u)=>c.jsx("span",{className:"px-4 py-2 bg-gradient-to-r from-brand-500 to-brand-600 text-white text-sm font-medium rounded-full shadow-sm",children:l},u))})]}),c.jsxs("div",{className:"flex space-x-4",children:[c.jsx("button",{onClick:()=>r("/feed"),className:"flex-1 px-6 py-3 bg-gradient-to-r from-brand-500 to-brand-600 text-white font-semibold rounded-xl shadow-lg hover:from-brand-600 hover:to-brand-700 transition-all duration-200 transform hover:scale-105",children:"Go to News Feed"}),c.jsx("button",{onClick:()=>{t(),r("/login",{replace:!0})},className:"px-6 py-3 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 font-semibold rounded-xl hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"Sign Out"})]})]})]})}):c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-brand-50 to-brand-100 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"w-16 h-16 bg-gray-200 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),c.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"Not Signed In"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Please sign in to view your profile"}),c.jsx("button",{onClick:()=>r("/login"),className:"px-6 py-3 bg-gradient-to-r from-brand-500 to-brand-600 text-white font-semibold rounded-xl shadow-lg hover:from-brand-600 hover:to-brand-700 transition-all duration-200",children:"Sign In"})]})})}function qj(){const[e,t]=N.useState(""),r=[{name:"Cork",users:234,posts:156},{name:"Galway",users:189,posts:98},{name:"Limerick",users:167,posts:87},{name:"Waterford",users:145,posts:76},{name:"Kilkenny",users:123,posts:65},{name:"Sligo",users:98,posts:54},{name:"Donegal",users:87,posts:43},{name:"Kerry",users:76,posts:38}].filter(s=>s.name.toLowerCase().includes(e.toLowerCase()));return c.jsxs("div",{className:"p-4 space-y-4",children:[c.jsxs("div",{className:"text-center mb-6",children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:"Discover Locations"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Explore posts from around Ireland"})]}),c.jsxs("div",{className:"relative",children:[c.jsx(Ef,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),c.jsx("input",{type:"text",value:e,onChange:s=>t(s.target.value),placeholder:"Search locations...",className:"w-full pl-10 pr-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-brand-500 focus:border-transparent"})]}),c.jsx("div",{className:"space-y-3",children:r.length===0?c.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[c.jsx(mn,{size:48,className:"mx-auto mb-4 opacity-50"}),c.jsx("p",{children:"No locations found"}),c.jsx("p",{className:"text-sm",children:"Try a different search term"})]}):r.map(s=>c.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"h-10 w-10 rounded-full bg-brand-100 dark:bg-brand-900 flex items-center justify-center",children:c.jsx(mn,{className:"text-brand-600 dark:text-brand-400"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100",children:s.name}),c.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 dark:text-gray-400",children:[c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(rj,{size:14}),s.users," users"]}),c.jsxs("span",{children:[s.posts," posts"]})]})]})]}),c.jsx("button",{className:"px-4 py-2 rounded-lg bg-brand-600 text-white text-sm font-medium hover:bg-brand-700 transition-colors",children:"Follow"})]},s.name))}),c.jsxs("div",{className:"mt-8",children:[c.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"Popular Tags"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:["#DublinLife","#IrishFood","#TravelIreland","#CityViews","#LocalEvents","#Foodie","#Adventure","#Culture"].map(s=>c.jsx("button",{className:"px-3 py-1.5 rounded-full bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 text-sm hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:s},s))})]})]})}function Kj(){var S;const{user:e}=$t(),t=yn(),[n,r]=N.useState([]),[s,i]=N.useState(0),[o,a]=N.useState(0),[l,u]=N.useState(!0),[f,d]=N.useState(!1),[p,g]=N.useState(0),[y,x]=N.useState(!1),[_,h]=N.useState(!1),[m,v]=N.useState(!1),[w,b]=N.useState(""),C=N.useCallback(async()=>{if(!(e!=null&&e.id)){u(!1);return}try{const E=await vm(e.id);r(E)}catch(E){console.error("Error loading stories:",E)}finally{u(!1)}},[e==null?void 0:e.id]);N.useEffect(()=>{C()},[C]);async function k(E){if(!E||!(e!=null&&e.id)||!E.stories||E.stories.length===0)return;const R=await Fj(e.id,E.userId);if(!R||R.length===0)return;const H=n.findIndex(W=>W.userId===E.userId);H!==-1&&(r(W=>{const re=[...W];return re[H]={...E,stories:R},re}),i(H),a(0),d(!0),g(0),x(!1))}function j(){d(!1),g(0),x(!1)}function O(){const E=n[s];E&&(o<E.stories.length-1?(a(o+1),g(0)):s<n.length-1?(i(s+1),a(0),g(0)):j())}function I(){if(o>0)a(o-1),g(0);else if(s>0){i(s-1);const E=n[s-1];a((E==null?void 0:E.stories.length)-1||0),g(0)}}async function A(E){if(!(!z||!(e!=null&&e.id)||!(e!=null&&e.handle)))try{await Bj(z.id,e.id,e.handle,E),h(!1);const R=await vm(e.id);r(R)}catch(R){console.error("Error adding reaction:",R)}}async function G(){if(!(!z||!(e!=null&&e.id)||!(e!=null&&e.handle)||!w.trim()))try{await Hj(z.id,e.id,e.handle,w),b(""),v(!1)}catch(E){console.error("Error adding reply:",E)}}if(N.useEffect(()=>{if(!f||y||!(e!=null&&e.id))return;const E=n[s];if(!E||!E.stories)return;const R=E.stories[o];if(!R)return;Uj(R.id,e.id).catch(console.error),zj(R.id).catch(console.error);const H=5e3,W=50;let re=0;const we=setInterval(()=>{re+=W;const Ge=Math.min(re/H*100,100);g(Ge),Ge>=100&&(clearInterval(we),setTimeout(()=>{O()},300))},W);return()=>clearInterval(we)},[f,s,o,y,n]),N.useEffect(()=>{if(!f)return;function E(R){R.key==="ArrowLeft"?(R.preventDefault(),I()):R.key==="ArrowRight"?(R.preventDefault(),O()):R.key==="Escape"?(R.preventDefault(),j()):R.key===" "&&(R.preventDefault(),x(H=>!H))}return window.addEventListener("keydown",E),()=>window.removeEventListener("keydown",E)},[f,s,o,n]),l)return c.jsx("div",{className:"flex items-center justify-center min-h-screen",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"w-12 h-12 border-4 border-green-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading stories..."})]})});if(!e)return c.jsx("div",{className:"flex items-center justify-center min-h-screen",children:c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Please sign in to view stories."}),c.jsx("button",{onClick:()=>t("/login"),className:"mt-4 px-4 py-2 rounded-full bg-gradient-to-tr from-green-500 via-blue-500 to-blue-600 text-white font-medium hover:opacity-90 transition-opacity",children:"Sign In"})]})});const U=n[s],z=(S=U==null?void 0:U.stories)==null?void 0:S[o],M=n.length>0;if(f&&z&&U&&U.stories)return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"fixed inset-0 bg-black z-50",children:[c.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gray-800 z-50 flex gap-1 px-4 py-2",children:U.stories.map((E,R)=>c.jsx("div",{className:"flex-1 bg-gray-700 rounded-full overflow-hidden",children:c.jsx("div",{className:`h-full transition-all duration-100 ${R<o||R===o&&!y?"bg-white":"bg-gray-700"}`,style:{width:R<o?"100%":R===o?`${p}%`:"0%",transitionDuration:R===o&&!y?"50ms":"100ms"}})},E.id))}),c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:z.mediaType==="video"?c.jsx("video",{src:z.mediaUrl,className:"w-full h-full object-contain",autoPlay:!0,loop:!0,muted:!0,playsInline:!0}):c.jsx("img",{src:z.mediaUrl,alt:"",className:"w-full h-full object-contain",draggable:!1})}),c.jsx("div",{className:"absolute inset-0 pointer-events-none",children:c.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/60 via-transparent to-black/60"})}),c.jsx("div",{className:"absolute top-16 left-0 right-0 px-6 z-50",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(St,{src:U.avatarUrl,name:U.name,size:"sm"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-white font-semibold",children:U.userHandle}),z.location&&c.jsx("p",{className:"text-white/70 text-xs",children:z.location})]})]}),c.jsx("button",{onClick:j,className:"pointer-events-auto p-2 rounded-full hover:bg-white/20 transition-colors",children:c.jsx(wt,{className:"w-6 h-6 text-white"})})]})}),z.text&&c.jsx("div",{className:"absolute bottom-20 left-0 right-0 px-6 z-50 pointer-events-none",children:c.jsx("p",{className:`font-semibold ${z.textSize==="small"?"text-sm":z.textSize==="large"?"text-2xl":"text-lg"}`,style:{color:z.textColor||"white",textShadow:"2px 2px 4px rgba(0,0,0,0.8), -1px -1px 0 rgba(0,0,0,0.8), 1px -1px 0 rgba(0,0,0,0.8), -1px 1px 0 rgba(0,0,0,0.8)"},children:z.text})}),c.jsx("div",{className:"absolute bottom-6 left-0 right-0 px-6 z-[60] pointer-events-none",children:c.jsxs("div",{className:"flex items-center justify-center gap-6",children:[c.jsxs("div",{className:"relative z-[70]",children:[c.jsx("button",{onClick:E=>{E.stopPropagation(),h(!_)},className:"pointer-events-auto w-12 h-12 rounded-full bg-white/20 backdrop-blur-sm flex items-center justify-center hover:bg-white/30 transition-colors",children:z.userReaction?c.jsx("span",{className:"text-2xl",children:z.userReaction}):c.jsx(La,{className:"w-6 h-6 text-white"})}),_&&c.jsx("div",{className:"absolute bottom-16 left-1/2 transform -translate-x-1/2 bg-white/90 backdrop-blur-sm rounded-2xl px-4 py-3 shadow-xl flex gap-3 z-[80] pointer-events-auto",children:["","","","","",""].map(E=>c.jsx("button",{onClick:R=>{R.stopPropagation(),A(E)},className:"text-2xl hover:scale-125 transition-transform",children:E},E))})]}),c.jsx("button",{onClick:E=>{E.stopPropagation(),v(!0)},className:"pointer-events-auto z-[70] w-12 h-12 rounded-full bg-white/20 backdrop-blur-sm flex items-center justify-center hover:bg-white/30 transition-colors",children:c.jsx(ej,{className:"w-6 h-6 text-white"})})]})}),c.jsxs("div",{className:"absolute inset-0 flex",children:[c.jsx("button",{onClick:I,className:"flex-1 flex items-center justify-start px-6",children:c.jsx("div",{className:"pointer-events-auto",children:c.jsx(GI,{className:"w-8 h-8 text-white/60 hover:text-white transition-colors"})})}),c.jsx("button",{onClick:O,className:"flex-1 flex items-center justify-end px-6",children:c.jsx("div",{className:"pointer-events-auto",children:c.jsx(YI,{className:"w-8 h-8 text-white/60 hover:text-white transition-colors"})})})]})]}),m&&z&&c.jsx("div",{className:"fixed inset-0 z-60 bg-black/60 backdrop-blur-sm flex items-end",onClick:()=>v(!1),children:c.jsxs("div",{className:"w-full bg-white dark:bg-gray-900 rounded-t-3xl p-6 animate-in slide-in-from-bottom duration-300",onClick:E=>E.stopPropagation(),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:["Reply to ",U==null?void 0:U.userHandle]}),c.jsx("button",{onClick:()=>v(!1),className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:c.jsx(wt,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})})]}),c.jsx("textarea",{value:w,onChange:E=>b(E.target.value),placeholder:"Type a reply...",className:"w-full h-24 p-3 rounded-xl border border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 resize-none focus:ring-2 focus:ring-brand-500 focus:border-transparent",autoFocus:!0}),c.jsx("button",{onClick:G,disabled:!w.trim(),className:"mt-4 w-full py-3 rounded-xl bg-gradient-to-tr from-green-500 via-blue-500 to-blue-600 text-white font-semibold disabled:opacity-50 disabled:cursor-not-allowed hover:opacity-90 transition-opacity",children:"Send Reply"})]})})]});const P=N.useMemo(()=>[...n].filter(E=>E.stories&&E.stories.length>0).sort((E,R)=>{const H=E.stories.length>0?Math.max(...E.stories.map(re=>re.createdAt)):0;return(R.stories.length>0?Math.max(...R.stories.map(re=>re.createdAt)):0)-H}),[n]),B=E=>{const R=Math.floor((Date.now()-E)/1e3);return R<60?"Active now":R<3600?`Active ${Math.floor(R/60)}m ago`:R<86400?`Active ${Math.floor(R/3600)}h ago`:R<604800?`Active ${Math.floor(R/86400)}d ago`:`Active ${Math.floor(R/604800)}w ago`};return c.jsxs("div",{className:"p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Stories"}),c.jsx("button",{onClick:()=>t("/feed"),className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:c.jsx(wt,{className:"w-6 h-6 text-gray-600 dark:text-gray-400"})})]}),M?c.jsx("div",{className:"space-y-2",children:P.map((E,R)=>{if(!E.stories||E.stories.length===0)return null;const H=E.stories.some(we=>!we.hasViewed),W=E.stories.reduce((we,Ge)=>Ge.createdAt>we.createdAt?Ge:we),re=B(W.createdAt);return c.jsxs("button",{onClick:()=>k(E),className:"w-full flex items-center gap-3 p-3 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:[c.jsx("div",{className:"relative flex-shrink-0",children:H?c.jsx("div",{className:"w-14 h-14 rounded-full bg-gradient-to-tr from-green-500 via-blue-500 to-blue-600 p-0.5 animate-pulse",children:c.jsx("div",{className:"w-full h-full rounded-full bg-gray-950 flex items-center justify-center",children:c.jsx(St,{src:E.avatarUrl,name:E.name,size:"lg"})})}):c.jsx("div",{className:"w-14 h-14 rounded-full",children:c.jsx(St,{src:E.avatarUrl,name:E.name,size:"lg"})})}),c.jsxs("div",{className:"flex-1 text-left min-w-0",children:[c.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100 truncate",children:E.userHandle}),c.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:re})]})]},E.userId)})}):c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-tr from-green-500 via-blue-500 to-blue-600 flex items-center justify-center mx-auto mb-4",children:c.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-950 flex items-center justify-center",children:c.jsx("div",{className:"w-8 h-8 border-2 border-white/30 rounded-full flex items-center justify-center",children:c.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"})})})}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"No stories available"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Share your first story to get started!"}),c.jsx("button",{onClick:()=>t("/create"),className:"mt-4 px-6 py-3 rounded-full bg-gradient-to-tr from-green-500 via-blue-500 to-blue-600 text-white font-medium hover:opacity-90 transition-opacity",children:"Create Story"})]})]})}const Xj=({name:e})=>c.jsx("div",{className:"p-6",children:e});function Qj(){return c.jsx(kf,{fallback:c.jsx("div",{className:"p-6 text-red-600",children:"Something went wrong."}),children:c.jsx(oj,{children:c.jsx(Dj,{children:c.jsx(Dw,{children:c.jsx(Pw,{children:c.jsxs(It,{path:"/",element:c.jsx(ix,{}),children:[c.jsx(It,{index:!0,element:c.jsx(Rw,{to:"/feed",replace:!0})}),c.jsx(It,{path:"feed",element:c.jsx(ox,{})}),c.jsx(It,{path:"create",element:c.jsx(Vj,{})}),c.jsx(It,{path:"login",element:c.jsx(Gj,{})}),c.jsx(It,{path:"boost",element:c.jsx(Xj,{name:"Boost"})}),c.jsx(It,{path:"clip",element:c.jsx(Wj,{})}),c.jsx(It,{path:"stories",element:c.jsx(Kj,{})}),c.jsx(It,{path:"search",element:c.jsx(qj,{})}),c.jsx(It,{path:"profile",element:c.jsx(Yj,{})})]})})})})})})}function Jj(){({}).VITE_SENTRY_DSN&&RI({dsn:{}.VITE_SENTRY_DSN,release:{}.VITE_RELEASE_VERSION,integrations:[ME(),II()],tracesSampleRate:.1,replaysSessionSampleRate:.1,replaysOnErrorSampleRate:1,environment:"production"})}Jj();px(()=>import("./vitals-19dc2f25.js"),[]).then(e=>e.initVitals());mc.createRoot(document.getElementById("root")).render(c.jsx(N.StrictMode,{children:c.jsx(Qj,{})}));
